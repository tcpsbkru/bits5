function copyToClipboard(t){var e=$("<input>");$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove()}function auditFileLoad(){$(document).on("click",".audit-data--users .audit-data__btn, .audit-data--daas .audit-data__btn",function(){"get-hash"==$(this).data("target")?copyToClipboard($(this).data("hash")):copyToClipboard(JSON.stringify({root:{hash:$(this).data("hash"),sum:$(this).data("sum")},currency:$(this).data("ticker"),timestamp:15229116e5}))})}function daaListLoad(){$.getJSON("https://s3-eu-west-1.amazonaws.com/iconomi/daaList",function(t){$(".daa-list__body tr").remove();for(var e=0;e<t.length;e++){var n=(100*Number(t[e].changeStatistics.WEEK)).toFixed(2),r=(100*Number(t[e].changeStatistics.MONTH)).toFixed(2),i=(100*Number(t[e].changeStatistics.THREE_MONTH)).toFixed(2),o=(100*Number(t[e].changeStatistics.SIX_MONTH)).toFixed(2),a=Number(t[e].aum).toFixed(2),s=(100*Number(t[e].btcAmount)).toFixed(0),u=(100*Number(t[e].ethAmount)).toFixed(0),l=(100*Number(t[e].entryFee)+100*Number(t[e].exitFee)).toFixed(2);if(t[e].managementFee)var c=(100*Number(t[e].managementFee)).toFixed(2);else if(t[e].performanceFee)c=(100*Number(t[e].performanceFee)).toFixed(2);$(".daa-list__body").append('<tr><td></td><td class="td--daa-name"><a href="/dashboard/daa/'+t[e].ticker+'" target="_blank">'+t[e].name+'</td><td><a href="/dashboard/daa/'+t[e].ticker+'" target="_blank">'+t[e].ticker+'</td><td class="td--daa-manager">'+t[e].manager+'</td><td class="daa-list__align-right">'+c+'%</td><td class="daa-list__align-right td--nan-fix td--exit-entry-fee">'+l+'%</td><td class="daa-list__align-right td--colored td--nan-fix mobile__hidden">'+n+'%</td><td class="daa-list__align-right td--colored td--nan-fix">'+r+'%</td><td class="daa-list__align-right td--colored td--nan-fix">'+i+'%</td><td class="daa-list__align-right td--colored td--nan-fix">'+o+'%</td><td class="daa-list__align-right td--aum-value">$'+a+'</td><td class="daa-list__align-center">'+t[e].assetsCount+'</td><td class="daa-list__align-right td--nan-fix mobile__hidden">'+s+'%</td><td class="daa-list__align-right td--nan-fix mobile__hidden">'+u+"%</td></tr>")}$(".td--colored").each(function(){var t=$(this).html().charAt(0);if("-"===t)$(this).addClass("daa-list__negative");else if("+"!==t){0<=$(this).text().replace(/[^a-z0-9\s]/gi,"")&&$(this).prepend("+").addClass("daa-list__positive")}else{0<=$(this).text().replace(/[^a-z0-9\s]/gi,"")&&$(this).addClass("daa-list__positive")}}),$(".td--nan-fix").each(function(){"N"===$(this).html().charAt(0)&&$(this).html("N/A")}),$(".daa-list__body tr").each(function(t){$("td:first",this).html(t+1)}),$(".td--aum-value").each(function(){$(this).formatNumber()}),$(".daa__list").tablesorter({sortRestart:!0,headers:{5:{sortInitialOrder:"desc"},6:{sorter:"change",sortInitialOrder:"desc"},7:{sorter:"change",sortInitialOrder:"desc"},8:{sorter:"change",sortInitialOrder:"desc"},9:{sorter:"change",sortInitialOrder:"desc"},10:{sorter:"decimal",sortInitialOrder:"desc"},11:{sortInitialOrder:"desc"},12:{sortInitialOrder:"desc"},13:{sortInitialOrder:"desc"}}})}),$.tablesorter.addParser({id:"decimal",is:function(){return!1},format:function(t){return t.replace("$","").replace(/,/g,"")},type:"numeric"}),$.tablesorter.addParser({id:"change",is:function(){return!1},format:function(t){return"N/A"===t?Number.MIN_VALUE:Number(t.replace("+","").replace("%",""))},type:"numeric"}),$(".daa__list").bind("sortEnd",function(){$(".daa-list__body tr").each(function(t){$("td:first",this).html(t+1)})})}function eventsMainPage(){768<=$(window).width()&&$(".past-events__wrapper").each(function(){$(this).find(".events__event-link").height("auto");for(var t=[],e=0;e<$(this).find(".events__event-link").length;e++){var n=$(this).find(".events__event-link").eq(e).outerHeight();t.push(n)}$(this).find(".events__event-link").outerHeight(Math.max.apply(Math,t))})}function eventsFunction(){function t(t){return/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(t)}var e=$("form#event__form"),n="https://script.google.com/macros/s/AKfycbyam7g2bQz0tLjAked2FGG4gy7ieiwv6jYVgDOCdlpLc0uhJUs/exec";$("#submit-form").on("click",function(t){t.preventDefault()}),$(".btn__overlay-toggle").on("click",function(t){t.preventDefault(),$(".form__overlay").toggleClass("overlay__visible")}),$(".btn__submit").on("click",function(){if($("#event__form input[name!='company']").each(function(){0==$.trim($(this).val()).length?$(this).addClass("error__show"):$(this).is("#email_input")?t($("#email_input").val())?$(this).removeClass("error__show"):$(this).addClass("error__show"):$(this).removeClass("error__show")}),$(".radio__interest").is(":checked")?$(".error__interest").removeClass("error__active"):$(".error__interest").addClass("error__active"),$(".radio__experience").is(":checked")?$(".error__experience").removeClass("error__active"):$(".error__experience").addClass("error__active"),$(".radio__interest").is(":checked")&&$(".radio__experience").is(":checked")&&!$("#event__form input").is(".error__show")){$(".form-overlay__content").addClass("form__submited");$.ajax({url:n,method:"GET",dataType:"json",data:e.serializeObject()})}}),$("#event__form input").on("focus",function(){$(this).hasClass("radio__interest")?$(".error__interest").removeClass("error__active"):$(this).hasClass("radio__experience")?$(".error__experience").removeClass("error__active"):$(this).removeClass("error__show")})}function homePageChart(){var e=d3.time.format.multi([["%d %b %H:%M",function(){return!0}]]),n=nv.models.lineChart();n.type="lineChart",n.useInteractiveGuideline(!0),n.showLegend(!1),n.x(function(t){return t.x?1e3*t.x.seconds:null}),n.xAxis.tickFormat(function(t){return e(new Date(t))}).showMaxMin(!1),n.y(function(t){return t.y?t.y.tokenPrice:null}),n.yAxis.tickFormat(function(t){return"$"+Number(t).toFixed(4)}).showMaxMin(!1),n.tooltip.valueFormatter(function(t){return"$"+Number(t).toFixed(4)}),d3.json("https://s3-eu-west-1.amazonaws.com/iconomi/BLX-chart",function(t,e){t||d3.select("#chart").datum([{values:e.chartData}]).call(n)}),d3.json("https://s3-eu-west-1.amazonaws.com/iconomi/BLX-fund-stat",function(t,e){if(null!=e.returnList)for(var n=0;n<e.returnList.length;n++){if("1W Return"==e.returnList[n].name){var r=(100*e.returnList[n].returnValue).toFixed(2);$("#weekReturnValue").html(r+" %"),console.log("1W"+r)}if("1M Return"==e.returnList[n].name){var i=(100*e.returnList[n].returnValue).toFixed(2);$("#monthReturnValue").html(i+" %"),console.log("1W"+i)}}else $("#weekReturnValue").html("Data N/A"),$("#monthReturnValue").html("Data N/A")}),d3.select(window).on("scroll."+n.id(),function(){n.tooltip.hidden(!0),n.interactiveLayer.tooltip.hidden(!0)})}function sortByKey(t,i){return t.sort(function(t,e){var n=t.changeStatistics[i],r=e.changeStatistics[i];return"number"!=typeof n&&(n=-Number.MAX_SAFE_INTEGER),"number"!=typeof r&&(r=-Number.MAX_SAFE_INTEGER),n==r?0:r<n?-1:1})}function topThreeCharts(){$.getJSON("https://s3-eu-west-1.amazonaws.com/iconomi/daaList",function(t){sortByKey(t,"SIX_MONTH");for(var n=1,e=0;e<3;e++){var r=t[e].ticker,i=t[e].name;$(".top-graphs__item:nth-child("+(e+1)+")").attr({"data-ticker":r,"data-currency":i}).find(".top-graphs-link").attr("href","/dashboard/daa/"+r);var o=$(".top-graphs__item:nth-child("+(e+1)+")[data-ticker="+r+"] .top-graphs-item__change-1d"),a=$(".top-graphs__item:nth-child("+(e+1)+")[data-ticker="+r+"] .top-graphs-item__change-3m"),s=$(".top-graphs__item:nth-child("+(e+1)+")[data-ticker="+r+"] .top-graphs-item__change-6m"),u=(100*Number(t[e].changeStatistics.WEEK)).toFixed(2);$(o).text(u+"%"),u<0&&$(o).addClass("negative-change");var l=(100*Number(t[e].changeStatistics.THREE_MONTH)).toFixed(2);$(a).text(l+"%"),l<0&&$(a).addClass("negative-change");var c=(100*Number(t[e].changeStatistics.SIX_MONTH)).toFixed(2);$(s).text(c+"%"),c<0&&$(s).addClass("negative-change"),$.getJSON("https://s3-eu-west-1.amazonaws.com/iconomi/"+r+"-chart",function(e){for(var t=0;t<e.chartData.length;t++)t%10!=0&&e.chartData.splice(t,10);nv.addGraph(function(){var t=nv.models.lineChart().interpolate("basis").x(function(t){return t.x?1e3*t.x.seconds:null}).y(function(t){return t.y?t.y.tokenPrice:null}).useInteractiveGuideline(!0).showLegend(!1).showYAxis(!1).showXAxis(!1).margin({left:20}).height(150);d3.select(".top-graphs__item:nth-child("+n+") .chartItem").datum([{values:e.chartData}]).call(t),n+=1})})}})}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){function s(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,r){if(ht.isFunction(n))return ht.grep(t,function(t,e){return!!n.call(t,e,t)!==r});if(n.nodeType)return ht.grep(t,function(t){return t===n!==r});if("string"==typeof n){if(St.test(n))return ht.filter(n,t,r);n=ht.filter(n,t)}return ht.grep(t,function(t){return-1<ht.inArray(t,n)!==r})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var n={};return ht.each(t.match(Nt)||[],function(t,e){n[e]=!0}),n}function i(){rt.addEventListener?(rt.removeEventListener("DOMContentLoaded",o),S.removeEventListener("load",o)):(rt.detachEvent("onreadystatechange",o),S.detachEvent("onload",o))}function o(){(rt.addEventListener||"load"===S.event.type||"complete"===rt.readyState)&&(i(),ht.ready())}function u(t,e,n){if(n===undefined&&1===t.nodeType){var r="data-"+e.replace(It,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Rt.test(n)?ht.parseJSON(n):n)}catch(i){}ht.data(t,e,n)}else n=undefined}return n}function l(t){var e;for(e in t)if(("data"!==e||!ht.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function r(t,e,n,r){if(Lt(t)){var i,o,a=ht.expando,s=t.nodeType,u=s?ht.cache:t,l=s?t[a]:t[a]&&a;if(l&&u[l]&&(r||u[l].data)||n!==undefined||"string"!=typeof e)return l||(l=s?t[a]=nt.pop()||ht.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ht.noop}),"object"!=typeof e&&"function"!=typeof e||(r?u[l]=ht.extend(u[l],e):u[l].data=ht.extend(u[l].data,e)),o=u[l],r||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[ht.camelCase(e)]=n),"string"==typeof e?null==(i=o[e])&&(i=o[ht.camelCase(e)]):i=o,i}}function a(t,e,n){if(Lt(t)){var r,i,o=t.nodeType,a=o?ht.cache:t,s=o?t[ht.expando]:ht.expando;if(a[s]){if(e&&(r=n?a[s]:a[s].data)){i=(e=ht.isArray(e)?e.concat(ht.map(e,ht.camelCase)):e in r?[e]:(e=ht.camelCase(e))in r?[e]:e.split(" ")).length;for(;i--;)delete r[e[i]];if(n?!l(r):!ht.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ht.cleanData([t],!0):ft.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function f(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return ht.css(t,e,"")},u=s(),l=n&&n[3]||(ht.cssNumber[e]?"":"px"),c=(ht.cssNumber[e]||"px"!==l&&+u)&&$t.exec(ht.css(t,e));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",ht.style(t,e,c+l),o!==(o=s()/u)&&1!==o&&--a;);return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function m(t){var e=Xt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,r,i=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(r=n[i]);i++)!e||ht.nodeName(r,e)?o.push(r):ht.merge(o,v(r,e));return e===undefined||e&&ht.nodeName(t,e)?ht.merge([t],o):o}function y(t,e){for(var n,r=0;null!=(n=t[r]);r++)ht._data(n,"globalEval",!e||ht._data(e[r],"globalEval"))}function b(t){qt.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,r,i){for(var o,a,s,u,l,c,f,d=t.length,h=m(e),p=[],g=0;g<d;g++)if((a=t[g])||0===a)if("object"===ht.type(a))ht.merge(p,a.nodeType?[a]:a);else if(Kt.test(a)){for(u=u||h.appendChild(e.createElement("div")),l=(zt.exec(a)||["",""])[1].toLowerCase(),f=Yt[l]||Yt._default,u.innerHTML=f[1]+ht.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!ft.leadingWhitespace&&Ut.test(a)&&p.push(e.createTextNode(Ut.exec(a)[0])),!ft.tbody)for(o=(a="table"!==l||Gt.test(a)?"<table>"!==f[1]||Gt.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)ht.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ht.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=h.lastChild}else p.push(e.createTextNode(a));for(u&&h.removeChild(u),ft.appendChecked||ht.grep(v(p,"input"),b),g=0;a=p[g++];)if(r&&-1<ht.inArray(a,r))i&&i.push(a);else if(s=ht.contains(a.ownerDocument,a),u=v(h.appendChild(a),"script"),s&&y(u),n)for(o=0;a=u[o++];)Vt.test(a.type||"")&&n.push(a);return u=null,h}function d(){return!0}function h(){return!1}function p(){try{return rt.activeElement}catch(t){}}function x(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=undefined),e)x(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=undefined):null==i&&("string"==typeof n?(i=r,r=undefined):(i=r,r=n,n=undefined)),!1===i)i=h;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return ht().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,i,r,n)})}function w(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==ht.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){if(1===e.nodeType&&ht.hasData(t)){var n,r,i,o=ht._data(t),a=ht._data(e,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)ht.event.add(e,n,s[n][r]);a.data&&(a.data=ht.extend({},a.data))}}function A(t,e){var n,r,i;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ft.noCloneEvent&&e[ht.expando]){for(r in(i=ht._data(e)).events)ht.removeEvent(e,r,i.handle);e.removeAttribute(ht.expando)}"script"===n&&e.text!==t.text?(k(e).text=t.text,C(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ft.html5Clone&&t.innerHTML&&!ht.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&qt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function E(n,r,i,o){r=ot.apply([],r);var t,e,a,s,u,l,c=0,f=n.length,d=f-1,h=r[0],p=ht.isFunction(h);if(p||1<f&&"string"==typeof h&&!ft.checkClone&&ae.test(h))return n.each(function(t){var e=n.eq(t);p&&(r[0]=h.call(this,t,e.html())),E(e,r,i,o)});if(f&&(t=(l=g(r,n[0].ownerDocument,!1,n,o)).firstChild,1===l.childNodes.length&&(l=t),t||o)){for(a=(s=ht.map(v(l,"script"),k)).length;c<f;c++)e=l,c!==d&&(e=ht.clone(e,!0,!0),a&&ht.merge(s,v(e,"script"))),i.call(n[c],e,c);if(a)for(u=s[s.length-1].ownerDocument,ht.map(s,C),c=0;c<a;c++)e=s[c],Vt.test(e.type||"")&&!ht._data(e,"globalEval")&&ht.contains(u,e)&&(e.src?ht._evalUrl&&ht._evalUrl(e.src):ht.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ue,"")));l=t=null}return n}function _(t,e,n){for(var r,i=e?ht.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ht.cleanData(v(r)),r.parentNode&&(n&&ht.contains(r.ownerDocument,r)&&y(v(r,"script")),r.parentNode.removeChild(r));return t}function T(t,e){var n=ht(e.createElement(t)).appendTo(e.body),r=ht.css(n[0],"display");return n.detach(),r}function N(t){var e=rt,n=fe[t];return n||("none"!==(n=T(t,e))&&n||((e=((ce=(ce||ht("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ce[0].contentDocument).document).write(),e.close(),n=T(t,e),ce.detach()),fe[t]=n),n}function D(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function L(t){if(t in Ae)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Me.length;n--;)if((t=Me[n]+e)in Ae)return t}function R(t,e){for(var n,r,i,o=[],a=0,s=t.length;a<s;a++)(r=t[a]).style&&(o[a]=ht._data(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Wt(r)&&(o[a]=ht._data(r,"olddisplay",N(r.nodeName)))):(i=Wt(r),(n&&"none"!==n||!i)&&ht._data(r,"olddisplay",i?n:ht.css(r,"display"))));for(a=0;a<s;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function I(t,e,n){var r=ke.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function F(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ht.css(t,n+Bt[o],!0,i)),r?("content"===n&&(a-=ht.css(t,"padding"+Bt[o],!0,i)),"margin"!==n&&(a-=ht.css(t,"border"+Bt[o]+"Width",!0,i))):(a+=ht.css(t,"padding"+Bt[o],!0,i),"padding"!==n&&(a+=ht.css(t,"border"+Bt[o]+"Width",!0,i)));return a}function O(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=me(t),a=ft.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=ve(t,e,o))<0||null==i)&&(i=t.style[e]),he.test(i))return i;r=a&&(ft.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+F(t,e,n||(a?"border":"content"),r,o)+"px"}function P(t,e,n,r,i){return new P.prototype.init(t,e,n,r,i)}function H(){return S.setTimeout(function(){Ee=undefined}),Ee=ht.now()}function $(t,e){var n,r={height:t},i=0;for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Bt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function B(t,e,n){for(var r,i=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function W(e,t,n){var r,i,o,a,s,u,l,c=this,f={},d=e.style,h=e.nodeType&&Wt(e),p=ht._data(e,"fxshow");for(r in n.queue||(null==(s=ht._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ht.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=ht.css(e,"display"))?ht._data(e,"olddisplay")||N(e.nodeName):l)&&"none"===ht.css(e,"float")&&(ft.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ft.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(i=t[r],Ie.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!p||p[r]===undefined)continue;h=!0}f[r]=p&&p[r]||ht.style(e,r)}else l=undefined;if(ht.isEmptyObject(f))"inline"===("none"===l?N(e.nodeName):l)&&(d.display=l);else for(r in p?"hidden"in p&&(h=p.hidden):p=ht._data(e,"fxshow",{}),o&&(p.hidden=!h),h?ht(e).show():c.done(function(){ht(e).hide()}),c.done(function(){var t;for(t in ht._removeData(e,"fxshow"),f)ht.style(e,t,f[t])}),f)a=B(h?p[r]:0,r,c),r in p||(p[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function j(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=ht.camelCase(n)],o=t[n],ht.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=ht.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}function q(o,t,e){var n,a,r=0,i=q.prefilters.length,s=ht.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var t=Ee||H(),e=Math.max(0,l.startTime+l.duration-t),n=1-(e/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,e]),n<1&&i?e:(s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ht.extend({},t),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},e),originalProperties:t,originalOptions:e,startTime:Ee||H(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ht.Tween(o,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var e=0,n=t?l.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)l.tweens[e].run(1);return t?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,t])):s.rejectWith(o,[l,t]),this}}),c=l.props;for(j(c,l.opts.specialEasing);r<i;r++)if(n=q.prefilters[r].call(l,o,c,l.opts))return ht.isFunction(n.stop)&&(ht._queueHooks(l.elem,l.opts.queue).stop=ht.proxy(n.stop,n)),n;return ht.map(c,B,l),ht.isFunction(l.opts.start)&&l.opts.start.call(o,l),ht.fx.timer(ht.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return ht.attr(t,"class")||""}function V(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(Nt)||[];if(ht.isFunction(e))for(;n=i[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function U(e,i,o,a){function s(t){var r;return u[t]=!0,ht.each(e[t]||[],function(t,e){var n=e(i,o,a);return"string"!=typeof n||l||u[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),r}var u={},l=e===an;return s(i.dataTypes[0])||!u["*"]&&s("*")}function X(t,e){var n,r,i=ht.ajaxSettings.flatOptions||{};for(r in e)e[r]!==undefined&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&ht.extend(!0,t,n),t}function Y(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function K(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function G(t){return t.style&&t.style.display||ht.css(t,"display")}function Z(t){if(!ht.contains(t.ownerDocument||rt,t))return!0;for(;t&&1===t.nodeType;){if("none"===G(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(n,t,r,i){var e;if(ht.isArray(t))ht.each(t,function(t,e){r||fn.test(n)?i(n,e):J(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,i)});else if(r||"object"!==ht.type(t))i(n,t);else for(e in t)J(n+"["+e+"]",t[e],r,i)}function Q(){try{return new S.XMLHttpRequest}catch(t){}}function tt(){try{return new S.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ht.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],rt=S.document,it=nt.slice,ot=nt.concat,at=nt.push,st=nt.indexOf,ut={},lt=ut.toString,ct=ut.hasOwnProperty,ft={},dt="1.12.4",ht=function(t,e){return new ht.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:dt,constructor:ht,selector:"",length:0,toArray:function(){return it.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:it.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ht.each(this,t)},map:function(n){return this.pushStack(ht.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},ht.extend=ht.fn.extend=function(t){var e,n,r,i,o,a,s=t||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"==typeof s||ht.isFunction(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],s!==(r=o[i])&&(c&&r&&(ht.isPlainObject(r)||(n=ht.isArray(r)))?(n?(n=!1,a=e&&ht.isArray(e)?e:[]):a=e&&ht.isPlainObject(e)?e:{},s[i]=ht.extend(c,a,r)):r!==undefined&&(s[i]=r));return s},ht.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray||function(t){return"array"===ht.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ht.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ht.type(t)||t.nodeType||ht.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ft.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return e===undefined||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ut[lt.call(t)]||"object":typeof t},globalEval:function(t){t&&ht.trim(t)&&(S.execScript||function(t){S.eval.call(S,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ht.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var r;if(e){if(st)return st.call(e,t,n);for(r=e.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;)t[i++]=e[r++];if(n!=n)for(;e[r]!==undefined;)t[i++]=e[r++];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(s(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(i=t[e],e=t,t=i),ht.isFunction(t)?(n=it.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(it.call(arguments)))}).guid=t.guid=t.guid||ht.guid++,r):undefined},now:function(){return+new Date},support:ft}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=nt[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ut["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function x(t,e,n,r){var i,o,a,s,u,l,c,f,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!r&&((e?e.ownerDocument||e:B)!==L&&D(e),e=e||L,I)){if(11!==h&&(l=vt.exec(t)))if(i=l[1]){if(9===h){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&H(e,a)&&a.id===i)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=l[3])&&v.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(v.qsa&&!V[t+" "]&&(!F||!F.test(t))){if(1!==h)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,"\\$&"):e.setAttribute("id",s=$),o=(c=M(t)).length,u=dt.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=u+" "+m(c[o]);f=c.join(","),d=yt.test(t)&&g(e.parentNode)||e}if(f)try{return J.apply(n,d.querySelectorAll(f)),n}catch(p){}finally{s===$&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,r)}function t(){function n(t,e){return r.push(t+" ")>k.cacheLength&&delete n[r.shift()],n[t+" "]=e}var r=[];return n}function u(t){return t[$]=!0,t}function i(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),r=n.length;r--;)k.attrHandle[n[r]]=e}function l(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function r(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return u(function(o){return o=+o,u(function(t,e){for(var n,r=a([],t.length,o),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function m(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(s,t,e){var u=t.dir,l=e&&"parentNode"===u,c=j++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||l)return s(t,e,n)}:function(t,e,n){var r,i,o,a=[W,c];if(n){for(;t=t[u];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||l){if((r=(i=(o=t[$]||(t[$]={}))[t.uniqueID]||(o[t.uniqueID]={}))[u])&&r[0]===W&&r[1]===c)return a[2]=r[2];if((i[u]=a)[2]=s(t,e,n))return!0}}}function d(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function y(t,e,n){for(var r=0,i=e.length;r<i;r++)x(t,e[r],n);return n}function w(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function b(h,p,g,m,v,t){return m&&!m[$]&&(m=b(m)),v&&!v[$]&&(v=b(v,t)),u(function(t,e,n,r){var i,o,a,s=[],u=[],l=e.length,c=t||y(p||"*",n.nodeType?[n]:n,[]),f=!h||!t&&p?c:w(c,s,h,n,r),d=g?v||(t?h:l||m)?[]:e:f;if(g&&g(f,d,n,r),m)for(i=w(d,u),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(d[u[o]]=!(f[u[o]]=a));if(t){if(v||h){if(v){for(i=[],o=d.length;o--;)(a=d[o])&&i.push(f[o]=a);v(null,d=[],i,r)}for(o=d.length;o--;)(a=d[o])&&-1<(i=v?tt(t,a):s[o])&&(t[i]=!(e[i]=a))}}else d=w(d===e?d.splice(l,d.length):d),v?v(null,e,d,r):J.apply(e,d)})}function h(t){for(var i,e,n,r=t.length,o=k.relative[t[0].type],a=o||k.relative[" "],s=o?1:0,u=f(function(t){return t===i},a,!0),l=f(function(t){return-1<tt(i,t)},a,!0),c=[function(t,e,n){var r=!o&&(n||e!==_)||((i=e).nodeType?u(t,e,n):l(t,e,n));return i=null,r}];s<r;s++)if(e=k.relative[t[s].type])c=[f(d(c),e)];else{if((e=k.filter[t[s].type].apply(null,t[s].matches))[$]){for(n=++s;n<r&&!k.relative[t[n].type];n++);return b(1<s&&d(c),1<s&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&h(t.slice(s,n)),n<r&&h(t=t.slice(n)),n<r&&m(t))}c.push(e)}return d(c)}function c(m,v){var y=0<v.length,b=0<m.length,t=function(t,e,n,r,i){var o,a,s,u=0,l="0",c=t&&[],f=[],d=_,h=t||b&&k.find.TAG("*",i),p=W+=null==d?1:Math.random()||.1,g=h.length;for(i&&(_=e===L||e||i);l!==g&&null!=(o=h[l]);l++){if(b&&o){for(a=0,e||o.ownerDocument===L||(D(o),n=!I);s=m[a++];)if(s(o,e||L,n)){r.push(o);break}i&&(W=p)}y&&((o=!s&&o)&&u--,t&&c.push(o))}if(u+=l,y&&l!==u){for(a=0;s=v[a++];)s(c,f,e,n);if(t){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=G.call(r));f=w(f)}J.apply(r,f),i&&!t&&0<f.length&&1<u+v.length&&x.uniqueSort(r)}return i&&(W=p,_=d),c};return y?u(t):t}var p,v,k,S,C,M,A,E,_,T,N,D,L,R,I,F,O,P,H,$="sizzle"+1*new Date,B=n.document,W=0,j=0,q=t(),z=t(),V=t(),U=function(t,e){return t===e&&(N=!0),0},X=1<<31,Y={}.hasOwnProperty,K=[],G=K.pop,Z=K.push,J=K.push,Q=K.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),dt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$",
"i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},kt=function(){D()};try{J.apply(K=Q.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(St){J={apply:K.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}for(p in v=x.support={},C=x.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=x.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==L&&9===r.nodeType&&r.documentElement&&(R=(L=r).documentElement,I=!C(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),v.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=i(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=mt.test(L.getElementsByClassName),v.getById=i(function(t){return R.appendChild(t).id=$,!L.getElementsByName||!L.getElementsByName($).length}),v.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},k.filter.ID=function(t){var e=t.replace(xt,wt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var n=t.replace(xt,wt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),k.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},O=[],F=[],(v.qsa=mt.test(L.querySelectorAll))&&(i(function(t){R.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||F.push("~="),t.querySelectorAll(":checked").length||F.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||F.push(".#.+[+~]")}),i(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(v.matchesSelector=mt.test(P=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&i(function(t){v.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),O.push("!=",ot)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),e=mt.test(R.compareDocumentPosition),H=e||mt.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===B&&H(B,t)?-1:e===L||e.ownerDocument===B&&H(B,e)?1:T?tt(T,t)-tt(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===L?-1:e===L?1:i?-1:o?1:T?tt(T,t)-tt(T,e):0;if(i===o)return l(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?l(a[r],s[r]):a[r]===B?-1:s[r]===B?1:0}),L},x.matches=function(t,e){return x(t,null,null,e)},x.matchesSelector=function(t,e){if((t.ownerDocument||t)!==L&&D(t),e=e.replace(ct,"='$1']"),v.matchesSelector&&I&&!V[e+" "]&&(!O||!O.test(e))&&(!F||!F.test(e)))try{var n=P.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(St){}return 0<x(e,L,null,[t]).length},x.contains=function(t,e){return(t.ownerDocument||t)!==L&&D(t),H(t,e)},x.attr=function(t,e){(t.ownerDocument||t)!==L&&D(t);var n=k.attrHandle[e.toLowerCase()],r=n&&Y.call(k.attrHandle,e.toLowerCase())?n(t,e,!I):undefined;return r!==undefined?r:v.attributes||!I?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},x.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},x.uniqueSort=function(t){var e,n=[],r=0,i=0;if(N=!v.detectDuplicates,T=!v.sortStable&&t.slice(0),t.sort(U),N){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return T=null,t},S=x.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=S(e);return n},(k=x.selectors={cacheLength:50,createPseudo:u,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||x.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&x.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(t){var e=x.attr(t,n);return null==e?"!="===r:!r||(e+="","="===r?e===i:"!="===r?e!==i:"^="===r?i&&0===e.indexOf(i):"*="===r?i&&-1<e.indexOf(i):"$="===r?i&&e.slice(-i.length)===i:"~="===r?-1<(" "+e.replace(at," ")+" ").indexOf(i):"|="===r&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var r,i,o,a,s,u,l=v!==y?"nextSibling":"previousSibling",c=t.parentNode,f=b&&t.nodeName.toLowerCase(),d=!n&&!b,h=!1;if(c){if(v){for(;l;){for(a=t;a=a[l];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&d){for(h=(s=(r=(i=(o=(a=c)[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===W&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(h=s=0)||u.pop();)if(1===a.nodeType&&++h&&a===t){i[p]=[W,s,h];break}}else if(d&&(h=s=(r=(i=(o=(a=t)[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===W&&r[1]),!1===h)for(;(a=++s&&a&&a[l]||(h=s=0)||u.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++h||(d&&((i=(o=a[$]||(a[$]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[W,h]),a!==t)););return(h-=m)===g||h%g==0&&0<=h/g}}},PSEUDO:function(t,o){var e,a=k.pseudos[t]||k.setFilters[t.toLowerCase()]||x.error("unsupported pseudo: "+t);return a[$]?a(o):1<a.length?(e=[t,t,"",o],k.setFilters.hasOwnProperty(t.toLowerCase())?u(function(t,e){for(var n,r=a(t,o),i=r.length;i--;)t[n=tt(t,r[i])]=!(e[n]=r[i])}):function(t){return a(t,0,e)}):a}},pseudos:{not:u(function(t){var r=[],i=[],s=A(t.replace(st,"$1"));return s[$]?u(function(t,e,n,r){for(var i,o=s(t,null,r,[]),a=t.length;a--;)(i=o[a])&&(t[a]=!(e[a]=i))}):function(t,e,n){return r[0]=t,s(r,null,n,i),r[0]=null,!i.pop()}}),has:u(function(e){return function(t){return 0<x(e,t).length}}),contains:u(function(e){return e=e.replace(xt,wt),function(t){return-1<(t.textContent||t.innerText||S(t)).indexOf(e)}}),lang:u(function(n){return dt.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(xt,wt).toLowerCase(),function(t){var e;do{if(e=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===R},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t}),gt:a(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[p]=r(p);for(p in{submit:!0,reset:!0})k.pseudos[p]=o(p);return s.prototype=k.filters=k.pseudos,k.setFilters=new s,M=x.tokenize=function(t,e){var n,r,i,o,a,s,u,l=z[t+" "];if(l)return e?0:l.slice(0);for(a=t,s=[],u=k.preFilter;a;){for(o in n&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length)),k.filter)!(r=ht[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?x.error(t):z(t,s).slice(0)},A=x.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)(o=h(e[n]))[$]?r.push(o):i.push(o);(o=V(t,c(i,r))).selector=t}return o},E=x.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,c=!r&&M(t=l.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===e.nodeType&&I&&k.relative[o[1].type]){if(!(e=(k.find.ID(a.matches[0].replace(xt,wt),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!k.relative[s=a.type]);)if((u=k.find[s])&&(r=u(a.matches[0].replace(xt,wt),yt.test(o[0].type)&&g(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&m(o)))return J.apply(n,r),n;break}}return(l||A(t,c))(r,e,!I,n,!e||yt.test(t)&&g(e.parentNode)||e),n},v.sortStable=$.split("").sort(U).join("")===$,v.detectDuplicates=!!N,D(),v.sortDetached=i(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),x}(S);ht.find=yt,ht.expr=yt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=yt.uniqueSort,ht.text=yt.getText,ht.isXMLDoc=yt.isXML,ht.contains=yt.contains;var bt=function(t,e,n){for(var r=[],i=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ht(t).is(n))break;r.push(t)}return r},xt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=ht.expr.match.needsContext,kt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ht.find.matchesSelector(r,t)?[r]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<i;e++)if(ht.contains(r[e],this))return!0}));for(e=0;e<i;e++)ht.find(t,r[e],n);return(n=this.pushStack(1<i?ht.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&wt.test(t)?ht(t):t||[],!1).length}});var Ct,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ht.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Ct,"string"==typeof t){if(!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Mt.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:rt,!0)),kt.test(r[1])&&ht.isPlainObject(e))for(r in e)ht.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}if((i=rt.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return Ct.find(t);this.length=1,this[0]=i}return this.context=rt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ht.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ht):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ht.makeArray(t,this))}).prototype=ht.fn,Ct=ht(rt);var At=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e,n=ht(t,this),r=n.length;return this.filter(function(){for(e=0;e<r;e++)if(ht.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=wt.test(t)||"string"!=typeof t?ht(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ht.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?ht.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.inArray(this[0],ht(t)):ht.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return ht.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ht.merge([],t.childNodes)}},function(r,i){ht.fn[r]=function(t,e){var n=ht.map(this,i,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ht.filter(e,n)),1<this.length&&(Et[r]||(n=ht.uniqueSort(n)),At.test(r)&&(n=n.reverse())),this.pushStack(n)}});var _t,Tt,Nt=/\S+/g;for(Tt in ht.Callbacks=function(r){r="string"==typeof r?c(r):ht.extend({},r);var i,t,e,n,o=[],a=[],s=-1,u=function(){for(n=r.once,e=i=!0;a.length;s=-1)for(t=a.shift();++s<o.length;)!1===o[s].apply(t[0],t[1])&&r.stopOnFalse&&(s=o.length,t=!1);r.memory||(t=!1),i=!1,n&&(o=t?[]:"")},l={add:function(){return o&&(t&&!i&&(s=o.length-1,a.push(t)),function n(t){ht.each(t,function(t,e){ht.isFunction(e)?r.unique&&l.has(e)||o.push(e):e&&e.length&&"string"!==ht.type(e)&&n(e)})}(arguments),t&&!i&&u()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;-1<(n=ht.inArray(e,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<ht.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=t="",this},disabled:function(){return!o},lock:function(){return n=!0,t||l.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),i||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},ht.extend({Deferred:function(t){var o=[["resolve","done",ht.Callbacks("once memory"),"resolved"],["reject","fail",ht.Callbacks("once memory"),"rejected"],["notify","progress",ht.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return ht.Deferred(function(r){ht.each(o,function(t,e){var n=ht.isFunction(i[t])&&i[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this===a?r.promise():this,n?[t]:arguments)})}),i=null}).promise()},promise:function(t){return null!=t?ht.extend(t,a):a}},s={};return a.pipe=a.then,ht.each(o,function(t,e){var n=e[2],r=e[3];a[e[1]]=n.add,r&&n.add(function(){i=r},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var i,e,n,r=0,o=it.call(arguments),a=o.length,s=1!==a||t&&ht.isFunction(t.promise)?a:0,u=1===s?t:ht.Deferred(),l=function(e,n,r){return function(t){n[e]=this,r[e]=1<arguments.length?it.call(arguments):t,r===i?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(1<a)for(i=new Array(a),e=new Array(a),n=new Array(a);r<a;r++)o[r]&&ht.isFunction(o[r].promise)?o[r].promise().progress(l(r,e,i)).done(l(r,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}}),ht.fn.ready=function(t){return ht.ready.promise().done(t),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(!0===t?--ht.readyWait:ht.isReady)||(ht.isReady=!0)!==t&&0<--ht.readyWait||(_t.resolveWith(rt,[ht]),ht.fn.triggerHandler&&(ht(rt).triggerHandler("ready"),ht(rt).off("ready")))}}),ht.ready.promise=function(t){if(!_t)if(_t=ht.Deferred(),"complete"===rt.readyState||"loading"!==rt.readyState&&!rt.documentElement.doScroll)S.setTimeout(ht.ready);else if(rt.addEventListener)rt.addEventListener("DOMContentLoaded",o),S.addEventListener("load",o);else{rt.attachEvent("onreadystatechange",o),S.attachEvent("onload",o);var e=!1;try{e=null==S.frameElement&&rt.documentElement}catch(n){}e&&e.doScroll&&function r(){if(!ht.isReady){try{e.doScroll("left")}catch(n){return S.setTimeout(r,50)}i(),ht.ready()}}()}return _t.promise(t)},ht.ready.promise(),ht(ft))break;ft.ownFirst="0"===Tt,ft.inlineBlockNeedsLayout=!1,ht(function(){var t,e,n,r;(n=rt.getElementsByTagName("body")[0])&&n.style&&(e=rt.createElement("div"),(r=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ft.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(r))}),function(){var t=rt.createElement("div");ft.deleteExpando=!0;try{delete t.test}catch(e){ft.deleteExpando=!1}t=null}();var Dt,Lt=function(t){var e=ht.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/([A-Z])/g;ht.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ht.cache[t[ht.expando]]:t[ht.expando])&&!l(t)},data:function(t,e,n){return r(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return r(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),ht.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(i=ht.data(o),1===o.nodeType&&!ht._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&u(o,r=ht.camelCase(r.slice(5)),i[r]);ht._data(o,"parsedAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ht.data(this,t)}):1<arguments.length?this.each(function(){ht.data(this,t,e)}):o?u(o,t,ht.data(o,t)):undefined},removeData:function(t){return this.each(function(){ht.removeData(this,t)})}}),ht.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=ht._data(t,e),n&&(!r||ht.isArray(n)?r=ht._data(t,e,ht.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),r=n.length,i=n.shift(),o=ht._queueHooks(t,e),a=function(){ht.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ht._data(t,n)||ht._data(t,n,{empty:ht.Callbacks("once memory").add(function(){ht._removeData(t,e+"queue"),ht._removeData(t,n)})})}}),ht.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ht.queue(this[0],e):n===undefined?this:this.each(function(){var t=ht.queue(this,e,n);ht._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ht.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ht.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ht._data(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}}),ft.shrinkWrapBlocks=function(){return null!=Dt?Dt:(Dt=!1,(e=rt.getElementsByTagName("body")[0])&&e.style?(t=rt.createElement("div"),(n=rt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(rt.createElement("div")).style.width="5px",Dt=3!==t.offsetWidth),e.removeChild(n),Dt):void 0);var t,e,n};var Ft,Ot,Pt,Ht=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Ht+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Wt=function(t,e){return t=e||t,"none"===ht.css(t,"display")||!ht.contains(t.ownerDocument,t)},jt=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===ht.type(n))for(s in i=!0,n)jt(t,e,s,n[s],!0,o,a);else if(r!==undefined&&(i=!0,ht.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(ht(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},qt=/^(?:checkbox|radio)$/i,zt=/<([\w:-]+)/,Vt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Xt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ft=rt.createElement("div"),Ot=rt.createDocumentFragment(),Pt=rt.createElement("input"),Ft.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ft.leadingWhitespace=3===Ft.firstChild.nodeType,ft.tbody=!Ft.getElementsByTagName("tbody").length,ft.htmlSerialize=!!Ft.getElementsByTagName("link").length,ft.html5Clone="<:nav></:nav>"!==rt.createElement("nav").cloneNode(!0).outerHTML,Pt.type="checkbox",Pt.checked=!0,Ot.appendChild(Pt),ft.appendChecked=Pt.checked,Ft.innerHTML="<textarea>x</textarea>",ft.noCloneChecked=!!Ft.cloneNode(!0).lastChild.defaultValue,Ot.appendChild(Ft),(Pt=rt.createElement("input")).setAttribute("type","radio"),Pt.setAttribute("checked","checked"),Pt.setAttribute("name","t"),Ft.appendChild(Pt),ft.checkClone=Ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.noCloneEvent=!!Ft.addEventListener,Ft[ht.expando]=1,ft.attributes=!Ft.getAttribute(ht.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ft.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Kt=/<|&#?\w+;/,Gt=/<tbody/i;!function(){var t,e,n=rt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ft[t]=e in S)||(n.setAttribute(e,"t"),ft[t]=!1===n.attributes[e].expando);n=null}();var Zt=/^(?:input|select|textarea)$/i,Jt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,d,h,p,g,m=ht._data(t);if(m){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=ht.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(t){return void 0===ht||t&&ht.event.triggered===t.type?undefined:ht.event.dispatch.apply(c.elem,arguments)}).elem=t),s=(e=(e||"").match(Nt)||[""]).length;s--;)h=g=(o=ee.exec(e[s])||[])[1],p=(o[2]||"").split(".").sort(),h&&(l=ht.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=ht.event.special[h]||{},f=ht.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ht.expr.match.needsContext.test(i),namespace:p.join(".")},u),(d=a[h])||((d=a[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,r,p,c)||(t.addEventListener?t.addEventListener(h,c,!1):t.attachEvent&&t.attachEvent("on"+h,c))),l.add&&(l.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),ht.event.global[h]=!0);t=null}},remove:function(t,e,n,r,i){var o,a,s,u,l,c,f,d,h,p,g,m=ht.hasData(t)&&ht._data(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(Nt)||[""]).length;l--;)if(h=g=(s=ee.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),h){for(f=ht.event.special[h]||{},d=c[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(t,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,m.handle)||ht.removeEvent(t,h,m.handle),delete c[h])}else for(h in c)ht.event.remove(t,h+e[l],n,r,!0);ht.isEmptyObject(c)&&(delete m.handle,ht._removeData(t,"events"))}},trigger:function(t,e,n,r){var i,o,a,s,u,l,c,f=[n||rt],d=ct.call(t,"type")?t.type:t,h=ct.call(t,"namespace")?t.namespace.split("."):[];if(a=l=n=n||rt,3!==n.nodeType&&8!==n.nodeType&&!te.test(d+ht.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),o=d.indexOf(":")<0&&"on"+d,(t=t[ht.expando]?t:new ht.Event(d,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ht.makeArray(e,[t]),u=ht.event.special[d]||{},r||!u.trigger||!1!==u.trigger.apply(n,e))){if(!r&&!u.noBubble&&!ht.isWindow(n)){for(s=u.delegateType||d,te.test(s+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(n.ownerDocument||rt)&&f.push(l.defaultView||l.parentWindow||S)}for(c=0;(a=f[c++])&&!t.isPropagationStopped();)t.type=1<c?s:u.bindType||d,(i=(ht._data(a,"events")||{})[t.type]&&ht._data(a,"handle"))&&i.apply(a,e),(i=o&&a[o])&&i.apply&&Lt(a)&&(t.result=i.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=d,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(f.pop(),e))&&Lt(n)&&o&&n[d]&&!ht.isWindow(n)){(l=n[o])&&(n[o]=null),ht.event.triggered=d;try{n[d]()}catch(p){}ht.event.triggered=undefined,l&&(n[o]=l)}return t.result}},dispatch:function(t){t=ht.event.fix(t);var e,n,r,i,o,a=[],s=it.call(arguments),u=(ht._data(this,"events")||{})[t.type]||[],l=ht.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=ht.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(r=((ht.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))!==undefined&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(r=[],n=0;n<s;n++)r[i=(o=e[n]).selector+" "]===undefined&&(r[i]=o.needsContext?-1<ht(i,this).index(u):ht.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ht.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Qt.test(i)?this.mouseHooks:Jt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new ht.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=o.srcElement||rt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=(r=t.target.ownerDocument||rt).documentElement,n=r.body,t.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ht.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var r=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(r,null,e),r.isDefaultPrevented()&&n.preventDefault()}},ht.removeEvent=rt.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var r="on"+e;t.detachEvent&&("undefined"==typeof t[r]&&(t[r]=null),
t.detachEvent(r,n))},ht.Event=function(t,e){if(!(this instanceof ht.Event))return new ht.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?d:h):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),this[ht.expando]=!0},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){ht.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=this,r=t.relatedTarget,i=t.handleObj;return r&&(r===n||ht.contains(n,r))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),ft.submit||(ht.event.special.submit={setup:function(){if(ht.nodeName(this,"form"))return!1;ht.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ht.nodeName(e,"input")||ht.nodeName(e,"button")?ht.prop(e,"form"):undefined;n&&!ht._data(n,"submit")&&(ht.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ht._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ht.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ht.nodeName(this,"form"))return!1;ht.event.remove(this,"._submit")}}),ft.change||(ht.event.special.change={setup:function(){if(Zt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ht.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ht.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ht.event.simulate("change",this,t)})),!1;ht.event.add(this,"beforeactivate._change",function(t){var e=t.target;Zt.test(e.nodeName)&&!ht._data(e,"change")&&(ht.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ht.event.simulate("change",this.parentNode,t)}),ht._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ht.event.remove(this,"._change"),!Zt.test(this.nodeName)}}),ft.focusin||ht.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(t){ht.event.simulate(r,t.target,ht.event.fix(t))};ht.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=ht._data(t,r);e||t.addEventListener(n,i,!0),ht._data(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ht._data(t,r)-1;e?ht._data(t,r,e):(t.removeEventListener(n,i,!0),ht._removeData(t,r))}}}),ht.fn.extend({on:function(t,e,n,r){return x(this,t,e,n,r)},one:function(t,e,n,r){return x(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ht(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=h),this.each(function(){ht.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+Xt+")[\\s/>]","i"),ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le=m(rt).appendChild(rt.createElement("div"));ht.extend({htmlPrefilter:function(t){return t.replace(ie,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s,u=ht.contains(t.ownerDocument,t);if(ft.html5Clone||ht.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(o=le.firstChild)),!(ft.noCloneEvent&&ft.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(r=v(o),s=v(t),a=0;null!=(i=s[a]);++a)r[a]&&A(i,r[a]);if(e)if(n)for(s=s||v(t),r=r||v(o),a=0;null!=(i=s[a]);a++)M(i,r[a]);else M(t,o);return 0<(r=v(o,"script")).length&&y(r,!u&&v(t,"script")),r=s=i=null,o},cleanData:function(t,e){for(var n,r,i,o,a=0,s=ht.expando,u=ht.cache,l=ft.attributes,c=ht.event.special;null!=(n=t[a]);a++)if((e||Lt(n))&&(o=(i=n[s])&&u[i])){if(o.events)for(r in o.events)c[r]?ht.event.remove(n,r):ht.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(i))}}}),ht.fn.extend({domManip:E,detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return jt(this,function(t){return t===undefined?ht.text(this):this.empty().append((this[0]&&this[0].ownerDocument||rt).createTextNode(t))},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,t).appendChild(t)})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ht.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ht.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return jt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ft.htmlSerialize||!re.test(t))&&(ft.leadingWhitespace||!Ut.test(t))&&!Yt[(zt.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(ht.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return E(this,arguments,function(t){var e=this.parentNode;ht.inArray(this,n)<0&&(ht.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){ht.fn[t]=function(t){for(var e,n=0,r=[],i=ht(t),o=i.length-1;n<=o;n++)e=n===o?this:this.clone(!0),ht(i[n])[a](e),at.apply(r,e.get());return this.pushStack(r)}});var ce,fe={HTML:"block",BODY:"block"},de=/^margin/,he=new RegExp("^("+Ht+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i},ge=rt.documentElement;!function(){function t(){var t,e,n=rt.documentElement;n.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=o=u=!1,i=s=!0,S.getComputedStyle&&(e=S.getComputedStyle(c),r="1%"!==(e||{}).top,u="2px"===(e||{}).marginLeft,o="4px"===(e||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(e||{marginRight:"4px"}).marginRight,(t=c.appendChild(rt.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",s=!parseFloat((S.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(l)}var r,i,o,a,s,u,l=rt.createElement("div"),c=rt.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ft.opacity="0.5"===c.style.opacity,ft.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ft.clearCloneStyle="content-box"===c.style.backgroundClip,(l=rt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ft.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ht.extend(ft,{reliableHiddenOffsets:function(){return null==r&&t(),a},boxSizingReliable:function(){return null==r&&t(),o},pixelMarginRight:function(){return null==r&&t(),i},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==r&&t(),s},reliableMarginLeft:function(){return null==r&&t(),u}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;S.getComputedStyle?(me=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},ve=function(t,e,n){var r,i,o,a,s=t.style;return""!==(a=(n=n||me(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||ht.contains(t.ownerDocument,t)||(a=ht.style(t,e)),n&&!ft.pixelMarginRight()&&he.test(a)&&de.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),a===undefined?a:a+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var r,i,o,a,s=t.style;return null==(a=(n=n||me(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),he.test(a)&&!ye.test(e)&&(r=s.left,(o=(i=t.runtimeStyle)&&i.left)&&(i.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),a===undefined?a:a+""||"auto"});var be=/alpha\([^)]*\)/i,xe=/opacity\s*=\s*([^)]*)/i,we=/^(none|table(?!-c[ea]).+)/,ke=new RegExp("^("+Ht+")(.*)$","i"),Se={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},Me=["Webkit","O","Moz","ms"],Ae=rt.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ft.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=ht.camelCase(e),u=t.style;if(e=ht.cssProps[s]||(ht.cssProps[s]=L(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(t,!1,r))!==undefined?i:u[e];if("string"===(o=typeof n)&&(i=$t.exec(n))&&i[1]&&(n=f(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(ht.cssNumber[s]?"":"px")),ft.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,r))===undefined)))try{u[e]=n}catch(l){}}},css:function(t,e,n,r){var i,o,a,s=ht.camelCase(e);return e=ht.cssProps[s]||(ht.cssProps[s]=L(s)||s),(a=ht.cssHooks[e]||ht.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=ve(t,e,r)),"normal"===o&&e in Ce&&(o=Ce[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),ht.each(["height","width"],function(t,i){ht.cssHooks[i]={get:function(t,e,n){if(e)return we.test(ht.css(t,"display"))&&0===t.offsetWidth?pe(t,Se,function(){return O(t,i,n)}):O(t,i,n)},set:function(t,e,n){var r=n&&me(t);return I(t,e,n?F(t,i,n,ft.boxSizing&&"border-box"===ht.css(t,"boxSizing",!1,r),r):0)}}}),ft.opacity||(ht.cssHooks.opacity={get:function(t,e){return xe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=ht.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ht.trim(o.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||r&&!r.filter)||(n.filter=be.test(o)?o.replace(be,i):o+" "+i)}}),ht.cssHooks.marginRight=D(ft.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ht.cssHooks.marginLeft=D(ft.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ht.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(i,o){ht.cssHooks[i+o]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+Bt[e]+o]=r[e]||r[e-2]||r[0];return n}},de.test(i)||(ht.cssHooks[i+o].set=I)}),ht.fn.extend({css:function(t,e){return jt(this,function(t,e,n){var r,i,o={},a=0;if(ht.isArray(e)){for(r=me(t),i=e.length;a<i;a++)o[e[a]]=ht.css(t,e[a],!1,r);return o}return n!==undefined?ht.style(t,e,n):ht.css(t,e)},t,e,1<arguments.length)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Wt(this)?ht(this).show():ht(this).hide()})}}),(ht.Tween=P).prototype={constructor:P,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ht.cssNumber[n]?"":"px")},cur:function(){var t=P.propHooks[this.prop];return t&&t.get?t.get(this):P.propHooks._default.get(this)},run:function(t){var e,n=P.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=P.prototype.init,ht.fx.step={};var Ee,_e,Te,Ne,De,Le,Re,Ie=/^(?:toggle|show|hide)$/,Fe=/queueHooks$/;ht.Animation=ht.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,$t.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ht.speed=function(t,e,n){var r=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return r.duration=ht.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ht.fx.speeds?ht.fx.speeds[r.duration]:ht.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ht.isFunction(r.old)&&r.old.call(this),r.queue&&ht.dequeue(this,r.queue)},r},ht.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Wt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){var i=ht.isEmptyObject(e),o=ht.speed(t,n,r),a=function(){var t=q(this,ht.extend({},e),o);(i||ht._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,t,o){var a=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof i&&(o=t,t=i,i=undefined),t&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=ht.timers,r=ht._data(this);if(e)r[e]&&r[e].stop&&a(r[e]);else for(e in r)r[e]&&r[e].stop&&Fe.test(e)&&a(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||ht.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=ht._data(this),n=e[a+"queue"],r=e[a+"queueHooks"],i=ht.timers,o=n?n.length:0;for(e.finish=!0,ht.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===a&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ht.each(["toggle","show","hide"],function(t,r){var i=ht.fn[r];ht.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate($(r,!0),t,e,n)}}),ht.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){ht.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),ht.timers=[],ht.fx.tick=function(){var t,e=ht.timers,n=0;for(Ee=ht.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ht.fx.stop(),Ee=undefined},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){_e||(_e=S.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){S.clearInterval(_e),_e=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(r,t){return r=ht.fx&&ht.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var n=S.setTimeout(t,r);e.stop=function(){S.clearTimeout(n)}})},Ne=rt.createElement("input"),De=rt.createElement("div"),Le=rt.createElement("select"),Re=Le.appendChild(rt.createElement("option")),(De=rt.createElement("div")).setAttribute("className","t"),De.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Te=De.getElementsByTagName("a")[0],Ne.setAttribute("type","checkbox"),De.appendChild(Ne),(Te=De.getElementsByTagName("a")[0]).style.cssText="top:1px",ft.getSetAttribute="t"!==De.className,ft.style=/top/.test(Te.getAttribute("style")),ft.hrefNormalized="/a"===Te.getAttribute("href"),ft.checkOn=!!Ne.value,ft.optSelected=Re.selected,ft.enctype=!!rt.createElement("form").enctype,Le.disabled=!0,ft.optDisabled=!Re.disabled,(Ne=rt.createElement("input")).setAttribute("value",""),ft.input=""===Ne.getAttribute("value"),Ne.value="t",Ne.setAttribute("type","radio"),ft.radioValue="t"===Ne.value;var Oe=/\r/g,Pe=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(n){var r,t,i,e=this[0];return arguments.length?(i=ht.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=i?n.call(this,t,ht(this).val()):n)?e="":"number"==typeof e?e+="":ht.isArray(e)&&(e=ht.map(e,function(t){return null==t?"":t+""})),(r=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&r.set(this,e,"value")!==undefined||(this.value=e))})):e?(r=ht.valHooks[e.type]||ht.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&(t=r.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Oe,""):null==t?"":t:void 0}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(Pe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(ft.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=ht.makeArray(e),a=i.length;a--;)if(r=i[a],-1<ht.inArray(ht.valHooks.option.get(r),o))try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(t.selectedIndex=-1),i}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=-1<ht.inArray(ht(t).val(),e)}},ft.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var He,$e,Be=ht.expr.attrHandle,We=/^(?:checked|selected)$/i,je=ft.getSetAttribute,qe=ft.input;ht.fn.extend({attr:function(t,e){return jt(this,ht.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===o&&ht.isXMLDoc(t)||(e=e.toLowerCase(),i=ht.attrHooks[e]||(ht.expr.match.bool.test(e)?$e:He)),n!==undefined?null===n?void ht.removeAttr(t,e):i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=ht.find.attr(t,e))?undefined:r)},attrHooks:{type:{set:function(t,e){if(!ft.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(Nt);if(o&&1===t.nodeType)for(;n=o[i++];)r=ht.propFix[n]||n,ht.expr.match.bool.test(n)?qe&&je||!We.test(n)?t[r]=!1:t[ht.camelCase("default-"+n)]=t[r]=!1:ht.attr(t,n,""),t.removeAttribute(je?n:r)}}),$e={set:function(t,e,n){return!1===e?ht.removeAttr(t,n):qe&&je||!We.test(n)?t.setAttribute(!je&&ht.propFix[n]||n,n):t[ht.camelCase("default-"+n)]=t[n]=!0,n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var o=Be[e]||ht.find.attr;qe&&je||!We.test(e)?Be[e]=function(t,e,n){var r,i;return n||(i=Be[e],Be[e]=r,r=null!=o(t,e,n)?e.toLowerCase():null,Be[e]=i),r}:Be[e]=function(t,e,n){if(!n)return t[ht.camelCase("default-"+e)]?e.toLowerCase():null}}),qe&&je||(ht.attrHooks.value={set:function(t,e,n){if(!ht.nodeName(t,"input"))return He&&He.set(t,e,n);t.defaultValue=e}}),je||(He={set:function(t,e,n){var r=t.getAttributeNode(n);if(r||t.setAttributeNode(r=t.ownerDocument.createAttribute(n)),r.value=e+="","value"===n||e===t.getAttribute(n))return e}},Be.id=Be.name=Be.coords=function(t,e,n){var r;if(!n)return(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},ht.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:He.set},ht.attrHooks.contenteditable={set:function(t,e,n){He.set(t,""!==e&&e,n)}},ht.each(["width","height"],function(t,n){ht.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ft.style||(ht.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var ze=/^(?:input|select|textarea|button|object)$/i,Ve=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return jt(this,ht.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ht.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ht.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,i=ht.propHooks[e]),n!==undefined?i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):ze.test(t.nodeName)||Ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ft.hrefNormalized||ht.each(["href","src"],function(t,e){ht.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ft.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this}),ft.enctype||(ht.propFix.enctype="encoding");var Ue=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(ht.isFunction(e))return this.each(function(t){ht(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(Nt)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Ue," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht.trim(r))&&ht.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(ht.isFunction(e))return this.each(function(t){ht(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Nt)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Ue," ")){for(a=0;o=t[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=ht.trim(r))&&ht.attr(n,"class",s)}return this},toggleClass:function(i,e){var o=typeof i;return"boolean"==typeof e&&"string"===o?e?this.addClass(i):this.removeClass(i):ht.isFunction(i)?this.each(function(t){ht(this).toggleClass(i.call(this,t,z(this),e),e)}):this.each(function(){var t,e,n,r;if("string"===o)for(e=0,n=ht(this),r=i.match(Nt)||[];t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else i!==undefined&&"boolean"!==o||((t=z(this))&&ht._data(this,"__className__",t),ht.attr(this,"class",t||!1===i?"":ht._data(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+z(n)+" ").replace(Ue," ").indexOf(e))return!0;return!1}}),ht.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ht.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Xe=S.location,Ye=ht.now(),Ke=/\?/,Ge=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ht.parseJSON=function(t){if(S.JSON&&S.JSON.parse)return S.JSON.parse(t+"");var i,o=null,e=ht.trim(t+"");return e&&!ht.trim(e.replace(Ge,function(t,e,n,r){return i&&e&&(o=0),0===o?t:(i=n||e,o+=!r-!n,"")}))?Function("return "+e)():ht.error("Invalid JSON: "+t)},ht.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{S.DOMParser?e=(new S.DOMParser).parseFromString(t,"text/xml"):((e=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+t),e};var Ze=/#.*$/,Je=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,on={},an={},sn="*/".concat("*"),un=Xe.href,ln=rn.exec(un.toLowerCase())||[];ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:un,type:"GET",isLocal:tn.test(ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ht.parseJSON,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,ht.ajaxSettings),e):X(ht.ajaxSettings,t)},ajaxPrefilter:V(on),ajaxTransport:V(an),ajax:function(t,e){function n(t,e,n,r){var i,o,a,s,u,l=e;2!==w&&(w=2,d&&S.clearTimeout(d),p=undefined,f=r||"",k.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(s=Y(g,k,n)),s=K(g,s,k,i),i?(g.ifModified&&((u=k.getResponseHeader("Last-Modified"))&&(ht.lastModified[c]=u),(u=k.getResponseHeader("etag"))&&(ht.etag[c]=u)),204===t||"HEAD"===g.type?l="nocontent":304===t?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!t&&l||(l="error",t<0&&(t=0))),k.status=t,k.statusText=(e||l)+"",i?y.resolveWith(m,[o,l,k]):y.rejectWith(m,[k,l,a]),k.statusCode(x),x=undefined,h&&v.trigger(i?"ajaxSuccess":"ajaxError",[k,g,i?o:a]),b.fireWith(m,[k,l]),h&&(v.trigger("ajaxComplete",[k,g]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var r,i,c,f,d,h,p,o,g=ht.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?ht(m):ht.event,y=ht.Deferred(),b=ht.Callbacks("once memory"),x=g.statusCode||{},a={},s={},w=0,u="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!o)for(o={};e=Qe.exec(f);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?f:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return w||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)x[e]=[x[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||u;return p&&p.abort(e),n(0,e),this}};if(y.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,g.url=((t||g.url||un)+"").replace(Ze,"").replace(nn,ln[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=ht.trim(g.dataType||"*").toLowerCase().match(Nt)||[""],null==g.crossDomain&&(r=rn.exec(g.url.toLowerCase()),g.crossDomain=!(!r||r[1]===ln[1]&&r[2]===ln[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ln[3]||("http:"===ln[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ht.param(g.data,g.traditional)),U(on,g,e,k),2===w)return k;for(i in(h=ht.event&&g.global)&&0==ht.active++&&ht.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(Ke.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Je.test(c)?c.replace(Je,"$1_="+Ye++):c+(Ke.test(c)?"&":"?")+"_="+Ye++)),g.ifModified&&(ht.lastModified[c]&&k.setRequestHeader("If-Modified-Since",ht.lastModified[c]),ht.etag[c]&&k.setRequestHeader("If-None-Match",ht.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&k.setRequestHeader("Content-Type",g.contentType),k.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)k.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(m,k,g)||2===w))return k.abort();for(i in u="abort",{success:1,error:1,complete:1})k[i](g[i]);if(p=U(an,g,e,k)){if(k.readyState=1,h&&v.trigger("ajaxSend",[k,g]),2===w)return k;g.async&&0<g.timeout&&(d=S.setTimeout(function(){k.abort("timeout")},g.timeout));try{w=1,p.send(a,n)}catch(l){if(!(w<2))throw l;n(-1,l)}}else n(-1,"No Transport");return k},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,undefined,e,"script")}}),ht.each(["get","post"],function(t,i){ht[i]=function(t,e,n,r){return ht.isFunction(e)&&(r=r||n,n=e,e=undefined),ht.ajax(ht.extend({url:t,type:i,dataType:r,data:e,success:n},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(e){if(ht.isFunction(e))return this.each(function(t){ht(this).wrapAll(e.call(this,t))});if(this[0]){var t=ht(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ht.isFunction(n)?this.each(function(t){ht(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ht(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ht.isFunction(e);return this.each(function(t){ht(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ht.nodeName(this,"body")||ht(this).replaceWith(this.childNodes)}).end()}}),ht.expr.filters.hidden=function(t){return ft.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Z(t)},ht.expr.filters.visible=function(t){return!ht.expr.filters.hidden(t)};var cn=/%20/g,fn=/\[\]$/,dn=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e
){var n,r=[],i=function(t,e){e=ht.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ht.ajaxSettings&&ht.ajaxSettings.traditional),ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){i(this.name,this.value)});else for(n in t)J(n,t[n],e,i);return r.join("&").replace(cn,"+")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&pn.test(this.nodeName)&&!hn.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(dn,"\r\n")}}):{name:e.name,value:n.replace(dn,"\r\n")}}).get()}}),ht.ajaxSettings.xhr=S.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<rt.documentMode?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var gn=0,mn={},vn=ht.ajaxSettings.xhr();S.attachEvent&&S.attachEvent("onunload",function(){for(var t in mn)mn[t](undefined,!0)}),ft.cors=!!vn&&"withCredentials"in vn,(vn=ft.ajax=!!vn)&&ht.ajaxTransport(function(l){var c;if(!l.crossDomain||ft.cors)return{send:function(t,a){var e,s=l.xhr(),u=++gn;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)s[e]=l.xhrFields[e];for(e in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(l.hasContent&&l.data||null),c=function(t,e){var n,r,i;if(c&&(e||4===s.readyState))if(delete mn[u],c=undefined,s.onreadystatechange=ht.noop,e)4!==s.readyState&&s.abort();else{i={},n=s.status,"string"==typeof s.responseText&&(i.text=s.responseText);try{r=s.statusText}catch(o){r=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&a(n,r,i,s.getAllResponseHeaders())},l.async?4===s.readyState?S.setTimeout(c):s.onreadystatechange=mn[u]=c:c()},abort:function(){c&&c(undefined,!0)}}}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ht.ajaxTransport("script",function(e){if(e.crossDomain){var r,i=rt.head||ht("head")[0]||rt.documentElement;return{send:function(t,n){(r=rt.createElement("script")).async=!0,e.scriptCharset&&(r.charset=e.scriptCharset),r.src=e.url,r.onload=r.onreadystatechange=function(t,e){(e||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,e||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(undefined,!0)}}}});var yn=[],bn=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||ht.expando+"_"+Ye++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,o,a=!1!==t.jsonp&&(bn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ht.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(bn,"$1"+r):!1!==t.jsonp&&(t.url+=(Ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||ht.error(r+" was not called"),o[0]},t.dataTypes[0]="json",i=S[r],S[r]=function(){o=arguments},n.always(function(){i===undefined?ht(S).removeProp(r):S[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,yn.push(r)),o&&ht.isFunction(i)&&i(o[0]),o=i=undefined}),"script"}),ht.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||rt;var r=kt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=g([t],e,i),i&&i.length&&ht(i).remove(),ht.merge([],r.childNodes))};var xn=ht.fn.load;ht.fn.load=function(t,e,n){if("string"!=typeof t&&xn)return xn.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return-1<s&&(r=ht.trim(t.slice(s,t.length)),t=t.slice(0,s)),ht.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(i="POST"),0<a.length&&ht.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?ht("<div>").append(ht.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.filters.animated=function(e){return ht.grep(ht.timers,function(t){return e===t.elem}).length},ht.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=ht.css(t,"position"),c=ht(t),f={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=ht.css(t,"top"),u=ht.css(t,"left"),("absolute"===l||"fixed"===l)&&-1<ht.inArray("auto",[o,u])?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):c.css(f)}},ht.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ht.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(t=o.documentElement,ht.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=et(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},r=this[0];return"fixed"===ht.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(n=t.offset()),n.top+=ht.css(t[0],"borderTopWidth",!0),n.left+=ht.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ht.css(r,"marginTop",!0),left:e.left-n.left-ht.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ht.nodeName(t,"html")&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||ge})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var o=/Y/.test(i);ht.fn[e]=function(t){return jt(this,function(t,e,n){var r=et(t);if(n===undefined)return r?i in r?r[i]:r.document.documentElement[e]:t[e];r?r.scrollTo(o?ht(r).scrollLeft():n,o?n:ht(r).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ht.each(["top","left"],function(t,n){ht.cssHooks[n]=D(ft.pixelPosition,function(t,e){if(e)return e=ve(t,n),he.test(e)?ht(t).position()[n]+"px":e})}),ht.each({Height:"height",Width:"width"},function(o,a){ht.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,t){ht.fn[t]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return jt(this,function(t,e,n){var r;return ht.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+o],r["scroll"+o],t.body["offset"+o],r["offset"+o],r["client"+o])):n===undefined?ht.css(t,e,i):ht.style(t,e,n,i)},a,n?t:undefined,n,null)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.fn.size=function(){return this.length},ht.fn.andSelf=ht.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var wn=S.jQuery,kn=S.$;return ht.noConflict=function(t){return S.$===ht&&(S.$=kn),t&&S.jQuery===ht&&(S.jQuery=wn),ht},t||(S.jQuery=S.$=ht),ht}),function(c,u){"use strict";var l;c.rails!==u&&c.error("jquery-ujs has already been loaded!");var t=c(document);c.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=l.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){c('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(t,e,n){var r=c.Event(e);return t.trigger(r,n),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(t){return c.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==u&&!1!==t.data("remote")},handleRemote:function(r){var t,e,n,i,o,a;if(l.fire(r,"ajax:before")){if(i=r.data("with-credentials")||null,o=r.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,r.is("form")){t=r.data("ujs:submit-button-formmethod")||r.attr("method"),e=r.data("ujs:submit-button-formaction")||r.attr("action"),n=c(r[0]).serializeArray();var s=r.data("ujs:submit-button");s&&(n.push(s),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(l.inputChangeSelector)?(t=r.data("method"),e=r.data("url"),n=r.serialize(),r.data("params")&&(n=n+"&"+r.data("params"))):r.is(l.buttonClickSelector)?(t=r.data("method")||"get",e=r.data("url"),n=r.serialize(),r.data("params")&&(n=n+"&"+r.data("params"))):(t=r.data("method"),e=l.href(r),n=r.data("params")||null);return a={type:t||"GET",data:n,dataType:o,beforeSend:function(t,e){if(e.dataType===u&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!l.fire(r,"ajax:beforeSend",[t,e]))return!1;r.trigger("ajax:send",t)},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:l.isCrossDomain(e)},i&&(a.xhrFields={withCredentials:i}),e&&(a.url=e),l.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(r){return!0}},handleMethod:function(t){var e=l.href(t),n=t.data("method"),r=t.attr("target"),i=l.csrfToken(),o=l.csrfParam(),a=c('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===u||i===u||l.isCrossDomain(e)||(s+='<input name="'+o+'" value="'+i+'" type="hidden" />'),r&&a.attr("target",r),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?c(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){l.formElements(t,l.disableSelector).each(function(){l.disableFormElement(c(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==u&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){l.formElements(t,l.enableSelector).each(function(){l.enableFormElement(c(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==u&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),r=!1;if(!n)return!0;if(l.fire(t,"confirm")){try{r=l.confirm(n)}catch(i){(console.error||console.log).call(console,i.stack||i)}e=l.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(t,e,n){var r,i,o,a=c(),s=e||"input,textarea",u=t.find(s),l={};return u.each(function(){(r=c(this)).is("input[type=radio]")?(o=r.attr("name"),l[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(i=t.find('input[type=radio][name="'+o+'"]'),a=a.add(i)),l[o]=o)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===n&&(a=a.add(r))}),!!a.length&&a},nonBlankInputs:function(t,e){return l.blankInputs(t,e,!0)},stopEverything:function(t){return c(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==u&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return l.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==u&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},l.fire(t,"rails:attachBindings")&&(c.ajaxPrefilter(function(t,e,n){t.crossDomain||l.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableFormElement(t)}),c(c.rails.linkDisableSelector).each(function(){var t=c(this);t.data("ujs:disabled")&&c.rails.enableElement(t)})}),t.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(c(this))}),t.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(c(this))}),t.on("click.rails",l.linkClickSelector,function(t){var e=c(this),n=e.data("method"),r=e.data("params"),i=t.metaKey||t.ctrlKey;if(!l.allowAction(e))return l.stopEverything(t);if(!i&&e.is(l.linkDisableSelector)&&l.disableElement(e),l.isRemote(e)){if(i&&(!n||"GET"===n)&&!r)return!0;var o=l.handleRemote(e);return!1===o?l.enableElement(e):o.fail(function(){l.enableElement(e)}),!1}return n?(l.handleMethod(e),!1):void 0}),t.on("click.rails",l.buttonClickSelector,function(t){var e=c(this);if(!l.allowAction(e)||!l.isRemote(e))return l.stopEverything(t);e.is(l.buttonDisableSelector)&&l.disableFormElement(e);var n=l.handleRemote(e);return!1===n?l.enableFormElement(e):n.fail(function(){l.enableFormElement(e)}),!1}),t.on("change.rails",l.inputChangeSelector,function(t){var e=c(this);return l.allowAction(e)&&l.isRemote(e)?(l.handleRemote(e),!1):l.stopEverything(t)}),t.on("submit.rails",l.formSubmitSelector,function(t){var e,n,r=c(this),i=l.isRemote(r);if(!l.allowAction(r))return l.stopEverything(t);if(r.attr("novalidate")===u)if(r.data("ujs:formnovalidate-button")===u){if((e=l.blankInputs(r,l.requiredInputSelector,!1))&&l.fire(r,"ajax:aborted:required",[e]))return l.stopEverything(t)}else r.data("ujs:formnovalidate-button",u);if(i){if(n=l.nonBlankInputs(r,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(r)},13);var o=l.fire(r,"ajax:aborted:file",[n]);return o||setTimeout(function(){l.enableFormElements(r)},13),o}return l.handleRemote(r),!1}setTimeout(function(){l.disableFormElements(r)},13)}),t.on("click.rails",l.formInputClickSelector,function(t){var e=c(this);if(!l.allowAction(e))return l.stopEverything(t);var n=e.attr("name"),r=n?{name:n,value:e.val()}:null,i=e.closest("form");0===i.length&&(i=c("#"+e.attr("form"))),i.data("ujs:submit-button",r),i.data("ujs:formnovalidate-button",e.attr("formnovalidate")),i.data("ujs:submit-button-formaction",e.attr("formaction")),i.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",l.formSubmitSelector,function(t){this===t.target&&l.disableFormElements(c(this))}),t.on("ajax:complete.rails",l.formSubmitSelector,function(t){this===t.target&&l.enableFormElements(c(this))}),c(function(){l.refreshCSRFTokens()}))}(jQuery),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return c.controller.visit(t,e)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(t){return c.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var c=t.Turbolinks;(function(){(function(){var n,r,u,t,e,i,o,a,s,l=[].slice;c.copyObject=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]=r;return n},c.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}},c.defer=function(t){return setTimeout(t,1)},c.throttle=function(n){var r;return r=null,function(){var t,e;return t=1<=arguments.length?l.call(arguments,0):[],null!=r?r:r=requestAnimationFrame((e=this,function(){return r=null,n.apply(e,t)}))}},c.dispatch=function(t,e){var n,r,i,o,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,r=a.data,(i=document.createEvent("Events")).initEvent(t,!0,!0===n),i.data=null!=r?r:{},i.cancelable&&!u&&(o=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),o.call(this)}),(null!=s?s:document).dispatchEvent(i),i},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),u=a.defaultPrevented,c.match=function(t,e){return r.call(t,e)},r=null!=(e=null!=(i=null!=(o=(t=document.documentElement).matchesSelector)?o:t.webkitMatchesSelector)?i:t.msMatchesSelector)?e:t.mozMatchesSelector,c.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){c.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,i;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||i(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},i=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=r(this.requestCanceled,this),this.requestTimedOut=r(this.requestTimedOut,this),this.requestFailed=r(this.requestFailed,this),this.requestLoaded=r(this.requestLoaded,this),this.requestProgressed=r(this.requestProgressed,this),this.url=c.Location.wrap(e).requestURL,this.referrer=c.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};c.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};c.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=i(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var n,r,e;return e=c.HttpRequest,n=e.NETWORK_FAILURE,r=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case r:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=c.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=c.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,r,i;return this.shouldHandlePopState()&&(i=null!=(n=t.state)?n.turbolinks:void 0)?(e=c.Location.wrap(window.location),r=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)):void 0},t.prototype.onPageLoad=function(){return c.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},t}()}.call(this),function(){c.HeadDetails=function(){function t(t){var e,n,r,i,o;for(this.elements={},n=0,i=t.length;n<i;n++)(o=t[n]).nodeType===Node.ELEMENT_NODE&&(r=o.outerHTML,(null!=(e=this.elements)[r]?e[r]:e[r]={type:s(o),tracked:a(o),elements:[]}).elements.push(o))}var o,e,n,a,s;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,i,o,a,s;for(r in a=[],i=this.elements)s=(o=i[r]).type,n=o.elements,s!==t||e.hasElementWithKey(r)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,r,i,o,a;for(e in n=[],r=this.elements)a=(i=r[e]).type,o=i.tracked,t=i.elements,null!=a||o?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,r,i;for(r in e=void 0,i=this.elements)n=i[r].elements,o(n[0],t)&&(e=n[0]);return e},s=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},a=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},o=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){c.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,r;return n=t.querySelector("head"),e=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(c.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new c.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(c){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.getPermanentElements()).length;n<r;n++)e=i[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var o=[].slice;c.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,r,i;return r=t,n=e,(i=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(this,3<=arguments.length?o.call(arguments,2):[],function(){})).delegate=r,i.render(n),i},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},
t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,r,i,o,a,s,u;for(s=[],n=0,r=(o=e.attributes).length;n<r;n++)i=(a=o[n]).name,u=a.value,s.push(t.setAttribute(i,u));return s},t}()}.call(this),function(){var s,u,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;c.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadStylesheetElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadScriptElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(this.createScriptElement(t)));return i},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.removeChild(t));return i},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getNewHeadProvisionalElements()).length;e<n;e++)t=r[e],i.push(document.head.appendChild(t));return i},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,r,i,o,a;for(a=[],t=0,e=(o=this.getCurrentBodyPermanentElements()).length;t<e;t++)r=o[t],i=s(r),n=this.newSnapshot.getPermanentElementById(r.id),u(r,i.element),u(n,r),a.push(i);return a},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,r,i,o,a;for(a=[],r=0,i=t.length;r<i;r++)n=(o=t[r]).element,e=o.permanentElement.cloneNode(!0),a.push(u(n,e));return a},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,r=(i=this.getNewBodyScriptElements()).length;e<r;e++)n=i[e],t=this.createScriptElement(n),o.push(u(n,t));return o},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(c.Renderer),s=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},u=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;c.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,r,i,o;for(o=[],e=0,n=(r=this.getScriptElements()).length;e<n;e++)i=r[e],t=this.createScriptElement(i),o.push(i.parentNode.replaceChild(t,i));return o},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(c.Renderer)}.call(this),function(){c.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return c.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,r,i;return i=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=i?this.renderSnapshot(i,r,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return c.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),c.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return c.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){c.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var r;return t.prototype.has=function(t){return r(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=r(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,r,i;for(i=[],t=0,n=(r=this.keys.splice(this.size)).length;t<n;t++)e=r[t],i.push(delete this.snapshots[e]);return i},r=function(t){return c.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};c.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=r(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=c.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};c.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,r;return null==e&&(e={}),t=c.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(r=e.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var r;return c.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:r})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=c.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=c.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,c.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return c.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return c.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return c.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return c.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var r,i,o,a,s;return a=(i=null!=n?n:{}).restorationIdentifier,o=i.restorationData,r=i.historyChanged,(s=new c.Visit(this,t,e)).restorationIdentifier=null!=a?a:c.uuid(),s.restorationData=c.copyObject(o),s.historyChanged=r,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?c.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new c.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=c.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;c.start=function(){return e()?(null==c.controller&&(c.controller=t()),c.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=c),n()},t=function(){var t;return(t=new c.Controller).adapter=new c.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}.call(this),function(r){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}r.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return r(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||r(n).trigger(r.support.transition.end)},t),this},r(function(){r.support.transition=t(),r.support.transition&&(r.event.special.bsTransitionEnd={bindType:r.support.transition.end,delegateType:r.support.transition.end,handle:function(t){if(r(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var t=o(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){o(t).on("click",e,this.close)};a.VERSION="3.3.5",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){i.detach().trigger("closed.bs.alert").remove()}var n=o(this),r=n.attr("data-target");r||(r=(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var i=o(r);t&&t.preventDefault(),i.length||(i=n.closest(".alert")),i.trigger(t=o.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),o.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=o.fn.alert;o.fn.alert=t,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(o){"use strict";function n(r){return this.each(function(){var t=o(this),e=t.data("bs.button"),n="object"==typeof r&&r;e||t.data("bs.button",e=new i(this,n)),"toggle"==r?e.toggle():r&&e.setState(r)})}var i=function(t,e){this.$element=o(t),this.options=o.extend({},i.DEFAULTS,e),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();t+="Text",null==i.resetText&&n.data("resetText",n[r]()),setTimeout(o.proxy(function(){n[r](null==i[t]?this.options[t]:i[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=o.fn.button;o.fn.button=n,o.fn.button.Constructor=i,o.fn.button.noConflict=function(){return o.fn.button=t,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=o(t.target);e.hasClass("btn")||(e=e.closest(".btn")),n.call(e,"toggle"),o(t.target).is('input[type="radio"]')||o(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){o(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(f){"use strict";function a(i){return this.each(function(){var t=f(this),e=t.data("bs.carousel"),n=f.extend({},d.DEFAULTS,t.data(),"object"==typeof i&&i),r="string"==typeof i?i:n.slide;e||t.data("bs.carousel",e=new d(this,n)),"number"==typeof i?e.to(i):r?e[r]():n.interval&&e.pause().cycle()})}var d=function(t,e){this.$element=f(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",f.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",f.proxy(this.pause,this)).on("mouseleave.bs.carousel",f.proxy(this.cycle,this))};d.VERSION="3.3.5",d.TRANSITION_DURATION=600,d.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},d.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},d.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(f.proxy(this.next,this),this.options.interval)),this},d.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},d.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(r)},d.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},d.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&f.support.transition&&(this.$element.trigger(f.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){if(!this.sliding)return this.slide("next")},d.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},d.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),r=e||this.getItemForDirection(t,n),i=this.interval,o="next"==t?"left":"right",a=this;if(r.hasClass("active"))return this.sliding=!1;var s=r[0],u=f.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,i&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=f(this.$indicators.children()[this.getItemIndex(r)]);l&&l.addClass("active")}var c=f.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return f.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,n.addClass(o),r.addClass(o),n.one("bsTransitionEnd",function(){r.removeClass([t,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(d.TRANSITION_DURATION)):(n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(c)),i&&this.cycle(),this}};var t=f.fn.carousel;f.fn.carousel=a,f.fn.carousel.Constructor=d,f.fn.carousel.noConflict=function(){return f.fn.carousel=t,this};var e=function(t){var e,n=f(this),r=f(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var i=f.extend({},r.data(),n.data()),o=n.attr("data-slide-to");o&&(i.interval=!1),a.call(r,i),o&&r.data("bs.carousel").to(o),t.preventDefault()}};f(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),f(window).on("load",function(){f('[data-ride="carousel"]').each(function(){var t=f(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function i(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(r){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},u.DEFAULTS,t.data(),"object"==typeof r&&r);!e&&n.toggle&&/show|hide/.test(r)&&(n.toggle=!1),e||t.data("bs.collapse",e=new u(this,n)),"string"==typeof r&&e[r]()})}var u=function(t,e){this.$element=a(t),this.options=a.extend({},u.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};u.VERSION="3.3.5",u.TRANSITION_DURATION=350,u.DEFAULTS={toggle:!0},u.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},u.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return i.call(this);var o=a.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(u.TRANSITION_DURATION)[r](this.$element[0][o])}}}},u.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(u.TRANSITION_DURATION)}}},u.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},u.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(i(n),n)},this)).end()},u.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=u,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){
var e=a(this);e.attr("data-target")||t.preventDefault();var n=i(e),r=n.data("bs.collapse")?"toggle":e.data();s.call(n,r)})}(jQuery),function(s){"use strict";function u(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function o(r){r&&3===r.which||(s(e).remove(),s(l).each(function(){var t=s(this),e=u(t),n={relatedTarget:this};e.hasClass("open")&&(r&&"click"==r.type&&/input|textarea/i.test(r.target.tagName)&&s.contains(e[0],r.target)||(e.trigger(r=s.Event("hide.bs.dropdown",n)),r.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new r(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",l='[data-toggle="dropdown"]',r=function(t){s(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.5",r.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=u(e),r=n.hasClass("open");if(o(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var i={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=u(e),r=n.hasClass("open");if(!r&&27!=t.which||r&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var i=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+i);if(o.length){var a=o.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=r,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,r.prototype.toggle).on("keydown.bs.dropdown.data-api",l,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(o){"use strict";function a(r,i){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},s.DEFAULTS,t.data(),"object"==typeof r&&r);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof r?e[r](i):n.show&&e.show(i)})}var s=function(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.5",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var r=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){o(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=o.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),t&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var e=o.Event("shown.bs.modal",{relatedTarget:n});t?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):r.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){e.removeBackdrop(),t&&t()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):i()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),r=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),i=r.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},r.data(),e.data());e.is("a")&&t.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(r,i,this)})}(jQuery),function(g){"use strict";function t(r){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof r&&e[r]())})}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.5",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var o=r[i];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},r=this.getDefaults();return this._options&&g.each(this._options,function(t,e){r[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,r=this.tip(),i=this.getUID(this.type);this.setContent(),r.attr("id",i),this.$element.attr("aria-describedby",i),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),l=r[0].offsetWidth,c=r[0].offsetHeight;if(s){var f=o,d=this.getPosition(this.$viewport);o="bottom"==o&&u.bottom+c>d.bottom?"top":"top"==o&&u.top-c<d.top?"bottom":"right"==o&&u.right+l>d.width?"left":"left"==o&&u.left-l<d.left?"right":o,r.removeClass(f).addClass(o)}var h=this.getCalculatedOffset(o,u,l,c);this.applyPlacement(h,o);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top+=o,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,u=n[0].offsetHeight;"top"==e&&u!=i&&(t.top=t.top+i-u);var l=this.getViewportAdjustedDelta(e,t,s,u);l.left?t.left+=l.left:t.top+=l.top;var c=/top|bottom/.test(e),f=c?2*l.left-r+s:2*l.top-i+u,d=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(f,n[0][d],c)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&r.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,r=g(this.$tip),i=g.Event("hide.bs."+this.type);if(this.$element.trigger(i),!i.isDefaultPrevented())return r.removeClass("in"),g.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,r=e.getBoundingClientRect();null==r.width&&(r=g.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},r,o,a,i)},m.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,u=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var l=e.left-o,c=e.left+o+n;l<a.left?i.left=a.left-l:c>a.right&&(i.left=a.left+a.width-c)}return i},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(i){"use strict";function t(r){return this.each(function(){var t=i(this),e=t.data("bs.popover"),n="object"==typeof r&&r;!e&&/destroy|hide/.test(r)||(e||t.data("bs.popover",e=new o(this,n)),"string"==typeof r&&e[r]())})}var o=function(t,e){this.init("popover",t,e)};if(!i.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.5",o.DEFAULTS=i.extend({},i.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=i.extend({},i.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=i.fn.popover;i.fn.popover=t,i.fn.popover.Constructor=o,i.fn.popover.noConflict=function(){return i.fn.popover=e,this}}(jQuery),function(o){"use strict";function i(t,e){this.$body=o(document.body),this.$scrollElement=o(t).is(document.body)?o(window):o(t),this.options=o.extend({},i.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function e(r){return this.each(function(){var t=o(this),e=t.data("bs.scrollspy"),n="object"==typeof r&&r;e||t.data("bs.scrollspy",e=new i(this,n)),"string"==typeof r&&e[r]()})}i.VERSION="3.3.5",i.DEFAULTS={offset:10},i.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},i.prototype.refresh=function(){var t=this,r="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(r="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&o(e);return n&&n.length&&n.is(":visible")&&[[n[r]().top+i,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},i.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),r<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(i[t+1]===undefined||e<i[t+1])&&this.activate(o[t])},i.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=o(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},i.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=o.fn.scrollspy;o.fn.scrollspy=e,o.fn.scrollspy.Constructor=i,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.5",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=e.find(".active:last a"),i=s.Event("hide.bs.tab",{relatedTarget:t[0]}),o=s.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),t.trigger(o),!o.isDefaultPrevented()&&!i.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},a.prototype.activate=function(t,e,n){function r(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var i=e.find("> .active"),o=n&&s.support.transition&&(i.length&&i.hasClass("fade")||!!e.find("> .fade").length);i.length&&o?i.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r(),i.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(u){"use strict";function n(r){return this.each(function(){var t=u(this),e=t.data("bs.affix"),n="object"==typeof r&&r;e||t.data("bs.affix",e=new l(this,n)),"string"==typeof r&&e[r]()})}var l=function(t,e){this.options=u.extend({},l.DEFAULTS,e),this.$target=u(this.options.target).on("scroll.bs.affix.data-api",u.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",u.proxy(this.checkPositionWithEventLoop,this)),this.$element=u(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.5",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return i<n&&"top";if("bottom"==this.affixed)return null!=n?!(i+this.unpin<=o.top)&&"bottom":!(i+a<=t-r)&&"bottom";var s=null==this.affixed,u=s?i:o.top;return null!=n&&i<=n?"top":null!=r&&t-r<=u+(s?a:e)&&"bottom"},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(l.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},l.prototype.checkPositionWithEventLoop=function(){setTimeout(u.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,r=e.bottom,i=Math.max(u(document).height(),u(document.body).height());"object"!=typeof e&&(r=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof r&&(r=e.bottom(this.$element));var o=this.getState(i,t,n,r);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=u.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:i-t-r})}};var t=u.fn.affix;u.fn.affix=n,u.fn.affix.Constructor=l,u.fn.affix.noConflict=function(){return u.fn.affix=t,this},u(window).on("load",function(){u('[data-spy="affix"]').each(function(){var t=u(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function I(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}function u(t){return t.length}function f(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function y(){this._=Object.create(null)}function n(t){return(t+="")===ha||t[0]===pa?pa+t:t}function r(t){return(t+="")[0]===pa?t.slice(1):t}function i(t){return n(t)in this._}function o(t){return(t=n(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(r(e));return t}function h(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function F(t){return t}function m(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ga.length;n<r;++n){var i=ga[n]+e;if(i in t)return i}}function x(){}function b(){}function w(i){function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}var o=[],a=new y;return t.on=function(t,e){var n,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,n=o.indexOf(r)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),i)},t}function O(){na.event.preventDefault()}function k(){for(var t,e=na.event;t=e.sourceEvent;)e=t;return e}function P(i){for(var o=new b,t=0,e=arguments.length;++t<e;)o[arguments[t]]=w(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=na.event;t.target=i,na.event=t,o[t.type].apply(n,r)}finally{na.event=e}}},o}function S(t){return va(t,wa),t}function C(t){return"function"==typeof t?t:function(){return ya(t,this)}}function M(t){return"function"==typeof t?t:function(){return ba(t,this)}}function A(e,n){function t(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,n)}function o(){this.setAttributeNS(e.space,e.local,n)}function a(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=na.ns.qualify(e),null==n?e.local?r:t:"function"==typeof n?e.local?s:a:e.local?o:i}function E(t){return t.trim().replace(/\s+/g," ")}function _(t){return new RegExp("(?:^|\\s+)"+na.requote(t)+"(?:\\s+|$)","g")}function T(t){return(t+"").trim().split(/^|\s+/)}function N(n,r){function t(){for(var t=-1;++t<i;)n[t](this,r)}function e(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}var i=(n=T(n).map(D)).length;return"function"==typeof r?e:t}function D(r){var i=_(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",E(n+" "+r))):t.setAttribute("class",E(n.replace(i," ")))}}function L(e,n,r){function t(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,n,r)}function o(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}return null==n?t:"function"==typeof n?o:i}function R(e,n){function t(){delete this[e]}function r(){this[e]=n}function i(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?i:r}function H(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=na.ns.qualify(n)).local?e:t}function $(){var t=this.parentNode;t&&t.removeChild(this)}function B(t){return{__data__:t}}function W(t){return function(){return xa(this,t)}}function j(n){return arguments.length||(n=a),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function q(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function z(t){return va(t,Sa),t}function V(a){var s,u;return function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}}function U(i,e,n){function r(){var t=this[a];t&&(this.removeEventListener(i,t,t.$),delete this[a])}function t(){var t=u(e,ia(arguments));r.call(this),this.addEventListener(i,this[a]=t,t.$=n),t._=e}function o(){var t,e=new RegExp("^__on([^.]+)"+na.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}var a="__on"+i,s=i.indexOf("."),u=X;0<s&&(i=i.slice(0,s));var l=Ca.get(i);return l&&(i=l,u=Y),s?e?t:r:e?x:o}function X(n,r){return function(t){var e=na.event;na.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{na.event=e}}}function Y(t,e){var r=X(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||r.call(e,t)}}function K(t){var n=".dragsuppress-"+ ++Aa,r="click"+n,i=na.select(I(t)).on("touchmove"+n,O).on("dragstart"+n,O).on("selectstart"+n,O);if(null==Ma&&(Ma=!("onselectstart"in t)&&v(t.style,"userSelect")),Ma){var o=s(t).style,a=o[Ma];o[Ma]="none"}return function(t){if(i.on(n,null),Ma&&(o[Ma]=a),t){var e=function(){i.on(r,null)};i.on(r,function(){O(),e()},!0),setTimeout(e,0)}}}function G(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Ea<0){var i=I(t);if(i.scrollX||i.scrollY){var o=(n=na.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ea=!(o.f||o.e),n.remove()}}return Ea?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Z(){return na.event.changedTouches[0].identifier}function J(t){return 0<t?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?Na:Math.acos(t)}function et(t){return 1<t?Ra:t<-1?-Ra:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,kt,st):new st(t,e,n)}function ut(t,e,n){function r(t){return 360<t?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,o=2*(n=n<0?0:1<n?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new vt(
i(t+120),i(t),i(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):ht(t instanceof ft?t.l:(t=St((t=na.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=Ia)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):St((t=vt(t)).r,t.g,t.b):new ft(t,e,n)}function dt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new vt(mt(3.2404542*(i=pt(i)*Va)-1.5371385*(r=pt(r)*Ua)-.4985314*(o=pt(o)*Xa)),mt(-.969266*i+1.8760108*r+.041556*o),mt(.0556434*i-.2040259*r+1.0572252*o))}function ht(t,e,n){return 0<t?new lt(Math.atan2(n,e)*Fa,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):wt(""+t,vt,ut):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Mt(i[0]),Mt(i[1]),Mt(i[2]))}return(o=Ga.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function kt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<u&&u<1?0:r),new st(r,i,u)}function St(t,e,n){var r=gt((.4124564*(t=Ct(t))+.3575761*(e=Ct(e))+.1804375*(n=Ct(n)))/Va),i=gt((.2126729*t+.7151522*e+.072175*n)/Ua);return ft(116*i-16,500*(r-i),200*(i-gt((.0193339*t+.119192*e+.9503041*n)/Xa)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function At(t){return"function"==typeof t?t:function(){return t}}function Et(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),_t(t,e,r,n)}}function _t(i,o,r,t){function e(){var t,e=l.status;if(!e&&Nt(l)||200<=e&&e<300||304===e){try{t=r.call(a,l)}catch(n){return void s.error.call(a,n)}s.load.call(a,t)}else s.error.call(a,l)}var a={},s=na.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(i)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=e:l.onreadystatechange=function(){3<l.readyState&&e()},l.onprogress=function(t){var e=na.event;na.event=t;try{s.progress.call(a,l)}finally{na.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",a):o},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return r=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(ia(arguments)))}}),a.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),l.open(t,i,!0),null==o||"accept"in u||(u.accept=o+",*/*"),l.setRequestHeader)for(var r in u)l.setRequestHeader(r,u[r]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=c&&(l.responseType=c),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(a,l),l.send(null==e?null:e),a},a.abort=function(){return l.abort(),a},na.rebind(a,s,"on"),null==t?a:a.get(Tt(t))}function Tt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Nt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(){var t=Lt(),e=Rt()-t;24<e?(isFinite(e)&&(clearTimeout(ts),ts=setTimeout(Dt,e)),Qa=0):(Qa=1,ns(Dt))}function Lt(){var t=Date.now();for(es=Za;es;)t>=es.t&&(es.f=es.c(t-es.t)),es=es.n;return t}function Rt(){for(var t,e=Za,n=Infinity;e;)e.f?e=t?t.n=e.n:Za=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ja=t,n}function It(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t,e){var n=Math.pow(10,3*da(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ot(t){var C=t.decimal,s=t.thousands,u=t.grouping,r=t.currency,M=u&&s?function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}:F;return function(t){var e=is.exec(t),c=e[1]||" ",f=e[2]||">",d=e[3]||"-",n=e[4]||"",h=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",x="",w=!1,k=!0;switch(m&&(m=+m.substring(1)),(h||"0"===c&&"="===f)&&(h=c="0",f="="),v){case"n":g=!0,v="g";break;case"%":y=100,x="%",v="f";break;case"p":y=100,x="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":k=!1;case"d":w=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=r[0],x=r[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=os.get(v)||Pt;var S=h&&g;return function(t){var e=x;if(w&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===d?"":d;if(y<0){var r=na.formatPrefix(t,m);t=r.scale(t),e=r.symbol+x}else t*=y;var i,o,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=k?t.lastIndexOf("e"):-1;s<0?(i=t,o=""):(i=t.substring(0,s),o=t.substring(s))}else i=t.substring(0,a),o=C+t.substring(a+1);!h&&g&&(i=M(i,Infinity));var u=b.length+i.length+o.length+(S?0:n.length),l=u<p?new Array(u=p-u+1).join(c):"";return S&&(i=M(l+i,l.length?p-o.length:Infinity)),n+=b,t=i+o,("<"===f?n+t+l:">"===f?l+n+t:"^"===f?l.substring(0,u>>=1)+n+t+l.substring(u):n+(S?t:l+t))+e}}}function Pt(t){return t+""}function Ht(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function $t(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new ss(t-1)),1),t}function i(t,e){return o(t=new ss(+t),e),t}function u(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}function e(t,e,n){try{var r=new(ss=Ht);return r._=t,u(r,e,n)}finally{ss=Date}}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=u;var n=r.utc=Bt(r);return(n.floor=n).round=Bt(t),n.ceil=Bt(s),n.offset=Bt(i),n.range=e,r}function Bt(r){return function(t,e){try{var n=new(ss=Ht);return n._=t,r(n,e)._}finally{ss=Date}}}function Wt(t){function r(s){function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=ls[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=_[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}var u=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ss!==Ht,r=new(n?Ht:ss);return"j"in e?r.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function i(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=T[a in ls?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.w=S.get(r[0].toLowerCase()),n+r[0].length):-1}function n(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){A.lastIndex=0;var r=A.exec(e.slice(n));return r?(t.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,n){return i(t,_.c.toString(),e,n)}function u(t,e,n){return i(t,_.x.toString(),e,n)}function l(t,e,n){return i(t,_.X.toString(),e,n)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,d=t.date,h=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;r.utc=function(t){function e(t){try{var e=new(ss=Ht);return e._=t,n(e)}finally{ss=Date}}var n=r(t);return e.parse=function(t){try{ss=Ht;var e=n.parse(t);return e&&e._}finally{ss=Date}},e.toString=n.toString,e},r.multi=r.utc.multi=se;var b=na.map(),x=qt(g),w=zt(g),k=qt(m),S=zt(m),C=qt(v),M=zt(v),A=qt(y),E=zt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var _={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:r(f),d:function(t,e){return jt(t.getDate(),e,2)},e:function(t,e){return jt(t.getDate(),e,2)},H:function(t,e){return jt(t.getHours(),e,2)},I:function(t,e){return jt(t.getHours()%12||12,e,2)},j:function(t,e){return jt(1+as.dayOfYear(t),e,3)},L:function(t,e){return jt(t.getMilliseconds(),e,3)},m:function(t,e){return jt(t.getMonth()+1,e,2)},M:function(t,e){return jt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return jt(t.getSeconds(),e,2)},U:function(t,e){return jt(as.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return jt(as.mondayOfYear(t),e,2)},x:r(d),X:r(h),y:function(t,e){return jt(t.getFullYear()%100,e,2)},Y:function(t,e){return jt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},T={a:e,A:n,b:o,B:a,c:s,d:Qt,e:Qt,H:ee,I:ee,j:te,L:ie,m:Jt,M:ne,p:c,S:re,U:Ut,w:Vt,W:Xt,x:u,X:l,y:Kt,Y:Yt,Z:Gt,"%":ae};return r}function jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function qt(t){return new RegExp("^(?:"+t.map(na.requote).join("|")+")","i")}function zt(t){for(var e=new y,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ut(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Xt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Yt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Gt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(68<t?1900:2e3)}function Jt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Qt(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function te(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ee(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ne(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){cs.lastIndex=0;var r=cs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=da(e)/60|0,i=da(e)%60;return n+jt(r,"0",2)+jt(i,"0",2)}function ae(t,e,n){fs.lastIndex=0;var r=fs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function se(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}function ue(){}function le(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ce(t,e){t&&gs.hasOwnProperty(t.type)&&gs[t.type](t,e)}function fe(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function he(){function n(t,e){e=e*Ia/2+Na/4;var n=(t*=Ia)-c,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),s=d*a,u=f*o+s*Math.cos(i),l=s*r*Math.sin(i);_s.add(Math.atan2(l,u)),c=t,f=o,d=a}var r,i,c,f,d;Ts.point=function(t,e){Ts.point=n,c=(r=t)*Ia,f=Math.cos(e=(i=e)*Ia/2+Na/4),d=Math.sin(e)},Ts.lineEnd=function(){n(r,i)}}function pe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function me(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ve(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return da(t[0]-e[0])<_a&&da(t[1]-e[1])<_a}function ke(t,e){t*=Ia;var n=Math.cos(e*=Ia);Se(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Se(t,e,n){bs+=(t-bs)/++vs,xs+=(e-xs)/vs,ws+=(n-ws)/vs}function Ce(){function r(t,e){t*=Ia;var n=Math.cos(e*=Ia),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*i)*a+(a=l*r-s*o)*a+(a=s*i-u*r)*a),s*r+u*i+l*o);ys+=a,ks+=a*(s+(s=r)),Ss+=a*(u+(u=i)),Cs+=a*(l+(l=o)),Se(s,u,l)}var s,u,l;Ns.point=function(t,e){t*=Ia;var n=Math.cos(e*=Ia);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Ns.point=r,Se(s,u,l)}}function Me(){Ns.point=ke}function Ae(){function r(t,e){t*=Ia;var n=Math.cos(e*=Ia),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=p*o-g*i,s=g*r-h*o,u=h*i-p*r,l=Math.sqrt(a*a+s*s+u*u),c=h*r+p*i+g*o,f=l&&-tt(c)/l,d=Math.atan2(l,c);Ms+=f*a,As+=f*s,Es+=f*u,ys+=d,ks+=d*(h+(h=r)),Ss+=d*(p+(p=i)),Cs+=d*(g+(g=o)),Se(h,p,g)}var i,o,h,p,g;Ns.point=function(t,e){i=t,o=e,Ns.point=r,t*=Ia;var n=Math.cos(e*=Ia);h=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Se(h,p,g)},Ns.lineEnd=function(){r(i,o),Ns.lineEnd=Me,Ns.point=ke}}function Ee(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function _e(){return!0}function Te(t,e,n,r,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);s.lineEnd()}else{var o=new De(n,t,null,!0),a=new De(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new De(r,null,o=new De(r,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}}),l.sort(e),Ne(u),Ne(l),u.length){for(var i=0,o=n,a=l.length;i<a;++i)l[i].e=o=!o;for(var c,f,d=u[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=c.length;i<a;++i)s.point((f=c[i])[0],f[1]);else r(h.x,h.n.x,1,s);h=h.n}else{if(p)for(i=(c=h.p.z).length-1;0<=i;--i)s.point((f=c[i])[0],f[1]);else r(h.x,h.p.x,-1,s);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);s.lineEnd()}}}function Ne(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function De(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Le(y,b,x,w){return function(r,a){function e(t,e){var n=r(t,e);y(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=r(t,e);d.point(n[0],n[1])}function n(){p.point=t,d.lineStart()}function i(){p.point=e,d.lineEnd()}function s(t,e){f.push([t,e]);var n=r(t,e);m.point(n[0],n[1])}function o(){m.lineStart(),f=[]}function u(){s(f[0][0],f[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),r=n.length;if(f.pop(),c.push(f),f=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(v||(a.polygonStart(),v=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(Re))}var l,c,f,d=b(a),h=r.invert(w[0],w[1]),p={point:e,lineStart:n,lineEnd:i,polygonStart:function(){p.point=s,p.lineStart=o,p.lineEnd=u,l=[],c=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=i,l=na.merge(l);var t=$e(h,c);l.length?(v||(a.polygonStart(),v=!0),Te(l,Fe,t,x,a)):t&&(v||(a.polygonStart(),v=!0),a.lineStart(),x(null,null,1,a),a.lineEnd()),v&&(a.polygonEnd(),v=!1),l=c=null},sphere:function(){a.polygonStart(),a.lineStart(),x(null,null,1,a),a.lineEnd(),a.polygonEnd()}},g=Ie(),m=b(g),v=!1;return p}}function Re(t){return 1<t.length}function Ie(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:x,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Fe(t,e){return((t=t.x)[0]<0?t[1]-Ra-_a:Ra-t[1])-((e=e.x)[0]<0?e[1]-Ra-_a:Ra-e[1])}function Oe(i){var o,a=NaN,s=NaN,u=NaN;return{lineStart:function(){i.lineStart(),o=1},point:function(t,e){var n=0<t?Na:-Na,r=da(t-a);da(r-Na)<_a?(i.point(a,s=0<(s+e)/2?Ra:-Ra),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),i.point(t,s),o=0):u!==n&&Na<=r&&(da(a-u)<_a&&(a-=u*_a),da(t-n)<_a&&(t-=n*_a),s=Pe(a,s,t,e),i.point(u,s),i.lineEnd(),i.lineStart(),i.point(n,s),o=0),i.point(a=t,s=e),u=n},lineEnd:function(){i.lineEnd(),a=s=NaN},clean:function(){return 2-o}}}function Pe(t,e,n,r){var i,o,a=Math.sin(t-n);return da(a)>_a?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function He(t,e,n,r){var i;if(null==t)i=n*Ra,r.point(-Na,i),r.point(0,i),r.point(Na,i),r.point(Na,0),r.point(Na,-i),r.point(0,-i),r.point(-Na,-i),r.point(-Na,0),r.point(-Na,i);else if(da(t[0]-e[0])>_a){var o=t[0]<e[0]?Na:-Na;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function $e(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_s.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+Na/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0);var v=(t=l[m])[0],y=t[1]/2+Na/4,b=Math.sin(y),x=Math.cos(y),w=v-d,k=0<=w?1:-1,S=k*w,C=Na<S,M=p*b;if(_s.add(Math.atan2(M*k*Math.sin(S),g*x+M*Math.cos(S))),o+=C?w+k*Da:w,C^n<=d^n<=v){var A=me(pe(f),pe(t));be(A);var E=me(i,A);be(E);var _=(C^0<=w?-1:1)*et(E[2]);(_<r||r===_&&(A[0]||A[1]))&&(a+=C^0<=w?1:-1)}if(!m++)break;d=v,p=b,g=x,f=t}}return(o<-_a||o<_a&&_s<0)^1&a}function Be(i){function h(t,e){return Math.cos(t)*Math.cos(e)>A}function t(s){var u,l,c,f,d;return{lineStart:function(){f=c=!1,d=1},point:function(t,e){var n,r=[t,e],i=h(t,e),o=m?i?0:g(t,e):i?g(t+(t<0?Na:-Na),e):0;if(!u&&(f=c=i)&&s.lineStart(),i!==c&&(n=p(u,r),(we(u,n)||we(r,n))&&(r[0]+=_a,r[1]+=_a,i=h(r[0],r[1]))),i!==c)d=0,i?(s.lineStart(),n=p(r,u),s.point(n[0],n[1])):(n=p(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(v&&u&&m^i){var a;o&l||!(a=p(r,u,!0))||(d=0,m?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&we(u,r)||s.point(r[0],r[1]),u=r,c=i,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return d|(f&&c)<<1}}}function p(t,e,n){var r=[1,0,0],i=me(pe(t),pe(e)),o=ge(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=A*o/s,l=-A*a/s,c=me(r,i),f=ye(r,u);ve(f,ye(i,l));var d=c,h=ge(f,d),p=ge(d,d),g=h*h-p*(ge(f,f)-1);if(!(g<0)){var m=Math.sqrt(g),v=ye(d,(-h-m)/p);if(ve(v,f),v=xe(v),!n)return v;var y,b=t[0],x=e[0],w=t[1],k=e[1];x<b&&(y=b,b=x,x=y);var S=x-b,C=da(S-Na)<_a;if(!C&&k<w&&(y=w,w=k,k=y),C||S<_a?C?0<w+k^v[1]<(da(v[0]-b)<_a?w:k):w<=v[1]&&v[1]<=k:Na<S^(b<=v[0]&&v[0]<=x)){var M=ye(d,(-h+m)/p);return ve(M,f),[v,xe(M)]}}}function g(t,e){var n=m?i:Na-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}var A=Math.cos(i),m=0<A,v=da(A)>_a;return Le(h,t,pn(i,6*Ia),m?[0,-i]:[-Na,i-Na])}function We(c,f,d,h){return function(t){var e,n=t.a,r=t.b,i=n.x,o=n.y,a=0,s=1,u=r.x-i,l=r.y-o;if(e=c-i,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=d-i,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=f-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=h-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:i+a*u,y:o+a*l}),s<1&&(t.b={x:i+s*u,y:o+s*l}),t}}}}}}function je(S,C,M,A){function E(t,e){return da(t[0]-S)<_a?0<e?0:3:da(t[0]-M)<_a?0<e?2:1:da(t[1]-C)<_a?0<e?1:0:0<e?3:2}function _(t,e){return T(t.x,e.x)}function T(t,e){var n=E(t,1),r=E(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){function r(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&0<Q(l,o,t)&&++e:o[1]<=r&&Q(l,o,t)<0&&--e,l=o;return 0!==e}function o(t,e,n,r){var i=0,o=0;if(null==t||(i=E(t,n))!==(o=E(e,n))||T(t,e)<0^0<n)for(;r.point(0===i||3===i?S:M,1<i?A:C),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return S<=t&&t<=M&&C<=e&&e<=A}function t(t,e){a(t,e)&&i.point(t,e)}function e(){k.point=s,c&&c.push(l=[]),m=!(v=!0),p=g=NaN}function n(){u&&(s(f,d),h&&m&&x.rejoin(),u.push(x.buffer())),k.point=t,m&&i.lineEnd()}function s(t,e){var n=a(t=Math.max(-Ls,Math.min(Ls,t)),e=Math.max(-Ls,Math.min(Ls,e)));if(c&&l.push([t,e]),v)f=t,d=e,v=!1,(h=n)&&(i.lineStart(),i.point(t,e));else if(n&&m)i.point(t,e);else{var r={a:{x:p,y:g},b:{x:t,y:e}};w(r)?(m||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),y=!1):n&&(i.lineStart(),i.point(t,e),y=!1)}p=t,g=e,m=n}var u,c,l,f,d,h,p,g,m,v,y,b=i,x=Ie(),w=We(S,C,M,A),k={point:t,lineStart:e,lineEnd:n,polygonStart:function(){i=x,u=[],c=[],y=!0},polygonEnd:function(){i=b,u=na.merge(u);var t=r([S,A]),e=y&&t,n=u.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),o(null,null,1,i),i.lineEnd()),n&&Te(u,_,t,o,i),i.polygonEnd()),u=c=l=null}};return k}}function qe(t){var e=0,n=Na/3,r=an(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Na/180,n=t[1]*Na/180):[e/Na*180,n/Na*180]},i}function ze(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ve(){function n(t,e){Is+=a*t-o*e,o=t,a=e}var r,i,o,a;Bs.point=function(t,e){Bs.point=n,r=o=t,i=a=e},Bs.lineEnd=function(){n(r,i)}}function Ue(t,e){t<Fs&&(Fs=t),Ps<t&&(Ps=t),e<Os&&(Os=e),Hs<e&&(Hs=e)}function Xe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ye(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ye(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){bs+=t,xs+=e,++ws}function Ge(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);ks+=i*(o+t)/2,Ss+=i*(a+e)/2,Cs+=i,Ke(o=t,a=e)}var o,a;js.point=function(t,e){js.point=n,Ke(o=t,a=e)}}function Ze(){js.point=Ke}function Je(){function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);ks+=i*(o+t)/2,Ss+=i*(a+e)/2,Cs+=i,Ms+=(i=a*t-o*e)*(o+t),As+=i*(a+e),Es+=3*i,Ke(o=t,a=e)}var r,i,o,a;js.point=function(t,e){js.point=n,Ke(r=o=t,i=a=e)},js.lineEnd=function(){n(r,i)}}function Qe(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Da)}function e(t,e){n.moveTo(t,e),s.point=r}function r(t,e){n.lineTo(t,e)}function i(){s.point=t}function o(){n.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=t,s},result:x};return s}function tn(T){function e(t){return(w?r:n)(t)}function n(n){return rn(n,function(t,e){t=T(t,e),n.point(t[0],t[1])})}function r(i){function t(t,e){t=T(t,e),i.point(t[0],t[1])}function e(){g=NaN,x.point=n,i.lineStart()}function n(t,e){var n=pe([t,e]),r=T(t,e);N(g,m,p,v,y,b,g=r[0],m=r[1],p=t,v=n[0],y=n[1],b=n[2],w,i),i.point(g,m)}function r(){x.point=t,i.lineEnd()}function o(){e(),x.point=a,x.lineEnd=s}function a(t,e){n(u=t,e),l=g,c=m,f=v,d=y,h=b,x.point=n}function s(){N(g,m,p,v,y,b,l,c,u,f,d,h,w,i),(x.lineEnd=r)()}var u,l,c,f,d,h,p,g,m,v,y,b,x={point:t,lineStart:e,lineEnd:r,polygonStart:function(){i.polygonStart(),x.lineStart=o},polygonEnd:function(){i.polygonEnd(),x.lineStart=e}};return x}function N(t,e,n,r,i,o,a,s,u,l,c,f,d,h){var p=a-t,g=s-e,m=p*p+g*g;if(4*D<m&&d--){var v=r+l,y=i+c,b=o+f,x=Math.sqrt(v*v+y*y+b*b),w=Math.asin(b/=x),k=da(da(b)-1)<_a||da(n-u)<_a?(n+u)/2:Math.atan2(y,v),S=T(k,w),C=S[0],M=S[1],A=C-t,E=M-e,_=g*A-p*E;(D<_*_/m||.3<da((p*A+g*E)/m-.5)||r*l+i*c+o*f<L)&&(N(t,e,n,r,i,o,C,M,k,v/=x,y/=x,b,d,h),h.point(C,M),N(C,M,k,v,y,b,a,s,u,l,c,f,d,h))}}var D=.5,L=Math.cos(30*Ia),w=16;return e.precision=function(t){return arguments.length?(w=0<(D=t*t)&&16,e):Math.sqrt(D)},e}function en(n){var e=tn(function(t,e){return n([t*Fa,e*Fa])});return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return an(function(){return t})()}function an(t){function e(t){return[(t=s(t[0]*Ia,t[1]*Ia))[0]*d+u,l-t[1]*d]}function n(t){return(t=s.invert((t[0]-u)/d,(l-t[1])/d))&&[t[0]*Fa,t[1]*Fa]}function r(){s=Ee(a=cn(v,y,b),o);var t=o(g,m);return u=h-t[0]*d,l=p+t[1]*d,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,f=tn(function(t,e){return[(t=o(t,e))[0]*d+u,l-t[1]*d]}),d=150,h=480,p=250,g=0,m=0,v=0,y=0,b=0,x=Ds,w=F,k=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),(c=sn(x(a,f(w(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,Ds):Be((k=+t)*Ia),i()):k},e.clipExtent=function(t){return arguments.length?(w=(S=t)?je(t[0][0],t[0][1],t[1][0],t[1][1]):F,i()):S},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ia,m=t[1]%360*Ia,r()):[g*Fa,m*Fa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ia,y=t[1]%360*Ia,b=2<t.length?t[2]%360*Ia:0,r()):[v*Fa,y*Fa,b*Fa]},na.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sn(n){return rn(n,function(t,e){n.point(t*Ia,e*Ia)})}function un(t,e){return[t,e]}function ln(t,e){return[Na<t?t-Da:t<-Na?t+Da:t,e]}function cn(t,e,n){return t?e||n?Ee(dn(t),hn(e,n)):dn(t):e||n?hn(e,n):ln}function fn(n){return function(t,e){return[Na<(t+=n)?t-Da:t<-Na?t+Da:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function hn(t,e){function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*s+r*u;return[Math.atan2(i*l-a*c,r*s-o*u),et(a*l+i*c)]}var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*l-i*c;return[Math.atan2(i*l+o*c,r*s+a*u),et(a*s-r*u)]},n}function pn(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,r){var i=n*u;null!=t?(t=gn(l,t),e=gn(l,e),(0<n?t<e:e<t)&&(t+=n*Da)):(t=s+n*Da,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=xe([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function gn(t,e){var n=pe(e);n[0]-=t,be(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-_a)%(2*Math.PI)}function mn(t,e,n){var r=na.range(t,e-_a,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function vn(t,e,n){var r=na.range(t,e-_a,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function yn(t){return t.source}function bn(t){return t.target}function xn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(ot(r-e)+i*o*ot(n-t))),h=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*u+e*c,i=n*l+e*f,o=n*a+e*s;return[Math.atan2(i,r)*Fa,Math.atan2(o,Math.sqrt(r*r+i*i))*Fa]}:function(){return[t*Fa,e*Fa]};return p.distance=d,p}function wn(){function n(t,e){var n=Math.sin(e*=Ia),r=Math.cos(e),i=da((t*=Ia)-a),o=Math.cos(i);$s+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=u*n-s*r*o)*i),s*n+u*r*o),a=t,s=n,u=r}var a,s,u;qs.point=function(t,e){a=t*Ia,s=Math.sin(e*=Ia),u=Math.cos(e),qs.point=n},qs.lineEnd=function(){qs.point=qs.lineEnd=x}}function kn(o,a){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=o(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=a(n),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,n*o),Math.asin(n&&e*i/n)]},t}function Sn(t,e){function n(t,e){0<a?e<-Ra+_a&&(e=-Ra+_a):Ra-_a<e&&(e=Ra-_a);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Na/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ra]},n):Mn}function Cn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return da(i)<_a?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-J(i)*Math.sqrt(t*t+n*n)]},n)}function Mn(t,e){return[t,Math.log(Math.tan(Na/4+e/2))]}function An(t){var i,o=on(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(i=null==t){var n=Na*a(),r=s();u([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},o.clipExtent(null)}function En(t,e){return[Math.log(Math.tan(Na/4+e/2)),-t]}function _n(t){return t[0]}function Tn(t){return t[1]}function Nn(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function Ln(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,d=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+d*a,u+d*c]}function In(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Fn(){nr(this),this.edge=this.site=this.circle=null}function On(t){var e=eu.pop()||new Fn;return e.site=t,e}function Pn(t){Xn(t),Js.remove(t),eu.push(t),nr(t)}function Hn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Pn(t);for(var u=o;u.circle&&da(n-u.circle.x)<_a&&da(r-u.circle.cy)<_a;)o=u.P,s.unshift(u),Pn(u),u=o;s.unshift(u),Xn(u);for(var l=a;l.circle&&da(n-l.circle.x)<_a&&da(r-l.circle.cy)<_a;)a=l.N,s.push(l),Pn(l),l=a;s.push(l),Xn(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],Qn(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=Zn(u.site,l.site,null,i),Un(u),Un(l)}function $n(t){for(var e,n,r,i,o=t.x,a=t.y,s=Js._;s;)if(r=Bn(s,a)-o,_a<r)s=s.L;else{if(i=o-Wn(s,a),!(_a<i)){-_a<r?(e=s.P,n=s):-_a<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=On(t);if(Js.insert(e,u),e||n){if(e===n)return Xn(e),n=On(e.site),Js.insert(u,n),u.edge=n.edge=Zn(e.site,u.site),Un(e),void Un(n);if(n){Xn(e),Xn(n);var l=e.site,c=l.x,f=l.y,d=t.x-c,h=t.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(d*m-h*g),y=d*d+h*h,b=g*g+m*m,x={x:(m*y-h*b)/v+c,y:(d*b-g*y)/v+f};Qn(n.edge,l,p,x),u.edge=Zn(l,t,null,x),n.edge=Zn(t,p,null,x),Un(e),Un(n)}else u.edge=Zn(e.site,u.site)}}function Bn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-Infinity;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function Wn(t,e){var n=t.N;if(n)return Bn(n,e);var r=t.site;return r.y===e?r.x:Infinity}function jn(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,r,i,o,a,s,u,l,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],g=Zs,m=g.length;m--;)if((o=g[m])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(da(r-e)>_a||da(i-n)>_a)&&(s.splice(a,0,new tr(Jn(o.site,c,da(r-f)<_a&&_a<p-i?{x:f,y:da(e-f)<_a?n:p}:da(i-p)<_a&&_a<d-r?{x:da(n-p)<_a?e:d,
y:p}:da(r-d)<_a&&_a<i-h?{x:d,y:da(e-d)<_a?n:h}:da(i-h)<_a&&_a<r-f?{x:da(n-h)<_a?e:f,y:h}:null),o.site,null)),++u)}function zn(t,e){return e.angle-t.angle}function Vn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=2*(u*(m=o.y-s)-l*c);if(!(-Ta<=f)){var d=u*u+l*l,h=c*c+m*m,p=(m*d-l*h)/f,g=(u*h-c*d)/f,m=g+s,v=nu.pop()||new Vn;v.arc=t,v.site=i,v.x=p+a,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var y=null,b=tu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}tu.insert(y,v),y||(Qs=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(Qs=e.N),tu.remove(e),nu.push(e),nr(e),t.circle=null)}function Yn(t){for(var e,n=Gs,r=We(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Kn(e=n[i],t)||!r(e)||da(e.a.x-e.b.x)<_a&&da(e.a.y-e.b.y)<_a)&&(e.a=e.b=null,n.splice(i,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,g=f.y,m=(d+p)/2,v=(h+g)/2;if(g===h){if(m<a||s<=m)return;if(p<d){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(i=v-(r=(d-p)/(g-h))*m,r<-1||1<r)if(p<d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(h<g){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Gn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Gn(t,e);return Gs.push(i),n&&Qn(i,t,e,n),r&&Qn(i,e,t,r),Zs[t.i].edges.push(new tr(i,t,e)),Zs[e.i].edges.push(new tr(i,e,t)),i}function Jn(t,e,n){var r=new Gn(t,null);return r.a=e,r.b=n,Gs.push(r),r}function Qn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function ar(t,e){var n,r,i,o=t.sort(sr).pop();for(Gs=[],Zs=new Array(t.length),Js=new er,tu=new er;;)if(i=Qs,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(Zs[o.i]=new jn(o),$n(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Hn(i.arc)}e&&(Yn(e),qn(e));var a={cells:Zs,edges:Gs};return Js=tu=Gs=Zs=null,a}function sr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function cr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&dr(t,u[0],n,r,a,s),u[1]&&dr(t,u[1],a,r,i,s),u[2]&&dr(t,u[2],n,s,a,o),u[3]&&dr(t,u[3],a,s,i,o)}}function hr(t,g,m,v,y,b,x){var w,k=Infinity;return function S(t,e,n,r,i){if(!(b<e||x<n||r<v||i<y)){if(o=t.point){var o,a=g-t.x,s=m-t.y,u=a*a+s*s;if(u<k){var l=Math.sqrt(k=u);v=g-l,y=m-l,b=g+l,x=m+l,w=o}}for(var c=t.nodes,f=.5*(e+r),d=.5*(n+i),h=(d<=m)<<1|f<=g,p=h+4;h<p;++h)if(t=c[3&h])switch(3&h){case 0:S(t,e,n,f,d);break;case 1:S(t,f,n,r,d);break;case 2:S(t,e,d,f,i);break;case 3:S(t,f,d,r,i)}}}(t,v,y,b,x),w}function pr(t,e){t=na.rgb(t),e=na.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(r+a*t))+xt(Math.round(i+s*t))}}function gr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function mr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function vr(t,r){var e,n,i,o=iu.lastIndex=ou.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=iu.exec(t))&&(n=ou.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:mr(e,n)})),o=ou.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(r=u[0].x,function(t){return r(t)+""}):function(){return r}:(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}function yr(t,e){for(var n,r=na.interpolators.length;0<=--r&&!(n=na.interpolators[r](t,e)););return n}function br(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(yr(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function xr(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function wr(e){return function(t){return 1-e(1-t)}}function kr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Sr(t){return t*t}function Cr(t){return t*t*t}function Mr(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ar(e){return function(t){return Math.pow(t,e)}}function Er(t){return 1-Math.cos(t*Ra)}function _r(t){return Math.pow(2,10*(t-1))}function Tr(t){return 1-Math.sqrt(1-t*t)}function Nr(e,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/Da*Math.asin(1/e):(e=1,r=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*Da/n)}}function Dr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Lr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=na.hcl(t),e=na.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=na.hsl(t),e=na.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,r+a*t,i+s*t)+""}}function Fr(t,e){t=na.lab(t),e=na.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return dt(n+o*t,r+a*t,i+s*t)+""}}function Or(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Pr(t){var e=[t.a,t.b],n=[t.c,t.d],r=$r(e),i=Hr(e,n),o=$r(Br(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Fa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Fa:0}function Hr(t,e){return t[0]*e[0]+t[1]*e[1]}function $r(t){var e=Math.sqrt(Hr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Br(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Wr(t,e){var r,i=[],o=[],n=na.transform(t),a=na.transform(e),s=n.translate,u=a.translate,l=n.rotate,c=a.rotate,f=n.skew,d=a.skew,h=n.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),o.push({i:1,x:mr(s[0],u[0])},{i:3,x:mr(s[1],u[1])})):u[0]||u[1]?i.push("translate("+u+")"):i.push(""),l!=c?(180<l-c?c+=360:180<c-l&&(l+=360),o.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mr(l,c)})):c&&i.push(i.pop()+"rotate("+c+")"),f!=d?o.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mr(f,d)}):d&&i.push(i.pop()+"skewX("+d+")"),h[0]!=p[0]||h[1]!=p[1]?(r=i.push(i.pop()+"scale(",null,",",null,")"),o.push({i:r-4,x:mr(h[0],p[0])},{i:r-2,x:mr(h[1],p[1])})):1==p[0]&&1==p[1]||i.push(i.pop()+"scale("+p+")"),r=o.length,function(t){for(var e,n=-1;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}function jr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function qr(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function zr(t){for(var e=t.source,n=t.target,r=Ur(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Vr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Ur(t,e){if(t===e)return t;for(var n=Vr(t),r=Vr(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xr(t){t.fixed|=2}function Yr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Gr(t){t.fixed&=-5}function Zr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(Zr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Jr(t,e){return na.rebind(t,e,"sort","children","value"),(t.nodes=t).links=ii,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function ti(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ei(t){return t.children}function ni(t){return t.value}function ri(t,e){return e.value-t.value}function ii(t){return na.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function oi(t){return t.x}function ai(t){return t.y}function si(t,e,n){t.y0=e,t.y=n}function ui(t){return na.range(t.length)}function li(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ci(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function fi(t){return t.reduce(di,0)}function di(t,e){return t+e[1]}function hi(t,e){return pi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function pi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function gi(t){return[na.min(t),na.max(t)]}function mi(t,e){return t.value-e.value}function vi(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function yi(t,e){(t._pack_next=e)._pack_prev=t}function bi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function xi(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=Infinity,f=-Infinity,d=Infinity,h=-Infinity;if(n.forEach(wi),(r=n[0]).x=-r.r,r.y=0,e(r),1<l&&((i=n[1]).x=i.r,i.y=0,e(i),2<l))for(Ci(r,i,o=n[2]),e(o),vi(r,o),vi(r._pack_prev=o,i),i=r._pack_next,a=3;a<l;a++){Ci(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!bi(u,o);u=u._pack_prev,m++);p?(g<m||g==m&&i.r<r.r?yi(r,i=s):yi(r=u,i),a--):(vi(r,o),e(i=o))}var v=(c+f)/2,y=(d+h)/2,b=0;for(a=0;a<l;a++)(o=n[a]).x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(ki)}}function wi(t){t._pack_next=t._pack_prev=t}function ki(t){delete t._pack_next,delete t._pack_prev}function Si(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Si(i[o],e,n,r)}function Ci(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Mi(t,e){return t.parent==e.parent?1:2}function Ai(t){var e=t.children;return e.length?e[0]:t.t}function Ei(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function _i(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ti(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ni(t,e,n){return t.a.parent===e.parent?t.a:n}function Di(t){return 1+na.max(t,function(t){return t.y})}function Li(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ri(t){var e=t.children;return e&&e.length?Ri(e[0]):t}function Ii(t){var e,n=t.children;return n&&(e=n.length)?Ii(n[e-1]):t}function Fi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Pi(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Hi(t){return t.rangeExtent?t.rangeExtent():Pi(t.range())}function $i(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Bi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Wi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:mu}function ji(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=na.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function qi(n,r,i,o){function e(){var t=2<Math.min(n.length,r.length)?ji:$i,e=o?qr:jr;return s=t(n,r,e,i),u=t(r,n,e,yr),a}function a(t){return s(t)}var s,u;return a.invert=function(t){return u(t)},a.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},a.range=function(t){return arguments.length?(r=t,e()):r},a.rangeRound=function(t){return a.range(t).interpolate(Or)},a.clamp=function(t){return arguments.length?(o=t,e()):o},a.interpolate=function(t){return arguments.length?(i=t,e()):i},a.ticks=function(t){return Xi(n,t)},a.tickFormat=function(t,e){return Yi(n,t,e)},a.nice=function(t){return Vi(n,t),e()},a.copy=function(){return qi(n,r,i,o)},e()}function zi(t,e){return na.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Vi(t,e){return Bi(t,Wi(Ui(t,e)[2]))}function Ui(t,e){null==e&&(e=10);var n=Pi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xi(t,e){return na.range.apply(na,Ui(t,e))}function Yi(t,e,n){var r=Ui(t,e);if(n){var i=is.exec(n);if(i.shift(),"s"===i[8]){var o=na.formatPrefix(Math.max(da(r[0]),da(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",n=na.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Gi(i[8],r)),n=i.join("")}else n=",."+Ki(r[2])+"f";return na.format(n)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Gi(t,e){var n=Ki(e[2]);return t in vu?Math.abs(n-Ki(Math.max(da(e[0]),da(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Zi(e,u,l,c){function f(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function d(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function o(t){return e(f(t))}return o.invert=function(t){return d(e.invert(t))},o.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(f)),o):c},o.base=function(t){return arguments.length?(u=+t,e.domain(c.map(f)),o):u},o.nice=function(){var t=Bi(c.map(f),l?Math:bu);return e.domain(t),c=t.map(d),o},o.ticks=function(){var t=Pi(c),e=[],n=t[0],r=t[1],i=Math.floor(f(n)),o=Math.ceil(f(r)),a=u%1?2:u;if(isFinite(o-i)){if(l){for(;i<o;i++)for(var s=1;s<a;s++)e.push(d(i)*s);e.push(d(i))}else for(e.push(d(i));i++<o;)for(s=a-1;0<s;s--)e.push(d(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e},o.tickFormat=function(t,e){if(!arguments.length)return yu;arguments.length<2?e=yu:"function"!=typeof e&&(e=na.format(e));var n,r=Math.max(.1,t/o.ticks().length),i=l?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/d(i(f(t)+n))<=r?e(t):""}},o.copy=function(){return Zi(e.copy(),u,l,c)},zi(o,e)}function Ji(e,n,r){function i(t){return e(o(t))}var o=Qi(n),a=Qi(1/n);return i.invert=function(t){return a(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(o)),i):r},i.ticks=function(t){return Xi(r,t)},i.tickFormat=function(t,e){return Yi(r,t,e)},i.nice=function(t){return i.domain(Vi(r,t))},i.exponent=function(t){return arguments.length?(o=Qi(n=t),a=Qi(1/n),e.domain(r.map(o)),i):n},i.copy=function(){return Ji(e.copy(),n,r)},zi(i,e)}function Qi(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function to(s,u){function l(t){return f[((i.get(t)||("range"===u.t?i.set(t,s.push(t)):NaN))-1)%f.length]}function c(e,n){return na.range(s.length).map(function(t){return e+n*t})}var i,f,d;return l.domain=function(t){if(!arguments.length)return s;s=[],i=new y;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return l[u.t].apply(l,u.a)},l.range=function(t){return arguments.length?(f=t,d=0,u={t:"range",a:arguments},l):f},l.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return f=c(n+i*e/2,i),d=0,u={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return f=c(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),d=0,u={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=(t[1-r]-i)/(s.length-e+2*n);return f=c(i+o*n,o),r&&f.reverse(),d=o*(1-e),u={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return f=c(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&f.reverse(),d=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return d},l.rangeExtent=function(){return Pi(u.a[0])},l.copy=function(){return to(s,u)},l.domain(s)}function eo(n,r){function e(){var t=0,e=r.length;for(o=[];++t<e;)o[t-1]=na.quantile(n,t/e);return i}function i(t){if(!isNaN(t=+t))return r[na.bisect(o,t)]}var o;return i.domain=function(t){return arguments.length?(n=t.map(l).filter(c).sort(a),e()):n},i.range=function(t){return arguments.length?(r=t,e()):r},i.quantiles=function(){return o},i.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?o[t-1]:n[0],t<o.length?o[t]:n[n.length-1]]},i.copy=function(){return eo(n,r)},e()}function no(e,n,r){function t(t){return r[Math.max(0,Math.min(a,Math.floor(o*(t-e))))]}function i(){return o=r.length/(n-e),a=r.length-1,t}var o,a;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],i()):[e,n]},t.range=function(t){return arguments.length?(r=t,i()):r},t.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/o+e,t+1/o]},t.copy=function(){return no(e,n,r)},i()}function ro(e,n){function r(t){if(t<=t)return n[na.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return ro(e,n)},r}function io(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Xi(n,t)},e.tickFormat=function(t,e){return Yi(n,t,e)},e.copy=function(){return io(n)},e}function oo(){return 0}function ao(t){return t.innerRadius}function so(t){return t.outerRadius}function uo(t){return t.startAngle}function lo(t){return t.endAngle}function co(t){return t&&t.padAngle}function fo(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function ho(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,f=t[1]+l,d=e[0]+u,h=e[1]+l,p=(c+d)/2,g=(f+h)/2,m=d-c,v=h-f,y=m*m+v*v,b=n-r,x=c*h-d*f,w=(v<0?-1:1)*Math.sqrt(b*b*y-x*x),k=(x*v-m*w)/y,S=(-x*m-v*w)/y,C=(x*v+m*w)/y,M=(-x*m+v*w)/y,A=k-p,E=S-g,_=C-p,T=M-g;return _*_+T*T<A*A+E*E&&(k=C,S=M),[[k-u,S-l],[k*n/b,S*n/b]]}function po(l){function e(t){function e(){r.push("M",h(l(i),p))}for(var n,r=[],i=[],o=-1,a=t.length,s=At(c),u=At(f);++o<a;)d.call(this,n=t[o],o)?i.push([+s.call(this,n,o),+u.call(this,n,o)]):i.length&&(e(),i=[]);return i.length&&e(),r.length?r.join(""):null}var c=_n,f=Tn,d=_e,h=go,n=h.key,p=.7;return e.x=function(t){return arguments.length?(c=t,e):c},e.y=function(t){return arguments.length?(f=t,e):f},e.defined=function(t){return arguments.length?(d=t,e):d},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?h=t:(h=Mu.get(t)||go).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function go(t){return t.join("L")}function mo(t){return go(t)+"Z"}function vo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return 1<n&&i.push("H",r[0]),i.join("")}function yo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function xo(t,e){return t.length<4?go(t):t[1]+So(t.slice(1,-1),Co(t,e))}function wo(t,e){return t.length<3?go(t):t[0]+So((t.push(t[0]),t),Co([t[t.length-2]].concat(t,[t[1]]),e))}function ko(t,e){return t.length<3?go(t):t[0]+So(t,Co(t,e))}function So(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return go(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Co(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Mo(t){if(t.length<3)return go(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",To(_u,a),",",To(_u,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),No(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ao(t){if(t.length<4)return go(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(To(_u,o)+","+To(_u,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),No(n,o,a);return n.join("")}function Eo(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[To(_u,a),",",To(_u,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),No(e,a,s);return e.join("")}function _o(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=l/n,(r=t[l])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Mo(t)}function To(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function No(t,e,n){t.push("C",To(Au,e),",",To(Au,n),",",To(Eu,e),",",To(Eu,n),",",To(_u,e),",",To(_u,n))}function Do(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Lo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Do(i,o);++e<n;)r[e]=(a+(a=Do(i=o,o=t[e+1])))/2;return r[e]=a,r}function Ro(t){for(var e,n,r,i,o=[],a=Lo(t),s=-1,u=t.length-1;++s<u;)e=Do(t[s],t[s+1]),da(e)<_a?a[s]=a[s+1]=0:9<(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Io(t){return t.length<3?go(t):t[0]+So(t,Ro(t))}function Fo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Ra,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Oo(p){function e(t){function e(){o.push("M",x(p(s),S),k,w(p(a.reverse()),S),"Z")}for(var n,r,i,o=[],a=[],s=[],u=-1,l=t.length,c=At(g),f=At(v),d=g===m?function(){return r}:At(m),h=v===y?function(){return i}:At(y);++u<l;)b.call(this,n=t[u],u)?(a.push([r=+c.call(this,n,u),i=+f.call(this,n,u)]),s.push([+d.call(this,n,u),+h.call(this,n,u)])):a.length&&(e(),a=[],s=[]);return a.length&&e(),o.length?o.join(""):null}var g=_n,m=_n,v=0,y=Tn,b=_e,x=go,n=x.key,w=x,k="L",S=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(v=y=t,e):y},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(b=t,e):b},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?x=t:(x=Mu.get(t)||go).key,w=x.reverse||x,k=x.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(S=t,e):S},e}function Po(t){return t.radius}function Ho(t){return[t.x,t.y]}function $o(r){return function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-Ra;return[e*Math.cos(n),e*Math.sin(n)]}}function Bo(){return 64}function Wo(){return"circle"}function jo(t){var e=Math.sqrt(t/Na);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function qo(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function zo(t,e,n){return va(t,Fu),t.namespace=e,t.id=n,t}function Vo(t,r,i,o){var a=t.id,s=t.namespace;return q(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function Uo(t){return null==t&&(t=""),function(){this.textContent=t}}function Xo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Yo(l,c,f,d,t){var h=l[f]||(l[f]={active:0,count:0}),p=h[d];if(!p){var g=t.time;p=h[d]={tween:new y,time:g,delay:t.delay,duration:t.duration,ease:t.ease,index:c},t=null,++h.count,na.timer(function(t){function e(t){if(h.active>d)return i();var e=h[h.active];e&&(--h.count,delete h[h.active],e.event&&e.event.interrupt.call(l,l.__data__,e.index)),h.active=d,p.event&&p.event.start.call(l,l.__data__,c),p.tween.forEach(function(t,e){(e=e.call(l,l.__data__,c))&&u.push(e)}),a=p.ease,o=p.duration,na.timer(function(){return s.c=n(t||1)?_e:n,1},0,g)}function n(t){if(h.active!==d)return 1;for(var e=t/o,n=a(e),r=u.length;0<r;)u[--r].call(l,n);return 1<=e?(p.event&&p.event.end.call(l,l.__data__,c),i()):void 0}function i(){return--h.count?delete h[d]:delete l[f],1}var o,a,r=p.delay,s=es,u=[];if(s.t=r+g,r<=t)return e(t-r);s.c=e},0,g)}}function Ko(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function Go(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function Zo(t){return t.toISOString()}function Jo(e,i,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=na.bisect(zu,n);return r==zu.length?[i.year,Ui(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/zu[r-1]<zu[r]/n?r-1:r]:[Xu,Ui(t,e)[2]]}return a.invert=function(t){return Qo(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Qo)},a.nice=function(e,n){function r(t){return!isNaN(t)&&!e.range(t,Qo(+t+1),n).length}var t=a.domain(),i=Pi(t),o=null==e?s(i,10):"number"==typeof e&&s(i,e);return o&&(e=o[0],n=o[1]),a.domain(Bi(t,1<n?{floor:function(t){for(;r(t=e.floor(t));)t=Qo(t-1);return t},ceil:function(t){for(;r(t=e.ceil(t));)t=Qo(+t+1);return t}}:e))},a.ticks=function(t,e){var n=Pi(a.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Qo(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return Jo(e.copy(),i,t)},zi(a,e)}function Qo(t){return new Date(t)}function ta(t){return JSON.parse(t.responseText)}function ea(t){var e=oa.createRange();return e.selectNode(oa.body),e.createContextualFragment(t.responseText)}var na={version:"3.5.5"},ra=[].slice,ia=function(t){return ra.call(t)},oa=this.document;if(oa)try{ia(oa.documentElement.childNodes)[0].nodeType}catch(Gu){ia=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),oa)try{oa.createElement("DIV").style.setProperty("opacity",0,"")}catch(Zu){var aa=this.Element.prototype,sa=aa.setAttribute,ua=aa.setAttributeNS,la=this.CSSStyleDeclaration.prototype,ca=la.setProperty;aa.setAttribute=function(t,e){sa.call(this,t,e+"")},aa.setAttributeNS=function(t,e,n){ua.call(this,t,e,n+"")},la.setProperty=function(t,e,n){ca.call(this,t,e+"",n)}}na.ascending=a,na.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},na.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},na.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},na.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},na.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+t[o])&&(r+=n);else for(;++o<i;)c(n=+e.call(t,t[o],o))&&(r+=n);return r},na.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=l(t[o]))?r+=n:--a;else for(;++o<i;)c(n=l(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},na.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},na.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=l(t[o]))&&r.push(n);else for(;++o<i;)c(n=l(e.call(t,t[o],o)))&&r.push(n);if(r.length)return na.quantile(r.sort(a),.5)},na.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)c(n=l(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)c(n=l(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(1<u)return a/(u-1)},na.deviation=function(){var t=na.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fa=t(a);na.bisectLeft=fa.left,na.bisect=na.bisectRight=fa.right,na.bisector=function(n){return t(1===n.length?function(t,e){return a(n(t),e)}:n)},na.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},na.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},na.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},na.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=na.min(arguments,u),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},na.transpose=function(t){return na.zip.apply(na,t)},na.keys=function(t){var e=[];for(var n in t)e.push(n);return e},na.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},na.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},na.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var da=Math.abs;na.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===Infinity)throw new Error("infinite range");var r,i=[],o=f(da(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},na.map=function(t,e){var n=new y;if(t instanceof y)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var ha="__proto__",pa="\0";e(y,{has:i,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:o,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:r(e),value:this._[e]});return t},size:h,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e),this._[e])}}),na.nest=function(){function f(n,t,r){if(r>=g.length)return h?h.call(p,t):d?t.sort(d):t;for(var e,i,o,a,s=-1,u=t.length,l=g[r++],c=new y;++s<u;)(a=c.get(e=l(i=t[s])))?a.push(i):c.set(e,[i]);return n?(i=n(),o=function(t,e){i.set(t,f(n,e,r))}):(i={},o=function(t,e){i[t]=f(n,e,r)}),c.forEach(o),i}function o(t,n){if(n>=g.length)return t;var r=[],i=e[n++];return t.forEach(function(t,e){r.push({key:t,values:o(e,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var d,h,p={},g=[],e=[];return p.map=function(t,e){return f(e,t,0)},p.entries=function(t){return o(f(na.map,t,0),0)},p.key=function(t){return g.push(t),p},
p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return d=t,p},p.rollup=function(t){return h=t,p},p},na.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},e(g,{has:i,add:function(t){return this._[n(t+="")]=!0,t},remove:o,values:d,size:h,empty:p,forEach:function(t){for(var e in this._)t.call(this,r(e))}}),na.behavior={},na.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=m(t,e,e[n]);return t};var ga=["webkit","ms","moz","Moz","o","O"];na.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},na.event=null,na.requote=function(t){return t.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,va={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ya=function(t,e){return e.querySelector(t)},ba=function(t,e){return e.querySelectorAll(t)},xa=function(t,e){var n=t.matches||t[v(t,"matchesSelector")];return(xa=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ya=function(t,e){return Sizzle(t,e)[0]||null},ba=Sizzle,xa=Sizzle.matchesSelector),na.selection=function(){return na.select(oa.documentElement)};var wa=na.selection.prototype=[];wa.select=function(t){var e,n,r,i,o=[];t=C(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return S(o)},wa.selectAll=function(t){var e,n,r=[];t=M(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=ia(t.call(n,n.__data__,s,i))),e.parentNode=n);return S(r)};var ka={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};na.ns={prefix:ka,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&(n=t.slice(0,e),t=t.slice(e+1)),ka.hasOwnProperty(n)?{space:ka[n],local:t}:t}},wa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=na.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},wa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=T(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!_(t[i]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},wa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(L(n,t[n],e));return this}if(r<2){var i=this.node();return I(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(L(t,e,n))},wa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},wa.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},wa.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},wa.append=function(t){return t=H(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},wa.insert=function(t,e){return t=H(t),e=C(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},wa.remove=function(){return this.each($)},wa.data=function(t,p){function e(t,e){var n,r,i,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(p){var f,d=new y,h=new Array(o);for(n=-1;++n<o;)d.has(f=p.call(r=t[n],r.__data__,n))?c[n]=r:d.set(f,r),h[n]=f;for(n=-1;++n<a;)(r=d.get(f=p.call(e,i=e[n],n)))?!0!==r&&((u[n]=r).__data__=i):l[n]=B(i),d.set(f,!0);for(n=-1;++n<o;)!0!==d.get(h[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,u[n]=r):l[n]=B(i);for(;n<a;++n)l[n]=B(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,g.push(l),m.push(u),v.push(c)}var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}var g=z([]),m=S([]),v=S([]);if("function"==typeof t)for(;++i<o;)e(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)e(n=this[i],t);return m.enter=function(){return g},m.exit=function(){return v},m},wa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},wa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=W(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return S(i)},wa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},wa.sort=function(t){t=j.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},wa.each=function(r){return q(this,function(t,e,n){r.call(t,t.__data__,e,n)})},wa.call=function(t){var e=ia(arguments);return t.apply(e[0]=this,e),this},wa.empty=function(){return!this.node()},wa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},wa.size=function(){var t=0;return q(this,function(){++t}),t};var Sa=[];na.selection.enter=z,(na.selection.enter.prototype=Sa).append=wa.append,Sa.empty=wa.empty,Sa.node=wa.node,Sa.call=wa.call,Sa.size=wa.size,Sa.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},Sa.insert=function(t,e){return arguments.length<2&&(e=V(this)),wa.insert.call(this,t,e)},na.select=function(t){var e;return"string"==typeof t?(e=[ya(t,oa)]).parentNode=oa.documentElement:(e=[t]).parentNode=s(t),S([e])},na.selectAll=function(t){var e;return"string"==typeof t?(e=ia(ba(t,oa))).parentNode=oa.documentElement:(e=t).parentNode=null,S([e])},wa.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(U(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(U(t,e,n))};var Ca=na.map({mouseenter:"mouseover",mouseleave:"mouseout"});oa&&Ca.forEach(function(t){"on"+t in oa&&Ca.remove(t)});var Ma,Aa=0;na.mouse=function(t){return G(t,k())};var Ea=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;na.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return G(t,r)},na.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function t(h,p,g,m,v){return function(){function t(){var t,e,n=p(o,u);n&&(t=n[0]-d[0],e=n[1]-d[1],s|=t|e,a({type:"drag",x:(d=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e}))}function e(){p(o,u)&&(c.on(m+l,null).on(v+l,null),f(s&&na.event.target===i),a({type:"dragend"}))}var r,n=this,i=na.event.target,o=n.parentNode,a=y.of(n,arguments),s=0,u=h(),l=".drag"+(null==u?"":"-"+u),c=na.select(g(i)).on(m+l,t).on(v+l,e),f=K(i),d=p(o,u);r=b?[(r=b.apply(n,arguments)).x-d[0],r.y-d[1]]:[0,0],a({type:"dragstart"})}}var y=P(e,"drag","dragstart","dragend"),b=null,n=t(x,na.mouse,I,"mousemove","mouseup"),r=t(Z,na.touch,F,"touchmove","touchend");return e.origin=function(t){return arguments.length?(b=t,e):b},na.rebind(e,y,"on")},na.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ia(t).map(function(t){var e=G(n,t);return e.identifier=t.identifier,e}):[]};var _a=1e-6,Ta=_a*_a,Na=Math.PI,Da=2*Na,La=Da-_a,Ra=Na/2,Ia=Na/180,Fa=180/Na,Oa=Math.SQRT2,Pa=2,Ha=4;na.interpolateZoom=function(t,e){function n(t){var e=t*v;if(m){var n=rt(g),r=a/(Pa*d)*(n*it(Oa*e+g)-nt(g));return[i+r*l,o+r*c,a*n/rt(Oa*e+g)]}return[i+t*l,o+t*c,a*Math.exp(Oa*e)]}var i=t[0],o=t[1],a=t[2],r=e[0],s=e[1],u=e[2],l=r-i,c=s-o,f=l*l+c*c,d=Math.sqrt(f),h=(u*u-a*a+Ha*f)/(2*a*Pa*d),p=(u*u-a*a-Ha*f)/(2*u*Pa*d),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p)-g,v=(m||Math.log(u/a))/Oa;return n.duration=1e3*v,n},na.behavior.zoom=function(){function i(t){t.on(T,s).on(Ba+".zoom",r).on("dblclick.zoom",o).on(L,u)}function x(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function n(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function w(t){_.k=Math.max(v[0],Math.min(v[1],t))}function k(t,e){e=n(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function S(t,e,n,r){t.__chart__={x:_.x,y:_.y,k:_.k},w(Math.pow(2,r)),k(l=e,n),t=na.select(t),0<y&&(t=t.transition().duration(y)),t.call(i.event)}function e(){h&&h.domain(d.range().map(function(t){return(t-_.x)/_.k}).map(d.invert)),g&&g.domain(p.range().map(function(t){return(t-_.y)/_.k}).map(p.invert))}function C(t){b++||t({type:"zoomstart"})}function M(t){e(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function A(t){--b||t({type:"zoomend"}),l=null}function s(){function t(){o=1,k(na.mouse(n),s),M(i)}function e(){a.on(N,null).on(D,null),u(o&&na.event.target===r),A(i)}var n=this,r=na.event.target,i=R.of(n,arguments),o=0,a=na.select(I(n)).on(N,t).on(D,e),s=x(na.mouse(n)),u=K(n);Iu.call(n),C(i)}function u(){function c(){var t=na.touches(h);return l=_.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=x(t))}),t}function t(){var t=na.event.target;na.select(t).on(v,f).on(y,d),b.push(t);for(var e=na.event.changedTouches,n=0,r=e.length;n<r;++n)g[e[n].identifier]=null;var i=c(),o=Date.now();if(1===i.length){if(o-E<500){var a=i[0];S(h,a,g[a.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),O()}E=o}else if(1<i.length){a=i[0];var s=i[1],u=a[0]-s[0],l=a[1]-s[1];m=u*u+l*l}}function f(){var t,e,n,r,i=na.touches(h);Iu.call(h);for(var o=0,a=i.length;o<a;++o,r=null)if(n=i[o],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=m&&Math.sqrt(s/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],w(u*l)}E=null,k(t,e),M(p)}function d(){if(na.event.touches.length){for(var t=na.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var r in g)return void c()}na.selectAll(b).on(i,null),o.on(T,s).on(L,u),a(),A(p)}var l,h=this,p=R.of(h,arguments),g={},m=0,i=".zoom-"+na.event.changedTouches[0].identifier,v="touchmove"+i,y="touchend"+i,b=[],o=na.select(h),a=K(h);t(),C(p),o.on(T,null).on(L,t)}function r(){var t=R.of(this,arguments);f?clearTimeout(f):(a=x(l=c||na.mouse(this)),Iu.call(this),C(t)),f=setTimeout(function(){f=null,A(t)},50),O(),w(Math.pow(2,.002*$a())*_.k),k(l,a),M(t)}function o(){var t=na.mouse(this),e=Math.log(_.k)/Math.LN2;S(this,t,x(t),na.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var a,l,c,f,E,d,h,p,g,_={x:0,y:0,k:1},m=[960,500],v=Wa,y=250,b=0,T="mousedown.zoom",N="mousemove.zoom",D="mouseup.zoom",L="touchstart.zoom",R=P(i,"zoomstart","zoom","zoomend");return Ba||(Ba="onwheel"in oa?($a=function(){return-na.event.deltaY*(na.event.deltaMode?120:1)},"wheel"):"onmousewheel"in oa?($a=function(){return na.event.wheelDelta},"mousewheel"):($a=function(){return-na.event.detail},"MozMousePixelScroll")),i.event=function(t){t.each(function(){var s=R.of(this,arguments),e=_;Lu?na.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},C(s)}).tween("zoom:zoom",function(){var r=m[0],t=m[1],i=l?l[0]:r/2,o=l?l[1]:t/2,a=na.interpolateZoom([(i-_.x)/_.k,(o-_.y)/_.k,r/_.k],[(i-e.x)/e.k,(o-e.y)/e.k,r/e.k]);return function(t){var e=a(t),n=r/e[2];this.__chart__=_={x:i-e[0]*n,y:o-e[1]*n,k:n},M(s)}}).each("interrupt.zoom",function(){A(s)}).each("end.zoom",function(){A(s)}):(this.__chart__=_,C(s),M(s),A(s))})},i.translate=function(t){return arguments.length?(_={x:+t[0],y:+t[1],k:_.k},e(),i):[_.x,_.y]},i.scale=function(t){return arguments.length?(_={x:_.x,y:_.y,k:+t},e(),i):_.k},i.scaleExtent=function(t){return arguments.length?(v=null==t?Wa:[+t[0],+t[1]],i):v},i.center=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],i):c},i.size=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],i):m},i.duration=function(t){return arguments.length?(y=+t,i):y},i.x=function(t){return arguments.length?(d=(h=t).copy(),_={x:0,y:0,k:1},i):h},i.y=function(t){return arguments.length?(p=(g=t).copy(),_={x:0,y:0,k:1},i):g},na.rebind(i,R,"on")};var $a,Ba,Wa=[0,Infinity];(na.color=at).prototype.toString=function(){return this.rgb()+""};var ja=(na.hsl=st).prototype=new at;ja.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},ja.rgb=function(){return ut(this.h,this.s,this.l)};var qa=(na.hcl=lt).prototype=new at;qa.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+za*(arguments.length?t:1)))},qa.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-za*(arguments.length?t:1)))},qa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},na.lab=ft;var za=18,Va=.95047,Ua=1,Xa=1.08883,Ya=ft.prototype=new at;Ya.brighter=function(t){return new ft(Math.min(100,this.l+za*(arguments.length?t:1)),this.a,this.b)},Ya.darker=function(t){return new ft(Math.max(0,this.l-za*(arguments.length?t:1)),this.a,this.b)},Ya.rgb=function(){return dt(this.l,this.a,this.b)};var Ka=(na.rgb=vt).prototype=new at;Ka.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},Ka.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Ka.hsl=function(){return kt(this.r,this.g,this.b)},Ka.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=na.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(t,e){Ga.set(t,yt(e))}),na.functor=At,na.xhr=Et(F),na.dsv=function(i,o){function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=_t(t,o,null==e?s:u(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:u(t)):e},r}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function e(t){return t.map(l).join(i)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+i+"\n]"),d=i.charCodeAt(0);return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){function e(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===i.charCodeAt(t)){for(var e=t;e++<u;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return l=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++l):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,r=1;if(10===(n=i.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(l)&&(++l,++r);else if(n!==d)continue;return i.slice(t,l-r)}return i.slice(t)}for(var n,o,a={},s={},r=[],u=i.length,l=0,c=0;(n=e())!==s;){for(var f=[];n!==a&&n!==s;)f.push(n),n=e();t&&null==(f=t(f,c++))||r.push(f)}return r},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new g,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(l).join(i)].concat(t.map(function(e){return r.map(function(t){return l(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},na.csv=na.dsv(",","text/csv"),na.tsv=na.dsv("\t","text/tab-separated-values");var Za,Ja,Qa,ts,es,ns=this[v(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};na.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,f:!1,n:null};Ja?Ja.n=i:Za=i,Ja=i,Qa||(ts=clearTimeout(ts),Qa=1,ns(Dt))},na.timer.flush=function(){Lt(),Rt()},na.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var rs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ft);na.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=na.round(t,It(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),rs[8+n/3]};var is=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,os=na.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=na.round(t,It(t,e))).toFixed(Math.max(0,Math.min(20,It(t*(1+1e-15),e))))}}),as=na.time={},ss=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){us.setUTCDate.apply(this._,arguments)},setDay:function(){us.setUTCDay.apply(this._,arguments)},setFullYear:function(){us.setUTCFullYear.apply(this._,arguments)},setHours:function(){us.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){us.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){us.setUTCMinutes.apply(this._,arguments)},setMonth:function(){us.setUTCMonth.apply(this._,arguments)},setSeconds:function(){us.setUTCSeconds.apply(this._,arguments)},setTime:function(){us.setTime.apply(this._,arguments)}};var us=Date.prototype;as.year=$t(function(t){return(t=as.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),as.years=as.year.range,as.years.utc=as.year.utc.range,as.day=$t(function(t){var e=new ss(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),as.days=as.day.range,as.days.utc=as.day.utc.range,as.dayOfYear=function(t){var e=as.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=as[t]=$t(function(t){return(t=as.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=as.year(t).getDay();return Math.floor((as.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});as[t+"s"]=e.range,as[t+"s"].utc=e.utc.range,as[t+"OfYear"]=function(t){var e=as.year(t).getDay();return Math.floor((as.dayOfYear(t)+(e+n)%7)/7)}}),as.week=as.sunday,as.weeks=as.sunday.range,as.weeks.utc=as.sunday.utc.range,as.weekOfYear=as.sundayOfYear;var ls={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,fs=/^%/;na.locale=function(t){return{numberFormat:Ot(t),timeFormat:Wt(t)}};var ds=na.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});na.format=ds.numberFormat,na.geo={},ue.prototype={s:0,t:0,add:function(t){le(t,this.t,hs),le(hs.s,this.s,this),this.s?this.t+=hs.t:this.s=hs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hs=new ue;na.geo.stream=function(t,e){t&&ps.hasOwnProperty(t.type)?ps[t.type](t,e):ce(t,e)};var ps={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ce(n[r].geometry,e)}},gs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ce(n[r],e)}};na.geo.area=function(t){return ms=0,na.geo.stream(t,Ts),ms};var ms,vs,ys,bs,xs,ws,ks,Ss,Cs,Ms,As,Es,_s=new ue,Ts={sphere:function(){ms+=4*Na},point:x,lineStart:x,lineEnd:x,polygonStart:function(){_s.reset(),Ts.lineStart=he},polygonEnd:function(){var t=2*_s;ms+=t<0?4*Na+t:t,Ts.lineStart=Ts.lineEnd=Ts.point=x}};na.geo.bounds=function(){function c(t,e){b.push(x=[d=t,p=t]),e<h&&(h=e),g<e&&(g=e)}function r(t,e){var n=pe([t*Ia,e*Ia]);if(v){var r=me(v,n),i=me([r[1],-r[0],0],r);be(i),i=xe(i);var o=t-m,a=0<o?1:-1,s=i[0]*Fa*a,u=180<da(o);if(u^(a*m<s&&s<a*t)){var l=i[1]*Fa;g<l&&(g=l)}else if(u^(a*m<(s=(s+360)%360-180)&&s<a*t)){(l=-i[1]*Fa)<h&&(h=l)}else e<h&&(h=e),g<e&&(g=e);u?t<m?f(d,t)>f(d,p)&&(p=t):f(t,p)>f(d,p)&&(d=t):d<=p?(t<d&&(d=t),p<t&&(p=t)):m<t?f(d,t)>f(d,p)&&(p=t):f(t,p)>f(d,p)&&(d=t)}else c(t,e);v=n,m=t}function t(){w.point=r}function e(){x[0]=d,x[1]=p,w.point=c,v=null}function n(t,e){if(v){var n=t-m;y+=180<da(n)?n+(0<n?360:-360):n}else a=t,s=e;Ts.point(t,e),r(t,e)}function i(){Ts.lineStart()}function o(){n(a,s),Ts.lineEnd(),da(y)>_a&&(d=-(p=180)),x[0]=d,x[1]=p,v=null}function f(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var d,h,p,g,m,a,s,v,y,b,x,w={point:c,lineStart:t,lineEnd:e,polygonStart:function(){w.point=n,w.lineStart=i,w.lineEnd=o,y=0,Ts.polygonStart()},polygonEnd:function(){Ts.polygonEnd(),w.point=c,w.lineStart=t,w.lineEnd=e,_s<0?(d=-(p=180),h=-(g=90)):_a<y?g=90:y<-_a&&(h=-90),x[0]=d,x[1]=p}};return function(t){if(g=p=-(d=h=Infinity),b=[],na.geo.stream(t,w),i=b.length){b.sort(u);for(var e=1,n=[s=b[0]];e<i;++e)l((o=b[e])[0],s)||l(o[1],s)?(f(s[0],o[1])>f(s[0],s[1])&&(s[1]=o[1]),f(o[0],s[1])>f(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var r,i,o,a=-Infinity,s=(e=0,n[i=n.length-1]);e<=i;s=o,++e)o=n[e],(r=f(s[1],o[0]))>a&&(a=r,d=o[0],p=s[1])}return b=x=null,d===Infinity||h===Infinity?[[NaN,NaN],[NaN,NaN]]:[[d,h],[p,g]]}}(),na.geo.centroid=function(t){vs=ys=bs=xs=ws=ks=Ss=Cs=Ms=As=Es=0,na.geo.stream(t,Ns);var e=Ms,n=As,r=Es,i=e*e+n*n+r*r;return i<Ta&&(e=ks,n=Ss,r=Cs,ys<_a&&(e=bs,n=xs,r=ws),(i=e*e+n*n+r*r)<Ta)?[NaN,NaN]:[Math.atan2(n,e)*Fa,et(r/Math.sqrt(i))*Fa]};var Ns={sphere:x,point:ke,lineStart:Ce,lineEnd:Me,polygonStart:function(){Ns.lineStart=Ae},polygonEnd:function(){Ns.lineStart=Ce}},Ds=Le(_e,Oe,He,[-Na,-Na/2]),Ls=1e9;na.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=je(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(na.geo.conicEqualArea=function(){return qe(ze)}).raw=ze,na.geo.albers=function(){return na.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},na.geo.albersUsa=function(){function i(t){var e=t[0],n=t[1];return r=null,o(e,n),r||(a(e,n),r)||s(e,n),r}var r,o,a,s,u=na.geo.albers(),l=na.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=na.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){r=[t,e]}};return i.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?l:.166<=i&&i<.234&&-.214<=r&&r<-.115?c:u).invert(t)},i.stream=function(t){var n=u.stream(t),r=l.stream(t),i=c.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},i.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),i):u.precision()},i.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),i.translate(u.translate())):u.scale()},i.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],r=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(f).point,a=l.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+_a,r+.12*e+_a],[n-.214*e-_a,r+.234*e-_a]]).stream(f).point,s=c.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+_a,r+.166*e+_a],[n-.115*e-_a,r+.234*e-_a]]).stream(f).point,i},i.scale(1070)};var Rs,Is,Fs,Os,Ps,Hs,$s,Bs={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Is=0,Bs.lineStart=Ve},polygonEnd:function(){Bs.lineStart=Bs.lineEnd=Bs.point=x,Rs+=da(Is/2)}},Ws={point:Ue,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},js={point:Ke,lineStart:Ge,lineEnd:Ze,polygonStart:function(){js.lineStart=Je},polygonEnd:function(){js.point=Ke,js.lineStart=Ge,js.lineEnd=Ze}};na.geo.path=function(){function e(t){return t&&("function"==typeof u&&a.pointRadius(+u.apply(this,arguments)),s&&s.valid||(s=o(a)),na.geo.stream(t,s)),a.result()}function n(){return s=null,e}var r,i,o,a,s,u=4.5;return e.area=function(t){return Rs=0,na.geo.stream(t,o(Bs)),Rs},e.centroid=function(t){return bs=xs=ws=ks=Ss=Cs=Ms=As=Es=0,na.geo.stream(t,o(js)),Es?[Ms/Es,As/Es]:Cs?[ks/Cs,Ss/Cs]:ws?[bs/ws,xs/ws]:[NaN,NaN]},e.bounds=function(t){return Ps=Hs=-(Fs=Os=Infinity),na.geo.stream(t,o(Ws)),[[Fs,Os],[Ps,Hs]]},e.projection=function(t){return arguments.length?(o=(r=t)?t.stream||en(t):F,n()):r},e.context=function(t){return arguments.length?(a=null==(i=t)?new Xe:new Qe(t),"function"!=typeof u&&a.pointRadius(u),n()):i},e.pointRadius=function(t){return arguments.length?(u="function"==typeof t?t:(a.pointRadius(+t),+t),e):u},e.projection(na.geo.albersUsa()).context(null)},na.geo.transform=function(r){return{stream:function(t){var e=new nn(t);for(var n in r)e[n]=r[n];return e}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},na.geo.projection=on,na.geo.projectionMutator=an,(na.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,na.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ia,t[1]*Ia))[0]*=Fa,t[1]*=Fa,t}return e=cn(e[0]%360*Ia,e[1]*Ia,2<e.length?e[2]*Ia:0),t.invert=function(t){return(t=e.invert(t[0]*Ia,t[1]*Ia))[0]*=Fa,t[1]*=Fa,t},t},ln.invert=un,na.geo.circle=function(){function e(){var t="function"==typeof o?o.apply(this,arguments):o,n=cn(-t[0]*Ia,-t[1]*Ia,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Fa,t[1]*=Fa}}),{type:"Polygon",coordinates:[r]}}var n,i,o=[0,0],r=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(t){return arguments.length?(i=pn((n=+t)*Ia,r*Ia),e):n},e.precision=function(t){return arguments.length?(i=pn(n*Ia,(r=+t)*Ia),e):r},e.angle(90)},na.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ia,i=t[1]*Ia,o=e[1]*Ia,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},na.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return na.range(Math.ceil(o/m)*m,i,m).map(d).concat(na.range(Math.ceil(l/v)*v,u,v).map(h)).concat(na.range(Math.ceil(r/p)*p,n,p).filter(function(t){return da(t%m)>_a}).map(c)).concat(na.range(Math.ceil(s/g)*g,a,g).filter(function(t){return da(t%v)>_a}).map(f))}var n,r,i,o,a,s,u,l,c,f,d,h,p=10,g=p,m=90,v=360,y=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(h(u).slice(1),d(i).reverse().slice(1),h(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],i<o&&(t=o,o=i,i=t),u<l&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],n<r&&(t=r,r=n,n=t),a<s&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(y=+t,c=mn(s,a,90),f=vn(r,n,y),d=mn(l,u,90),h=vn(o,i,y),e):y},e.majorExtent([[-180,-90+_a],[180,90-_a]]).minorExtent([[-180,-80-_a],[180,80+_a]])},na.geo.greatArc=function(){function e(){return{
type:"LineString",coordinates:[n||i.apply(this,arguments),r||o.apply(this,arguments)]}}var n,r,i=yn,o=bn;return e.distance=function(){return na.geo.distance(n||i.apply(this,arguments),r||o.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,e):i},e.target=function(t){return arguments.length?(r="function"==typeof(o=t)?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},na.geo.interpolate=function(t,e){return xn(t[0]*Ia,t[1]*Ia,e[0]*Ia,e[1]*Ia)},na.geo.length=function(t){return $s=0,na.geo.stream(t,qs),$s};var qs={sphere:x,point:x,lineStart:wn,lineEnd:x,polygonStart:x,polygonEnd:x},zs=kn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(na.geo.azimuthalEqualArea=function(){return on(zs)}).raw=zs;var Vs=kn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},F);(na.geo.azimuthalEquidistant=function(){return on(Vs)}).raw=Vs,(na.geo.conicConformal=function(){return qe(Sn)}).raw=Sn,(na.geo.conicEquidistant=function(){return qe(Cn)}).raw=Cn;var Us=kn(function(t){return 1/t},Math.atan);(na.geo.gnomonic=function(){return on(Us)}).raw=Us,Mn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ra]},(na.geo.mercator=function(){return An(Mn)}).raw=Mn;var Xs=kn(function(){return 1},Math.asin);(na.geo.orthographic=function(){return on(Xs)}).raw=Xs;var Ys=kn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(na.geo.stereographic=function(){return on(Ys)}).raw=Ys,En.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ra]},(na.geo.transverseMercator=function(){var t=An(En),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=En,na.geom={},na.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=At(d),r=At(h),i=t.length,o=[],a=[];for(e=0;e<i;e++)o.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(o.sort(Dn),e=0;e<i;e++)a.push([o[e][0],-o[e][1]]);var s=Nn(o),u=Nn(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],f=[];for(e=s.length-1;0<=e;--e)f.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)f.push(t[o[u[e]][2]]);return f}var d=_n,h=Tn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(h=t,e):h},e)},na.geom.polygon=function(t){return va(t,Ks),t};var Ks=na.geom.polygon.prototype=[];Ks.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ks.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Ks.clip=function(t){for(var e,n,r,i,o,a,s=In(t),u=-1,l=this.length-In(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)Ln(a=e[n],c,i)?(Ln(o,c,i)||t.push(Rn(o,a,c,i)),t.push(a)):Ln(o,c,i)&&t.push(Rn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Gs,Zs,Js,Qs,tu,eu=[],nu=[];jn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(zn),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(rr(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,rr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?or(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,rr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ir(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,rr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,rr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ir(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},na.geom.voronoi=function(t){function e(i){var o=new Array(i.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return ar(n(i),c).cells.forEach(function(t,e){var n=t.edges,r=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=a&&r.x<=u&&r.y>=s&&r.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=i[e]}),o}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/_a)*_a,y:Math.round(a(t,e)/_a)*_a,i:e}})}var r=_n,i=Tn,o=r,a=i,c=ru;return t?e(t):(e.links=function(e){return ar(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(l){var c=[];return ar(n(l)).cells.forEach(function(t,e){for(var n,r=t.site,i=t.edges.sort(zn),o=-1,a=i.length,s=i[a-1].edge,u=s.l===r?s.r:s.l;++o<a;)s,n=u,u=(s=i[o].edge).l===r?s.r:s.l,e<n.i&&e<u.i&&ur(r,n,u)<0&&c.push([l[e],l[n.i],l[u.i]])}),c},e.x=function(t){return arguments.length?(o=At(r=t),e):r},e.y=function(t){return arguments.length?(a=At(i=t),e):i},e.clipExtent=function(t){return arguments.length?(c=null==t?ru:t,e):c===ru?null:c},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):c===ru?null:c&&c[1]},e)};var ru=[[-1e6,-1e6],[1e6,1e6]];na.geom.delaunay=function(t){return na.geom.voronoi().triangles(t)},na.geom.quadtree=function(t,b,x,w,k){function e(t){function h(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(da(u-n)+da(l-r)<.01)f(t,e,n,r,i,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,f(t,c,u,l,i,o,a,s),f(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else f(t,e,n,r,i,o,a,s)}function f(t,e,n,r,i,o,a,s){var u=.5*(i+a),l=.5*(o+s),c=u<=n,f=l<=r,d=f<<1|c;t.leaf=!1,c?i=u:a=u,f?o=l:s=l,h(t=t.nodes[d]||(t.nodes[d]=fr()),e,n,r,i,o,a,s)}var e,n,r,i,o,a,s,u,l,c=At(C),d=At(M);if(null!=b)a=b,s=x,u=w,l=k;else if(u=l=-(a=s=Infinity),n=[],r=[],o=t.length,S)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var p=+c(e=t[i],i),g=+d(e,i);p<a&&(a=p),g<s&&(s=g),u<p&&(u=p),l<g&&(l=g),n.push(p),r.push(g)}var m=u-a,v=l-s;v<m?l=s+m:u=a+v;var y=fr();if(y.add=function(t){h(y,t,+c(t,++i),+d(t,i),a,s,u,l)},y.visit=function(t){dr(t,y,a,s,u,l)},y.find=function(t){return hr(y,t[0],t[1],a,s,u,l)},i=-1,null==b){for(;++i<o;)h(y,t[i],n[i],r[i],a,s,u,l);--i}else t.forEach(y.add);return n=r=t=e=null,y}var S,C=_n,M=Tn;return(S=arguments.length)?(C=lr,M=cr,3===S&&(k=x,w=b,x=b=0),e(t)):(e.x=function(t){return arguments.length?(C=t,e):C},e.y=function(t){return arguments.length?(M=t,e):M},e.extent=function(t){return arguments.length?(null==t?b=x=w=k=null:(b=+t[0][0],x=+t[0][1],w=+t[1][0],k=+t[1][1]),e):null==b?null:[[b,x],[w,k]]},e.size=function(t){return arguments.length?(null==t?b=x=w=k=null:(b=x=0,w=+t[0],k=+t[1]),e):null==b?null:[w-b,k-x]},e)},na.interpolateRgb=pr,na.interpolateObject=gr,na.interpolateNumber=mr,na.interpolateString=vr;var iu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ou=new RegExp(iu.source,"g");na.interpolate=yr,na.interpolators=[function(t,e){var n=typeof e;return("string"===n?Ga.has(e)||/^(#|rgb\(|hsl\()/.test(e)?pr:vr:e instanceof at?pr:Array.isArray(e)?br:"object"===n&&isNaN(e)?gr:mr)(t,e)}],na.interpolateArray=br;var au=function(){return F},su=na.map({linear:au,poly:Ar,quad:function(){return Sr},cubic:function(){return Cr},sin:function(){return Er},exp:function(){return _r},circle:function(){return Tr},elastic:Nr,back:Dr,bounce:function(){return Lr}}),uu=na.map({"in":F,out:wr,"in-out":kr,"out-in":function(t){return kr(wr(t))}});na.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,r=0<=e?t.slice(e+1):"in";return n=su.get(n)||au,xr((r=uu.get(r)||F)(n.apply(null,ra.call(arguments,1))))},na.interpolateHcl=Rr,na.interpolateHsl=Ir,na.interpolateLab=Fr,na.interpolateRound=Or,na.transform=function(t){var n=oa.createElementNS(na.ns.prefix.svg,"g");return(na.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Pr(e?e.matrix:lu)})(t)},Pr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var lu={a:1,b:0,c:0,d:1,e:0,f:0};na.interpolateTransform=Wr,na.layout={},na.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(zr(t[n]));return e}},na.layout.chord=function(){function t(){var t,e,n,r,i,o={},a=[],s=na.range(x),u=[];for(v=[],y=[],t=0,r=-1;++r<x;){for(e=0,i=-1;++i<x;)e+=b[r][i];a.push(e),u.push(na.range(x)),t+=e}for(w&&s.sort(function(t,e){return w(a[t],a[e])}),k&&u.forEach(function(t,n){t.sort(function(t,e){return k(b[n][t],b[n][e])})}),t=(Da-C*x)/t,e=0,r=-1;++r<x;){for(n=e,i=-1;++i<x;){var l=s[r],c=u[l][i],f=b[l][c],d=e,h=e+=f*t;o[l+"-"+c]={index:l,subindex:c,startAngle:d,endAngle:h,value:f}}y[l]={index:l,startAngle:n,endAngle:e,value:(e-n)/t},e+=C}for(r=-1;++r<x;)for(i=r-1;++i<x;){var p=o[r+"-"+i],g=o[i+"-"+r];(p.value||g.value)&&v.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}S&&m()}function m(){v.sort(function(t,e){return S((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var v,y,b,x,w,k,S,e={},C=0;return e.matrix=function(t){return arguments.length?(x=(b=t)&&b.length,v=y=null,e):b},e.padding=function(t){return arguments.length?(C=t,v=y=null,e):C},e.sortGroups=function(t){return arguments.length?(w=t,v=y=null,e):w},e.sortSubgroups=function(t){return arguments.length?(k=t,v=null,e):k},e.sortChords=function(t){return arguments.length?(S=t,v&&m(),e):S},e.chords=function(){return v||t(),v},e.groups=function(){return y||t(),y},e},na.layout.force=function(){function f(l){return function(t,e,n,r){if(t.point!==l){var i=t.cx-l.x,o=t.cy-l.y,a=r-e,s=i*i+o*o;if(a*a/w<s){if(s<c){var u=t.charge/s;l.px-=i*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=i*u,l.py-=o*u}}return!t.charge}}function t(t){t.px=na.event.x,t.py=na.event.y,i.resume()}var e,d,h,p,g,i={},m=na.dispatch("start","tick","end"),v=[1,1],y=.9,o=cu,a=fu,b=-30,c=du,x=.1,w=.64,k=[],S=[];return i.tick=function(){if((d*=.99)<.005)return m.end({type:"end",alpha:d=0}),!0;var t,e,n,r,i,o,a,s,u,l=k.length,c=S.length;for(e=0;e<c;++e)r=(n=S[e]).source,(o=(s=(i=n.target).x-r.x)*s+(u=i.y-r.y)*u)&&(s*=o=d*p[e]*((o=Math.sqrt(o))-h[e])/o,u*=o,i.x-=s*(a=r.weight/(i.weight+r.weight)),i.y-=u*a,r.x+=s*(a=1-a),r.y+=u*a);if((a=d*x)&&(s=v[0]/2,u=v[1]/2,e=-1,a))for(;++e<l;)(n=k[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(b)for(Zr(t=na.geom.quadtree(k),d,g),e=-1;++e<l;)(n=k[e]).fixed||t.visit(f(n));for(e=-1;++e<l;)(n=k[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);m.tick({type:"tick",alpha:d})},i.nodes=function(t){return arguments.length?(k=t,i):k},i.links=function(t){return arguments.length?(S=t,i):S},i.size=function(t){return arguments.length?(v=t,i):v},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(y=+t,i):y},i.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,i):b},i.chargeDistance=function(t){return arguments.length?(c=t*t,i):Math.sqrt(c)},i.gravity=function(t){return arguments.length?(x=+t,i):x},i.theta=function(t){return arguments.length?(w=t*t,i):Math.sqrt(w)},i.alpha=function(t){return arguments.length?(t=+t,d?d=0<t?t:0:0<t&&(m.start({type:"start",alpha:d=t}),na.timer(i.tick)),i):d},i.start=function(){function t(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=S[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var r,i=u[s],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}var s,u,e,l=k.length,c=S.length,n=v[0],r=v[1];for(s=0;s<l;++s)(e=k[s]).index=s,e.weight=0;for(s=0;s<c;++s)"number"==typeof(e=S[s]).source&&(e.source=k[e.source]),"number"==typeof e.target&&(e.target=k[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<l;++s)e=k[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",r)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(h=[],"function"==typeof o)for(s=0;s<c;++s)h[s]=+o.call(this,S[s],s);else for(s=0;s<c;++s)h[s]=o;if(p=[],"function"==typeof a)for(s=0;s<c;++s)p[s]=+a.call(this,S[s],s);else for(s=0;s<c;++s)p[s]=a;if(g=[],"function"==typeof b)for(s=0;s<l;++s)g[s]=+b.call(this,k[s],s);else for(s=0;s<l;++s)g[s]=b;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(e||(e=na.behavior.drag().origin(F).on("dragstart.force",Xr).on("drag.force",t).on("dragend.force",Yr)),!arguments.length)return e;this.on("mouseover.force",Kr).on("mouseout.force",Gr).call(e)},na.rebind(i,m,"on")};var cu=20,fu=1,du=Infinity;na.layout.hierarchy=function(){function s(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(o=l.call(s,e,e.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)n.push(a=o[i]),a.parent=e,a.depth=e.depth+1;c&&(e.value=0),e.children=o}else c&&(e.value=+c.call(s,e,e.depth)||0),delete e.children;return ti(t,function(t){var e,n;u&&(e=t.children)&&e.sort(u),c&&(n=t.parent)&&(n.value+=t.value)}),r}var u=ri,l=ei,c=ni;return s.sort=function(t){return arguments.length?(u=t,s):u},s.children=function(t){return arguments.length?(l=t,s):l},s.value=function(t){return arguments.length?(c=t,s):c},s.revalue=function(t){return c&&(Qr(t,function(t){t.children&&(t.value=0)}),ti(t,function(t){var e;t.children||(t.value=+c.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},na.layout.partition=function(){function l(t,e,n,r){var i=t.children;if(t.x=e,t.y=t.depth*r,t.dx=n,t.dy=r,i&&(o=i.length)){var o,a,s,u=-1;for(n=t.value?n/t.value:0;++u<o;)l(a=i[u],e,s=a.value*n,r),e+=s}}function o(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,i=-1;++i<r;)n=Math.max(n,o(e[i]));return 1+n}function e(t,e){var n=r.call(this,t,e);return l(n[0],0,i[0],i[1]/o(n[0])),n}var r=na.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},Jr(e,r)},na.layout.pie=function(){function f(n){var e,t=n.length,r=n.map(function(t,e){return+d.call(f,t,e)}),i=+("function"==typeof p?p.apply(this,arguments):p),o=("function"==typeof g?g.apply(this,arguments):g)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof m?m.apply(this,arguments):m)),s=a*(o<0?-1:1),u=(o-t*s)/na.sum(r),l=na.range(t),c=[];return null!=h&&l.sort(h===hu?function(t,e){return r[e]-r[t]}:function(t,e){return h(n[t],n[e])}),l.forEach(function(t){c[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*u+s,padAngle:a}}),c}var d=Number,h=hu,p=0,g=Da,m=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(h=t,f):h},f.startAngle=function(t){return arguments.length?(p=t,f):p},f.endAngle=function(t){return arguments.length?(g=t,f):g},f.padAngle=function(t){return arguments.length?(m=t,f):m},f};var hu={};na.layout.stack=function(){function f(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return d.call(f,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[m.call(f,t,e),v.call(f,t,e)]})}),i=h.call(f,r,e);n=na.permute(n,i),r=na.permute(r,i);var o,a,s,u,l=p.call(f,r,e),c=n[0].length;for(s=0;s<c;++s)for(g.call(f,n[0][s],u=l[s],r[0][s][1]),a=1;a<o;++a)g.call(f,n[a][s],u+=r[a-1][s][1],r[a][s][1]);return t}var d=F,h=ui,p=li,g=si,m=oi,v=ai;return f.values=function(t){return arguments.length?(d=t,f):d},f.order=function(t){return arguments.length?(h="function"==typeof t?t:pu.get(t)||ui,f):h},f.offset=function(t){return arguments.length?(p="function"==typeof t?t:gu.get(t)||li,f):p},f.x=function(t){return arguments.length?(m=t,f):m},f.y=function(t){return arguments.length?(v=t,f):v},f.out=function(t){return arguments.length?(g=t,f):g},f};var pu=na.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(ci),o=t.map(fi),a=na.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return na.range(t.length).reverse()},"default":ui}),gu=na.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=u=l=0,n=1;n<d;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}h[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<d;++n)h[n]-=l;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:li});na.layout.histogram=function(){function n(t,e){for(var n,r,i=[],o=t.map(d,this),a=h.call(this,o,e),s=p.call(this,a,o,e),u=(e=-1,o.length),l=s.length-1,c=f?1:1/u;++e<l;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[na.bisect(s,r,1,l)-1]).y+=c,n.push(t[e]));return i}var f=!0,d=Number,h=gi,p=hi;return n.value=function(t){return arguments.length?(d=t,n):d},n.range=function(t){return arguments.length?(h=At(t),n):h},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return pi(t,e)}:At(e),n):p},n.frequency=function(t){return arguments.length?(f=!!t,n):f},n},na.layout.pack=function(){function e(t,e){var n=l.call(this,t,e),r=n[0],i=f[0],o=f[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(r.x=r.y=0,ti(r,function(t){t.r=+a(t.value)}),ti(r,xi),c){var s=c*(u?1:Math.max(2*r.r/i,2*r.r/o))/2;ti(r,function(t){t.r+=s}),ti(r,xi),ti(r,function(t){t.r-=s})}return Si(r,i/2,o/2,u?1:1/Math.max(2*r.r/i,2*r.r/o)),n}var u,l=na.layout.hierarchy().sort(mi),c=0,f=[1,1];return e.size=function(t){return arguments.length?(f=t,e):f},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},Jr(e,l)},na.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),r=n[0],i=f(r);if(ti(i,d),i.parent.m=-i.z,Qr(i,h),y)Qr(r,p);else{var o=r,a=r,s=r;Qr(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=m(o,a)/2-o.x,l=v[0]/(a.x+m(a,o)/2+u),c=v[1]/(s.depth||1);Qr(r,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function f(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function d(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ti(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+m(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+m(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function h(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,l=o.m,c=a.m,f=s.m;a=Ei(a),i=Ai(i),a&&i;)s=Ai(s),(o=Ei(o)).a=t,0<(r=a.z+c-i.z-u+m(a._,i._))&&(_i(Ni(a,t,n),t,r),u+=r,l+=r),c+=a.m,u+=i.m,f+=s.m,l+=o.m;a&&!Ei(o)&&(o.t=a,o.m+=c-l),i&&!Ai(s)&&(s.t=i,s.m+=u-f,n=t)}return n}function p(t){t.x*=v[0],t.y=t.depth*v[1]}var g=na.layout.hierarchy().sort(null).value(null),m=Mi,v=[1,1],y=null;return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(y=null==(v=t)?p:null,e):y?null:v},e.nodeSize=function(t){return arguments.length?(y=null==(v=t)?null:p,e):y?v:null},Jr(e,g)},na.layout.cluster=function(){function e(t,e){var n,r=c.call(this,t,e),i=r[0],o=0;ti(i,function(t){var e=t.children;e&&e.length?(t.x=Li(e),t.y=Di(e)):(t.x=n?o+=f(t,n):0,t.y=0,n=t)});var a=Ri(i),s=Ii(i),u=a.x-f(a,s)/2,l=s.x+f(s,a)/2;return ti(i,h?function(t){t.x=(t.x-i.x)*d[0],t.y=(i.y-t.y)*d[1]}:function(t){t.x=(t.x-u)/(l-u)*d[0],t.y=(1-(i.y?t.y/i.y:1))*d[1]}),r}var c=na.layout.hierarchy().sort(null).value(null),f=Mi,d=[1,1],h=!1;return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(h=null==(d=t),e):h?null:d},e.nodeSize=function(t){return arguments.length?(h=null!=(d=t),e):h?d:null},Jr(e,c)},na.layout.treemap=function(){function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=g(t),a=[],s=e.slice(),u=Infinity,l="slice"===m?o.dx:"dice"===m?o.dy:"slice-dice"===m?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(s,o.dx*o.dy/t.value),a.area=0;0<(i=s.length);)a.push(n=s[i-1]),a.area+=n.area,"squarify"!==m||(r=d(a,l))<=u?(s.pop(),u=r):(a.area-=a.pop().area,h(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,u=Infinity);a.length&&(h(a,l,o,!0),a.length=a.area=0),e.forEach(f)}}function a(t){var e=t.children;if(e&&e.length){var n,r=g(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(h(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(a)}}function d(t,e){for(var n,r=t.area,i=0,o=Infinity,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*v/r,r/(e*o*v)):Infinity}function h(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,l=e?p(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)(i=t[o]).x=s,i.y=u,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?p(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)(i=t[o]).x=s,i.y=u,i.dx=l,u+=i.dy=Math.min(n.y+n.dy-u,l?p(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function i(t){var e=r||o(t),n=e[0];return n.x=0,n.y=0,n.dx=s[0],n.dy=s[1],r&&o.revalue(n),c([n],n.dx*n.dy/n.value),(r?a:f)(n),l&&(r=e),e}var r,o=na.layout.hierarchy(),p=Math.round,s=[1,1],u=null,g=Fi,l=!1,m="squarify",v=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Fi(t):Oi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Oi(t,n)}return arguments.length?(g=null==(u=n)?Fi:"function"==(r=typeof n)?t:("number"===r&&(n=[n,n,n,n]),e),i):u;var r},i.round=function(t){return arguments.length?(p=t?Math.round:Number,i):p!=Number},i.sticky=function(t){return arguments.length?(l=t,r=null,i):l},i.ratio=function(t){return arguments.length?(v=t,i):v},i.mode=function(t){return arguments.length?(m=t+"",i):m},Jr(i,o)},na.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=na.random.normal.apply(na,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=na.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},na.scale={};var mu={floor:F,ceil:F};na.scale.linear=function(){return qi([0,1],[0,1],yr,!1)};var vu={s:1,g:1,p:1,r:1,e:1};na.scale.log=function(){return Zi(na.scale.linear().domain([0,1]),10,!0,[1,10])};var yu=na.format(".0e"),bu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};na.scale.pow=function(){return Ji(na.scale.linear(),1,[0,1])},na.scale.sqrt=function(){return na.scale.pow().exponent(.5)},na.scale.ordinal=function(){return to([],{t:"range",a:[[]]})},na.scale.category10=function(){return na.scale.ordinal().range(xu)},na.scale.category20=function(){return na.scale.ordinal().range(wu)},na.scale.category20b=function(){return na.scale.ordinal().range(ku)},na.scale.category20c=function(){return na.scale.ordinal().range(Su)};var xu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),wu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),ku=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Su=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);na.scale.quantile=function(){return eo([],[])},na.scale.quantize=function(){return no(0,1,[0,1])},na.scale.threshold=function(){return ro([.5],[0,1])},na.scale.identity=function(){return io([0,1])},na.svg={},na.svg.arc=function(){function e(){var t=Math.max(0,+$.apply(this,arguments)),e=Math.max(0,+B.apply(this,arguments)),n=q.apply(this,arguments)-Ra,r=z.apply(this,arguments)-Ra,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),La<=i)return H(e,o)+(t?H(t,1-o):"")+"Z";var a,s,u,l,c,f,d,h,p,g,m,v,y=0,b=0,x=[];if((l=(+V.apply(this,arguments)||0)/2)&&(u=j===Cu?Math.sqrt(t*t+e*e):+j.apply(this,arguments),o||(b*=-1),e&&(b=et(u/e*Math.sin(l))),t&&(y=et(u/t*Math.sin(l)))),e){c=e*Math.cos(n+b),f=e*Math.sin(n+b),d=e*Math.cos(r-b),h=e*Math.sin(r-b);var w=Math.abs(r-n-2*b)<=Na?0:1;if(b&&fo(c,f,d,h)===o^w){var k=(n+r)/2;c=e*Math.cos(k),f=e*Math.sin(k),d=h=null}}else c=f=0;if(t){p=t*Math.cos(r-y),g=t*Math.sin(r-y),m=t*Math.cos(n+y),v=t*Math.sin(n+y);var S=Math.abs(n-r+2*y)<=Na?0:1;if(y&&fo(p,g,m,v)===1-o^S){var C=(n+r)/2;p=t*Math.cos(C),g=t*Math.sin(C),m=v=null}}else p=g=0;if(.001<(a=Math.min(Math.abs(e-t)/2,+W.apply(this,arguments)))){s=t<e^o?0:1;var M=null==m?[p,g]:null==d?[c,f]:Rn([c,f],[m,v],[d,h],[p,g]),A=c-M[0],E=f-M[1],_=d-M[0],T=h-M[1],N=1/Math.sin(Math.acos((A*_+E*T)/(Math.sqrt(A*A+E*E)*Math.sqrt(_*_+T*T)))/2),D=Math.sqrt(M[0]*M[0]+M[1]*M[1]);if(null!=d){var L=Math.min(a,(e-D)/(N+1)),R=ho(null==m?[p,g]:[m,v],[c,f],e,L,o),I=ho([d,h],[p,g],e,L,o);a===L?x.push("M",R[0],"A",L,",",L," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^fo(R[1][0],R[1][1],I[1][0],I[1][1]),",",o," ",I[1],"A",L,",",L," 0 0,",s," ",I[0]):x.push("M",R[0],"A",L,",",L," 0 1,",s," ",I[0])}else x.push("M",c,",",f);if(null!=m){var F=Math.min(a,(t-D)/(N-1)),O=ho([c,f],[m,v],t,-F,o),P=ho([p,g],null==d?[c,f]:[d,h],t,-F,o);a===F?x.push("L",P[0],"A",F,",",F," 0 0,",s," ",P[1],"A",t,",",t," 0 ",o^fo(P[1][0],P[1][1],O[1][0],O[1][1]),",",1-o," ",O[1],"A",F,",",F," 0 0,",s," ",O[0]):x.push("L",P[0],"A",F,",",F," 0 0,",s," ",O[0])}else x.push("L",p,",",g)}else x.push("M",c,",",f),null!=d&&x.push("A",e,",",e," 0 ",w,",",o," ",d,",",h),x.push("L",p,",",g),null!=m&&x.push("A",t,",",t," 0 ",S,",",1-o," ",m,",",v);return x.push("Z"),x.join("")}function H(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var $=ao,B=so,W=oo,j=Cu,q=uo,z=lo,V=co;return e.innerRadius=function(t){return arguments.length?($=At(t),e):$},e.outerRadius=function(t){return arguments.length?(B=At(t),e):B},e.cornerRadius=function(t){return arguments.length?(W=At(t),e):W},e.padRadius=function(t){return arguments.length?(j=t==Cu?Cu:At(t),e):j},e.startAngle=function(t){return arguments.length?(q=At(t),e):q},e.endAngle=function(t){return arguments.length?(z=At(t),e):z},e.padAngle=function(t){return arguments.length?(V=At(t),e):V},e.centroid=function(){var t=(+$.apply(this,arguments)+ +B.apply(this,arguments))/2,e=(+q.apply(this,arguments)+ +z.apply(this,arguments))/2-Ra;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Cu="auto";na.svg.line=function(){return po(F)};var Mu=na.map({linear:go,"linear-closed":mo,step:vo,"step-before":yo,"step-after":bo,basis:Mo,"basis-open":Ao,"basis-closed":Eo,bundle:_o,cardinal:ko,"cardinal-open":xo,"cardinal-closed":wo,monotone:Io});Mu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Au=[0,2/3,1/3,0],Eu=[0,1/3,2/3,0],_u=[0,1/6,2/3,1/6];na.svg.line.radial=function(){var t=po(Fo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(yo.reverse=bo).reverse=yo,na.svg.area=function(){return Oo(F)},na.svg.area.radial=function(){var t=Oo(Fo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},na.svg.chord=function(){function e(t,e){var n=i(this,u,t,e),r=i(this,l,t,e);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(o(n,r)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,r.r,r.p0)+a(r.r,r.p1,r.a1-r.a0)+s(r.r,r.p1,n.r,n.p0))+"Z"}function i(t,e,n,r){var i=e.call(t,n,r),o=c.call(t,i,r),a=f.call(t,i,r)-Ra,s=d.call(t,i,r)-Ra;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(Na<n)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}var u=yn,l=bn,c=Po,f=uo,d=lo;return e.radius=function(t){return arguments.length?(c=At(t),e):c},e.source=function(t){return arguments.length?(u=At(t),e):u},e.target=function(t){return arguments.length?(l=At(t),e):l},e.startAngle=function(t){return arguments.length?(f=At(t),e):f},e.endAngle=function(t){return arguments.length?(d=At(t),e):d},e},na.svg.diagonal=function(){function e(t,e){var n=a.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,o=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var a=yn,s=bn,u=Ho;return e.source=function(t){return arguments.length?(a=At(t),e):a},e.target=function(t){return arguments.length?(s=At(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},na.svg.diagonal.radial=function(){var t=na.svg.diagonal(),e=Ho,n=t.projection;return t.projection=function(t){return arguments.length?n($o(e=t)):e},t},na.svg.symbol=function(){function e(t,e){return(Tu.get(n.call(this,t,e))||jo)(r.call(this,t,e))}var n=Wo,r=Bo;return e.type=function(t){return arguments.length?(n=At(t),e):n},e.size=function(t){return arguments.length?(r=At(t),e):r},e};var Tu=na.map({circle:jo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Du)),n=e*Du;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});na.svg.symbolTypes=Tu.keys();var Nu=Math.sqrt(3),Du=Math.tan(30*Ia);wa.transition=function(t){for(var e,n,r=Lu||++Ou,i=Xo(t),o=[],a=Ru||{time:Date.now(),ease:Mr,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Yo(n,c,i,r,a),e.push(n)}return zo(o,i,r)},wa.interrupt=function(t){return this.each(null==t?Iu:qo(Xo(t)))};var Lu,Ru,Iu=qo(Xo()),Fu=[],Ou=0;Fu.call=wa.call,Fu.empty=wa.empty,Fu.node=wa.node,Fu.size=wa.size,na.transition=function(t,e){return t&&t.transition?Lu?t.transition(e):t:na.selection().transition(t)},(na.transition.prototype=Fu).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=C(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Yo(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return zo(a,o,i)},Fu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=M(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[s][a],n=t.call(r,r.__data__,d,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Yo(i,p,s,a,o),e.push(i)}return zo(u,s,a)},Fu.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=W(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return zo(r,this.namespace,this.id)},Fu.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):q(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},Fu.attr=function(t,e){function r(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function n(n){
return null==n?r:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=a(t,n),function(t){this.setAttribute(s,e(t))})})}function o(n){return null==n?i:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=a(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Wr:yr,s=na.ns.qualify(t);return Vo(this,"attr."+t,e,s.local?o:n)},Fu.attrTween=function(t,r){function e(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}}function n(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}var i=na.ns.qualify(t);return this.tween("attr."+t,i.local?n:e)},Fu.style=function(r,t,i){function e(){this.style.removeProperty(r)}function n(n){return null==n?e:(n+="",function(){var e,t=I(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=yr(t,n),function(t){this.style.setProperty(r,e(t),i)})})}var o=arguments.length;if(o<3){if("string"!=typeof r){for(i in o<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}return Vo(this,"style."+r,t,n)},Fu.styleTween=function(r,i,o){function t(t,e){var n=i.call(this,t,e,I(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}}return arguments.length<3&&(o=""),this.tween("style."+r,t)},Fu.text=function(t){return Vo(this,"text",t,Uo)},Fu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Fu.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=na.ease.apply(na,arguments)),q(this,function(t){t[r][n].ease=e}))},Fu.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:q(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},Fu.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:q(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},Fu.each=function(r,n){var i=this.id,o=this.namespace;if(arguments.length<2){var t=Ru,e=Lu;try{Lu=i,q(this,function(t,e,n){Ru=t[o][i],r.call(t,t.__data__,e,n)})}finally{Ru=t,Lu=e}}else q(this,function(t){var e=t[o][i];(e.event||(e.event=na.dispatch("start","end","interrupt"))).on(r,n)});return this},Fu.transition=function(){for(var t,e,n,r=this.id,i=++Ou,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,f=(l=this[s]).length;c<f;c++)(e=l[c])&&Yo(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return zo(a,o,i)},na.svg.axis=function(){function n(t){t.each(function(){var t,e=na.select(this),n=this.__chart__||E,r=this.__chart__=E.copy(),i=null==R?r.ticks?r.ticks.apply(r,L):r.domain():R,o=null==A?r.tickFormat?r.tickFormat.apply(r,L):F:A,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",_a),u=na.transition(a.exit()).style("opacity",_a).remove(),l=na.transition(a.order()).style("opacity",1),c=Math.max(T,0)+D,f=Hi(r),d=e.selectAll(".domain").data([0]),h=(d.enter().append("path").attr("class","domain"),na.transition(d));s.append("line"),s.append("text");var p,g,m,v,y=s.select("line"),b=l.select("line"),x=a.select("text").text(o),w=s.select("text"),k=l.select("text"),S="top"===_||"left"===_?-1:1;if("bottom"===_||"top"===_?(t=Ko,p="x",m="y",g="x2",v="y2",x.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),h.attr("d","M"+f[0]+","+S*N+"V0H"+f[1]+"V"+S*N)):(t=Go,p="y",m="x",g="y2",v="x2",x.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),h.attr("d","M"+S*N+","+f[0]+"H0V"+f[1]+"H"+S*N)),y.attr(v,S*T),w.attr(m,S*c),b.attr(g,0).attr(v,S*T),k.attr(p,0).attr(m,S*c),r.rangeBand){var C=r,M=C.rangeBand()/2;n=r=function(t){return C(t)+M}}else n.rangeBand?n=r:u.call(t,r,n);s.call(t,n,r),l.call(t,r,r)})}var A,E=na.scale.linear(),_=Pu,T=6,N=6,D=3,L=[10],R=null;return n.scale=function(t){return arguments.length?(E=t,n):E},n.orient=function(t){return arguments.length?(_=t in Hu?t+"":Pu,n):_},n.ticks=function(){return arguments.length?(L=arguments,n):L},n.tickValues=function(t){return arguments.length?(R=t,n):R},n.tickFormat=function(t){return arguments.length?(A=t,n):A},n.tickSize=function(t){var e=arguments.length;return e?(T=+t,N=+arguments[e-1],n):T},n.innerTickSize=function(t){return arguments.length?(T=+t,n):T},n.outerTickSize=function(t){return arguments.length?(N=+t,n):N},n.tickPadding=function(t){return arguments.length?(D=+t,n):D},n.tickSubdivide=function(){return arguments.length&&n},n};var Pu="bottom",Hu={top:1,right:1,bottom:1,left:1};na.svg.brush=function(){function x(t){t.each(function(){var t=na.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,F);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return $u[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",x.empty()?"none":null);var r,i=na.transition(t),o=na.transition(e);E&&(r=Hi(E),o.attr("x",r[0]).attr("width",r[1]-r[0]),k(i)),_&&(r=Hi(_),o.attr("y",r[0]).attr("height",r[1]-r[0]),S(i)),w(i)})}function w(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+T[+/e$/.test(t)]+","+N[+/^s/.test(t)]+")"})}function k(t){t.select(".extent").attr("x",T[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",T[1]-T[0])}function S(t){t.select(".extent").attr("y",N[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",N[1]-N[0])}function a(){function t(){32==na.event.keyCode&&(p||(f=null,m[0]-=T[1],m[1]-=N[1],p=2),O())}function e(){32==na.event.keyCode&&2==p&&(m[0]+=T[1],m[1]+=N[1],p=0,O())}function n(){var t=na.mouse(a),e=!1;o&&(t[0]+=o[0],t[1]+=o[1]),p||(na.event.altKey?(f||(f=[(T[0]+T[1])/2,(N[0]+N[1])/2]),m[0]=T[+(t[0]<f[0])],m[1]=N[+(t[1]<f[1])]):f=null),d&&r(t,E,0)&&(k(l),e=!0),h&&r(t,_,1)&&(S(l),e=!0),e&&(w(l),u({type:"brush",mode:p?"move":"resize"}))}function r(t,e,n){var r,i,o=Hi(e),a=o[0],s=o[1],u=m[n],l=n?N:T,c=l[1]-l[0];if(p&&(a-=u,s-=c+u),r=(n?L:D)?Math.max(a,Math.min(s,t[n])):t[n],p?i=(r+=u)+c:(f&&(u=Math.max(a,Math.min(s,2*f[n]-r))),u<r?(i=r,r=u):i=u),l[0]!=r||l[1]!=i)return n?M=null:C=null,l[0]=r,l[1]=i,!0}function i(){n(),l.style("pointer-events","all").selectAll(".resize").style("display",x.empty()?"none":null),na.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),u({type:"brushend"})}var f,o,a=this,s=na.select(na.event.target),u=A.of(a,arguments),l=na.select(a),c=s.datum(),d=!/^(n|s)$/.test(c)&&E,h=!/^(e|w)$/.test(c)&&_,p=s.classed("extent"),g=K(a),m=na.mouse(a),v=na.select(I(a)).on("keydown.brush",t).on("keyup.brush",e);if(na.event.changedTouches?v.on("touchmove.brush",n).on("touchend.brush",i):v.on("mousemove.brush",n).on("mouseup.brush",i),l.interrupt().selectAll("*").interrupt(),p)m[0]=T[0]-m[0],m[1]=N[0]-m[1];else if(c){var y=+/w$/.test(c),b=+/^n/.test(c);o=[T[1-y]-m[0],N[1-b]-m[1]],m[0]=T[y],m[1]=N[b]}else na.event.altKey&&(f=m.slice());l.style("pointer-events","none").selectAll(".resize").style("display",null),na.select("body").style("cursor",s.style("cursor")),u({type:"brushstart"}),n()}var C,M,A=P(x,"brushstart","brush","brushend"),E=null,_=null,T=[0,0],N=[0,0],D=!0,L=!0,s=Bu[0];return x.event=function(t){t.each(function(){var r=A.of(this,arguments),i={x:T,y:N,i:C,j:M},t=this.__chart__||i;this.__chart__=i,Lu?na.select(this).transition().each("start.brush",function(){C=t.i,M=t.j,T=t.x,N=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=br(T,i.x),n=br(N,i.y);return C=M=null,function(t){T=i.x=e(t),N=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){C=i.i,M=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},x.x=function(t){return arguments.length?(s=Bu[!(E=t)<<1|!_],x):E},x.y=function(t){return arguments.length?(s=Bu[!E<<1|!(_=t)],x):_},x.clamp=function(t){return arguments.length?(E&&_?(D=!!t[0],L=!!t[1]):E?D=!!t:_&&(L=!!t),x):E&&_?[D,L]:E?D:_?L:null},x.extent=function(t){var e,n,r,i,o;return arguments.length?(E&&(e=t[0],n=t[1],_&&(e=e[0],n=n[0]),C=[e,n],E.invert&&(e=E(e),n=E(n)),n<e&&(o=e,e=n,n=o),e==T[0]&&n==T[1]||(T=[e,n])),_&&(r=t[0],i=t[1],E&&(r=r[1],i=i[1]),M=[r,i],_.invert&&(r=_(r),i=_(i)),i<r&&(o=r,r=i,i=o),r==N[0]&&i==N[1]||(N=[r,i])),x):(E&&(C?(e=C[0],n=C[1]):(e=T[0],n=T[1],E.invert&&(e=E.invert(e),n=E.invert(n)),n<e&&(o=e,e=n,n=o))),_&&(M?(r=M[0],i=M[1]):(r=N[0],i=N[1],_.invert&&(r=_.invert(r),i=_.invert(i)),i<r&&(o=r,r=i,i=o))),E&&_?[[e,r],[n,i]]:E?[e,n]:_&&[r,i])},x.clear=function(){return x.empty()||(T=[0,0],N=[0,0],C=M=null),x},x.empty=function(){return!!E&&T[0]==T[1]||!!_&&N[0]==N[1]},na.rebind(x,A,"on")};var $u={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wu=as.format=ds.timeFormat,ju=Wu.utc,qu=ju("%Y-%m-%dT%H:%M:%S.%LZ");Wu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:qu,Zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zo.toString=qu.toString,as.second=$t(function(t){return new ss(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),as.seconds=as.second.range,as.seconds.utc=as.second.utc.range,as.minute=$t(function(t){return new ss(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),as.minutes=as.minute.range,as.minutes.utc=as.minute.utc.range,as.hour=$t(function(t){var e=t.getTimezoneOffset()/60;return new ss(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),as.hours=as.hour.range,as.hours.utc=as.hour.utc.range,as.month=$t(function(t){return(t=as.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),as.months=as.month.range,as.months.utc=as.month.utc.range;var zu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Vu=[[as.second,1],[as.second,5],[as.second,15],[as.second,30],[as.minute,1],[as.minute,5],[as.minute,15],[as.minute,30],[as.hour,1],[as.hour,3],[as.hour,6],[as.hour,12],[as.day,1],[as.day,2],[as.week,1],[as.month,1],[as.month,3],[as.year,1]],Uu=Wu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",_e]]),Xu={range:function(t,e,n){return na.range(Math.ceil(t/n)*n,+e,n).map(Qo)},floor:F,ceil:F};Vu.year=as.year,as.scale=function(){return Jo(na.scale.linear(),Vu,Uu)};var Yu=Vu.map(function(t){return[t[0].utc,t[1]]}),Ku=ju.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",_e]]);Yu.year=as.year.utc,as.scale.utc=function(){return Jo(na.scale.linear(),Yu,Ku)},na.text=Et(function(t){return t.responseText}),na.json=function(t,e){return _t(t,"application/json",ta,e)},na.html=function(t,e){return _t(t,"text/html",ea,e)},na.xml=Et(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(na):"object"==typeof module&&module.exports&&(module.exports=na),this.d3=na}(),function(){var gt={dev:!1};gt.tooltip=gt.tooltip||{},gt.utils=gt.utils||{},gt.models=gt.models||{},gt.charts={},gt.logs={},gt.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),gt.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),gt.dev&&(gt.dispatch.on("render_start",function(){gt.logs.startTime=+new Date}),gt.dispatch.on("render_end",function(){gt.logs.endTime=+new Date,gt.logs.totalTime=gt.logs.endTime-gt.logs.startTime,gt.log("total",gt.logs.totalTime)})),gt.log=function(){if(gt.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(gt.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},gt.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},gt.render=function t(r){r=r||1,gt.render.active=!0,gt.dispatch.render_start();var i=function(){for(var t,e,n=0;n<r&&(e=gt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);gt.render.queue.splice(0,n),gt.render.queue.length?setTimeout(i):(gt.dispatch.render_end(),gt.render.active=!1)};setTimeout(i)},gt.render.active=!1,gt.render.queue=[],gt.addGraph=function(t,e){typeof t==typeof Function&&(t={generate:t,callback:e}),gt.render.queue.push(t),gt.render.active||gt.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=gt),"undefined"!=typeof window&&(window.nv=gt),gt.dom.write=function(t){return window.fastdom!==undefined?fastdom.mutate(t):t()},gt.dom.read=function(t){return window.fastdom!==undefined?fastdom.measure(t):t()},gt.interactiveGuideline=function(){"use strict";function l(t){t.each(function(t){function e(){var t=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,n=!0,r=!1;if(g&&(t=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(n=!1),d3.event.target.className.baseVal.match("nv-legend")&&(r=!0)),n&&(t-=c.left,e-=c.top),"mouseout"===d3.event.type||t<0||e<0||s<t||u<e||d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined||r){if(g&&d3.event.relatedTarget&&d3.event.relatedTarget.ownerSVGElement===undefined&&(d3.event.relatedTarget.className===undefined||d3.event.relatedTarget.className.match(p.nvPointerEventsClass)))return;return d.elementMouseout({mouseX:t,mouseY:e}),l.renderGuideLine(null),void p.hidden(!0)}p.hidden(!1);var i="function"==typeof f.rangeBands,o=undefined;if(i){var a=d3.bisect(f.range(),t)-1;if(!(f.range()[a]+f.rangeBand()>=t))return d.elementMouseout({mouseX:t,mouseY:e}),l.renderGuideLine(null),void p.hidden(!0);o=f.domain()[d3.bisect(f.range(),t)-1]}else o=f.invert(t);d.elementMousemove({mouseX:t,mouseY:e,pointXValue:o}),"dblclick"===d3.event.type&&d.elementDblclick({mouseX:t,mouseY:e,pointXValue:o}),"click"===d3.event.type&&d.elementClick({mouseX:t,mouseY:e,pointXValue:o}),"mousedown"===d3.event.type&&d.elementMouseDown({mouseX:t,mouseY:e,pointXValue:o}),"mouseup"===d3.event.type&&d.elementMouseUp({mouseX:t,mouseY:e,pointXValue:o})}var n=d3.select(this),s=i||960,u=o||400,r=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),h&&(h.on("touchmove",e).on("mousemove",e,!0).on("mouseout",e,!0).on("mousedown",e,!0).on("mouseup",e,!0).on("dblclick",e).on("click",e),l.guideLine=null,l.renderGuideLine=function(e){a&&(l.guideLine&&l.guideLine.attr("x1")===e||gt.dom.write(function(){var t=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[gt.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",u).attr("y2",0),t.exit().remove()}))})})}var c={left:0,top:0},i=null,o=null,f=d3.scale.linear(),d=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,h=null,p=gt.models.tooltip(),g=window.ActiveXObject;return p.duration(0).hideDelay(0).hidden(!1),l.dispatch=d,l.tooltip=p,l.margin=function(t){return arguments.length?(c.top="undefined"!=typeof t.top?t.top:c.top,c.left="undefined"!=typeof t.left?t.left:c.left,l):c},l.width=function(t){return arguments.length?(i=t,l):i},l.height=function(t){return arguments.length?(o=t,l):o},l.xScale=function(t){return arguments.length?(f=t,l):f},l.showGuideLine=function(t){return arguments.length?(a=t,l):a},l.svgContainer=function(t){return arguments.length?(h=t,l):h},l},gt.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=function(t,e){return r(t)-e},o=d3.bisector(i).left,a=d3.max([0,o(t,e)-1]),s=r(t[a]);if(void 0===s&&(s=a),s===e)return a;var u=d3.min([a+1,t.length-1]),l=r(t[u]);return void 0===l&&(l=u),Math.abs(l-e)>=Math.abs(s-e)?a:u},gt.nearestValueIndex=function(t,r,i){"use strict";var o=Infinity,a=null;return t.forEach(function(t,e){var n=Math.abs(r-t);null!=t&&n<=o&&n<i&&(o=n,a=e)}),a},gt.models.tooltip=function(){"use strict";function e(){if(!d||!d.node()){var t=[1];(d=d3.select(document.body).select("#"+r).data(t)).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",r).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(m,!0).classed(m,!0),d.exit().remove()}}function n(){if(s&&t(i))return gt.dom.write(function(){e();var t=x(i,d.node());t&&(d.node().innerHTML=t),S()}),n}var r="nvtooltip-"+Math.floor(1e5*Math.random()),i=null,u="w",l=25,o=0,a=null,c=!0,f=200,d=null,h={left:null,top:null},s=!0,p=100,g=!0,m="nv-pointer-events-none",v=function(t){return t},y=function(t){return t},b=function(t){return t},x=function(t){if(null===t)return"";var e=d3.select(document.createElement("table"));g&&e.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(t.value));var n=e.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});n.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),n.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return b(t.key,e)}),n.append("td").classed("value",!0).html(function(t,e){return v(t.value,e,t)}),n.filter(function(t){return t.percent!==undefined}).append("td").classed("percent",!0).html(function(t){return"("+d3.format("%")(t.percent)+")"}),n.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var r=e.node().outerHTML;return t.footer!==undefined&&(r+="<div class='footer'>"+t.footer+"</div>"),r},w=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},t=function(t){if(t&&t.series){if(gt.utils.isArray(t.series))return!0;if(gt.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(t){var e,n,r,i=d.node().offsetHeight,o=d.node().offsetWidth,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(u){case"e":e=-o-l,n=-i/2,t.left+e<0&&(e=l),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"w":e=l,n=-i/2,t.left+e+o>a&&(e=-o-l),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"n":e=-o/2-5,n=l,t.top+n+i>s&&(n=-i-l),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"s":e=-o/2,n=-i-l,t.top+n<0&&(n=l),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"center":e=-o/2,n=-i/2;break;default:n=e=0}return{left:e,top:n}},S=function(){gt.dom.read(function(){var t=w(),e=k(t),n=t.left+e.left,r=t.top+e.top;if(c)d.interrupt().transition().delay(f).duration(0).style("opacity",0);else{var i="translate("+h.left+"px, "+h.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",a=d3.interpolateString(i,o),s=d.style("opacity")<.1;d.interrupt().transition().duration(s?0:p).styleTween("transform",function(){return a},"important").styleTween("-webkit-transform",function(){return a}).style("-ms-transform",o).style("opacity",1)}h.left=n,h.top=r})};return n.nvPointerEventsClass=m,n.options=gt.utils.optionsFunc.bind(n),n._options=Object.create({},{duration:{get:function(){return p},set:function(t){p=t}},gravity:{get:function(){return u},set:function(t){u=t}},distance:{get:function(){return l},set:function(t){l=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return s},set:function(t){s=t}},hideDelay:{get:function(){return f},set:function(t){f=t}},contentGenerator:{get:function(){return x},set:function(t){x=t}},valueFormatter:{get:function(){return v},set:function(t){v=t}},headerFormatter:{get:function(){return y},set:function(t){y=t}},keyFormatter:{get:function(){return b},set:function(t){b=t}},headerEnabled:{get:function(){return g},set:function(t){g=t}},position:{get:function(){return w},set:function(t){w=t}},chartContainer:{get:function(){return document.body},set:function(){gt.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(){gt.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(){gt.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,n())}},data:{get:function(){return i},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),i=t}},node:{get:function(){return d.node()},set:function(){}},id:{get:function(){return r},set:function(){}}}),gt.utils.initOptions(n),n},gt.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},gt.utils.isArray=Array.isArray,gt.utils.isObject=function(t){return null!==t&&"object"==typeof t},gt.utils.isFunction=function(t){return"function"==typeof t},gt.utils.isDate=function(t){return"[object Date]"===toString.call(t)},gt.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},gt.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):gt.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},gt.utils.getColor=function(t){if(t===undefined)return gt.utils.defaultColor();if(gt.utils.isArray(t)){var r=d3.scale.ordinal().range(t);return function(t,e){var n=e===undefined?t:e;return t.color||r(n)}}return t},gt.utils.defaultColor=function(){return gt.utils.getColor(d3.scale.category20().range())},gt.utils.customTheme=function(n,r,i){r=r||function(t){return t.key};var o=(i=i||d3.scale.category20().range()).length;return function(t){var e=r(t);return gt.utils.isFunction(n[e])?n[e]():n[e]!==undefined?n[e]:(o||(o=i.length),i[o-=1])}},gt.utils.pjax=function(n,r){var t=function(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),gt.utils.pjax(n,r)})};d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},gt.utils.calcApproxTextWidth=function(t){if(gt.utils.isFunction(t.style)&&gt.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return gt.utils.NaNtoZero(n*e*.5)}return 0},gt.utils.NaNtoZero=function(t){return!gt.utils.isNumber(t)||isNaN(t)||null===t||t===Infinity||t===-Infinity?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},gt.utils.renderWatch=function(t,e){if(!(this instanceof gt.utils.renderWatch))return new gt.utils.renderWatch(t,e);var i=e!==undefined?e:250,o=[],a=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(){e.__rendered=!0,a.renderEnd("model")}),o.indexOf(t)<0&&o.push(t)}),this},this.reset=function(t){t!==undefined&&(i=t),o=[]},this.transition=function(t,e,n){if(n=1<(e=1<arguments.length?[].slice.call(arguments,1):[]).length?e.pop():i!==undefined?i:250,t.__rendered=!1,o.indexOf(t)<0&&o.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var r=0;return t.transition().duration(n).each(function(){++r}).each("end",function(){0==--r&&(t.__rendered=!0,a.renderEnd.apply(this,e))})},this.renderEnd=function(){o.every(function(t){return t.__rendered})&&(o.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},gt.utils.deepExtend=function(o){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=gt.utils.isArray(o[e]),r=gt.utils.isObject(o[e]),i=gt.utils.isObject(t[e]);r&&!n&&i?gt.utils.deepExtend(o[e],t[e]):o[e]=t[e]}})},gt.utils.state=function(){if(!(this instanceof gt.utils.state))return new gt.utils.state;var n={},e=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(n,r){return r||(r=function(){}),e=function(t,e){n(t),e&&r()},this},this.init=function(t){i=i||{},gt.utils.deepExtend(i,t)};var t=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)n[e]===undefined&&(n[e]={}),n[e]=t[e],!0;return!0};this.update=function(){i&&(e(i,!1),i=null),t.call(this)&&this.dispatch.change(n)}},gt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){gt.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},gt.utils.calcTicksX=function(t,e){for(var n=1,r=0;r<e.length;r+=1){var i=e[r]&&e[r].values?e[r].values.length:0;n=n<i?i:n}return gt.log("Requested number of ticks: ",t),gt.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),gt.log("Calculating tick count as: ",t),t},gt.utils.calcTicksY=function(t,e){return gt.utils.calcTicksX(t,e)},gt.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},gt.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var r in e=e.concat(n))gt.utils.initOption(t,e[r])},gt.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},gt.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},gt.utils.symbolMap=d3.map(),gt.utils.symbol=function(){function e(t,e){var n=i.call(this,t,e),r=o.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(r)():gt.utils.symbolMap.get(n)(r)}var i,o=64;return e.type=function(t){return arguments.length?(i=d3.functor(t),e):i},e.size=function(t){return arguments.length?(o=d3.functor(t),e):o},e},gt.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{}),i=e._inherited||[],o=e._d3options||[],a=n.concat(r).concat(i).concat(o);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=gt.utils.arrayUnique(n.concat(r).concat(i).concat(n).concat(t._inherited||[])),t._d3options=gt.utils.arrayUnique(o.concat(t._d3options||[]))},gt.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},gt.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},gt.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},gt.utils.availableHeight=function(t,e,n){return Math.max(0,gt.utils.sanitizeHeight(t,e)-n.top-n.bottom)},gt.utils.availableWidth=function(t,e,n){return Math.max(0,gt.utils.sanitizeWidth(t,e)-n.left-n.right)},gt.utils.noData=function(t,e){var n=t.options(),r=n.margin(),i=n.noData(),o=null==i?["No Data Available."]:[i],a=gt.utils.availableHeight(null,e,r),s=gt.utils.availableWidth(null,e,r),u=r.left+s/2,l=r.top+a/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(o);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",u).attr("y",l).text(function(t){return t})},gt.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],i=0,o=1.1,a=e.attr("y"),s=parseFloat(e.attr("dy")),u=e.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");t=n.pop();)r.push(t),u.text(r.join(" ")),u.node().getComputedTextLength()>l&&(r.pop(),u.text(r.join(" ")),r=[t],u=e.append("tspan").attr("x",0).attr("y",a).attr("dy",++i*o+s+"em").text(t))})},gt.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!gt.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},gt.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,u=Math.atan2(t.x,-t.y);return u=u<0?u+2*Math.PI:u,r*r<=s&&s<=i*i&&o<=u&&u<=a},gt.models.axis=function(){"use strict";function e(t){return N.reset(),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),r=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==E?v.ticks(E):"top"!=v.orient()&&"bottom"!=v.orient()||v.ticks(Math.abs(y.range()[1]-y.range()[0])/100),r.watchTransition(N,"axis").call(v),m=m||v.scale();var i=v.tickFormat();null==i&&(i=m.tickFormat());var o,a,s,u=r.selectAll("text.nv-axislabel").data([w||null]);switch(u.exit().remove(),T!==undefined&&r.selectAll("g").select("text").style("font-size",T),v.orient()){case"top":u.enter().append("text").attr("class","nv-axislabel"),s=0,1===y.range().length?s=A?2*y.range()[0]+y.rangeBand():0:2===y.range().length?s=A?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(s=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),u.attr("text-anchor","middle").attr("y",0).attr("x",s/2),k&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t){
return"translate("+gt.utils.NaNtoZero(y(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-v.tickPadding()).attr("text-anchor","middle").text(function(t){var e=(g||i)(t);return(""+e).match("NaN")?"":e}),a.watchTransition(N,"min-max top").attr("transform",function(t,e){return"translate("+gt.utils.NaNtoZero(y.range()[e])+",0)"}));break;case"bottom":o=_+36;var l=30,c=0,f=r.selectAll("g").select("text"),d="";if(S%360){f.attr("transform",""),f.each(function(){var t=this.getBoundingClientRect(),e=t.width;c=t.height,l<e&&(l=e)}),d="rotate("+S+" 0,"+(c/2+v.tickPadding())+")";var h=Math.abs(Math.sin(S*Math.PI/180));o=(h?h*l:l)+30,f.attr("transform",d).style("text-anchor",0<S%360?"start":"end")}else M?f.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):f.attr("transform","translate(0,0)");u.enter().append("text").attr("class","nv-axislabel"),s=0,1===y.range().length?s=A?2*y.range()[0]+y.rangeBand():0:2===y.range().length?s=A?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(s=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),u.attr("text-anchor","middle").attr("y",o).attr("x",s/2),k&&((a=n.selectAll("g.nv-axisMaxMin").data([y.domain()[0],y.domain()[y.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),a.exit().remove(),a.attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(y(t)+(A?y.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",v.tickPadding()).attr("transform",d).style("text-anchor",S?0<S%360?"start":"end":"middle").text(function(t){var e=(g||i)(t);return(""+e).match("NaN")?"":e}),a.watchTransition(N,"min-max bottom").attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(y(t)+(A?y.rangeBand()/2:0))+",0)"}));break;case"right":u.enter().append("text").attr("class","nv-axislabel"),u.style("text-anchor",C?"middle":"begin").attr("transform",C?"rotate(90)":"").attr("y",C?12-Math.max(b.right,x)-(_||0):-10).attr("x",C?d3.max(y.range())/2:v.tickPadding()),k&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t){return"translate(0,"+gt.utils.NaNtoZero(y(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",v.tickPadding()).style("text-anchor","start").text(function(t){var e=(g||i)(t);return(""+e).match("NaN")?"":e}),a.watchTransition(N,"min-max right").attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1));break;case"left":u.enter().append("text").attr("class","nv-axislabel"),u.style("text-anchor",C?"middle":"end").attr("transform",C?"rotate(-90)":"").attr("y",C?25-Math.max(b.left,x)-(_||0):-10).attr("x",C?-d3.max(y.range())/2:-v.tickPadding()),k&&((a=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),a.exit().remove(),a.attr("transform",function(t){return"translate(0,"+gt.utils.NaNtoZero(m(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-v.tickPadding()).attr("text-anchor","end").text(function(t){var e=(g||i)(t);return(""+e).match("NaN")?"":e}),a.watchTransition(N,"min-max right").attr("transform",function(t,e){return"translate(0,"+gt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1))}if(u.text(function(t){return t}),!k||"left"!==v.orient()&&"right"!==v.orient()||(r.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(y(t)<y.range()[1]+10||y(t)>y.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),y.domain()[0]==y.domain()[1]&&0==y.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),k&&("top"===v.orient()||"bottom"===v.orient())){var p=[];n.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?p.push(y(t)-this.getBoundingClientRect().width-4):p.push(y(t)+this.getBoundingClientRect().width+4)}catch(n){e?p.push(y(t)-4):p.push(y(t)+4)}}),r.selectAll("g").each(function(t){(y(t)<p[0]||y(t)>p[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}r.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&t!==undefined}).classed("zero",!0),m=y.copy()}),N.renderEnd("axis immediate"),e}var g,m,v=d3.svg.axis(),y=d3.scale.linear(),b={top:0,right:0,bottom:0,left:0},x=75,n=60,w=null,k=!0,S=0,C=!0,M=!1,A=!1,E=null,_=0,T=undefined,r=250,t=d3.dispatch("renderEnd");v.scale(y).orient("bottom").tickFormat(function(t){return t});var N=gt.utils.renderWatch(t,r);return e.axis=v,e.dispatch=t,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return _},set:function(t){_=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},rotateLabels:{get:function(){return S},set:function(t){S=t}},rotateYLabel:{get:function(){return C},set:function(t){C=t}},showMaxMin:{get:function(){return k},set:function(t){k=t}},axisLabel:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return n},set:function(t){n=t}},ticks:{get:function(){return E},set:function(t){E=t}},width:{get:function(){return x},set:function(t){x=t}},fontSize:{get:function(){return T},set:function(t){T=t}},tickFormatMaxMin:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return b},set:function(t){b.top=t.top!==undefined?t.top:b.top,b.right=t.right!==undefined?t.right:b.right,b.bottom=t.bottom!==undefined?t.bottom:b.bottom,b.left=t.left!==undefined?t.left:b.left}},duration:{get:function(){return r},set:function(t){r=t,N.reset(r)}},scale:{get:function(){return y},set:function(t){y=t,v.scale(y),A="function"==typeof y.rangeBands,gt.utils.inheritOptionsD3(e,y,["domain","range","rangeBand","rangeBands"])}}}),gt.utils.initOptions(e),gt.utils.inheritOptionsD3(e,v,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),gt.utils.inheritOptionsD3(e,y,["domain","range","rangeBand","rangeBands"]),e},gt.models.boxPlot=function(){"use strict";function e(t){return $.reset(),t.each(function(n){var t=b-y.left-y.right,e=x-y.top-y.bottom;F=d3.select(this),gt.utils.initSVG(F),w.domain(d||n.map(function(t,e){return S(t,e)})).rangeBands(h||[0,t],.1);var r=[];if(!p){var a=[];n.forEach(function(t){var e=C(t),n=A(t),r=E(t),i=_(t),o=N(t);o&&o.forEach(function(t,e){a.push(D(t,e,undefined))}),r&&a.push(r),e&&a.push(e),n&&a.push(n),i&&a.push(i)}),r=[d3.min(a),d3.max(a)]}k.domain(p||r),k.range(g||[e,0]),m=m||w,v=v||k.copy().range([k(0),k(0)]);var i=F.selectAll("g.nv-wrap").data([n]);i.enter().append("g").attr("class","nvd3 nv-wrap");i.attr("transform","translate("+y.left+","+y.top+")");var o=i.selectAll(".nv-boxplot").data(function(t){return t}),s=o.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);o.attr("class","nv-boxplot").attr("transform",function(t,e){return"translate("+(w(S(t,e))+.05*w.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),o.watchTransition($,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*P/n.length}).attr("transform",function(t,e){return"translate("+(w(S(t,e))+.05*w.rangeBand())+", 0)"}),o.exit().remove(),s.each(function(n,r){var i=d3.select(this);[E,_].forEach(function(t){if(t(n)!==undefined&&null!==t(n)){var e=t===E?"low":"high";i.append("line").style("stroke",T(n)||I(n,r)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),i.append("line").style("stroke",T(n)||I(n,r)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var u=function(){return null===H?.9*w.rangeBand():Math.min(75,.9*w.rangeBand())},l=function(){return.45*w.rangeBand()-u()/2},c=function(){return.45*w.rangeBand()+u()/2};[E,_].forEach(function(e){var t=e===E?"low":"high",n=e===E?C:A;o.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition($,"nv-boxplot: boxplots").attr("x1",.45*w.rangeBand()).attr("y1",function(t){return k(e(t))}).attr("x2",.45*w.rangeBand()).attr("y2",function(t){return k(n(t))}),o.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition($,"nv-boxplot: boxplots").attr("x1",l).attr("y1",function(t){return k(e(t))}).attr("x2",c).attr("y2",function(t){return k(e(t))})}),[E,_].forEach(function(r){var t=r===E?"low":"high";s.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),O.elementMouseover({series:{key:r(t),color:T(t)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),O.elementMouseout({series:{key:r(t),color:T(t)||I(t,n)},e:d3.event})}).on("mousemove",function(){O.elementMousemove({e:d3.event})})}),s.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),O.elementMouseover({key:S(t),value:S(t),series:[{key:"Q3",value:A(t),color:T(t)||I(t,e)},{key:"Q2",value:M(t),color:T(t)||I(t,e)},{key:"Q1",value:C(t),color:T(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),O.elementMouseout({key:S(t),value:S(t),series:[{key:"Q3",value:A(t),color:T(t)||I(t,e)},{key:"Q2",value:M(t),color:T(t)||I(t,e)},{key:"Q1",value:C(t),color:T(t)||I(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(){O.elementMousemove({e:d3.event})}),o.select("rect.nv-boxplot-box").watchTransition($,"nv-boxplot: boxes").attr("y",function(t){return k(A(t))}).attr("width",u).attr("x",l).attr("height",function(t){return Math.abs(k(A(t))-k(C(t)))||1}).style("fill",function(t,e){return T(t)||I(t,e)}).style("stroke",function(t,e){return T(t)||I(t,e)}),s.append("line").attr("class","nv-boxplot-median"),o.select("line.nv-boxplot-median").watchTransition($,"nv-boxplot: boxplots line").attr("x1",l).attr("y1",function(t){return k(M(t))}).attr("x2",c).attr("y2",function(t){return k(M(t))});var f=o.selectAll(".nv-boxplot-outlier").data(function(t){return N(t)||[]});f.enter().append("circle").style("fill",function(t,e,n){return R(t,e,n)||I(t,n)}).style("stroke",function(t,e,n){return R(t,e,n)||I(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),O.elementMouseover({series:{key:L(t,e,n),color:R(t,e,n)||I(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),O.elementMouseout({series:{key:L(t,e,n),color:R(t,e,n)||I(t,n)},e:d3.event})}).on("mousemove",function(){O.elementMousemove({e:d3.event})}),f.attr("class","nv-boxplot-outlier"),f.watchTransition($,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*w.rangeBand()).attr("cy",function(t,e,n){return k(D(t,e,n))}).attr("r","3"),f.exit().remove(),m=w.copy(),v=k.copy()}),$.renderEnd("nv-boxplot immediate"),e}var d,h,p,g,m,v,y={top:0,right:0,bottom:0,left:0},b=960,x=500,n=Math.floor(1e4*Math.random()),w=d3.scale.ordinal(),k=d3.scale.linear(),S=function(t){return t.label},C=function(t){return t.values.Q1},M=function(t){return t.values.Q2},A=function(t){return t.values.Q3},E=function(t){return t.values.whisker_low},_=function(t){return t.values.whisker_high},T=function(t){return t.color},N=function(t){return t.values.outliers},D=function(t){return t},L=function(t){return t},R=function(){return undefined},I=gt.utils.defaultColor(),F=null,O=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),P=250,H=null,$=gt.utils.renderWatch(O,P);return e.dispatch=O,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return x},set:function(t){x=t}},maxBoxWidth:{get:function(){return H},set:function(t){H=t}},x:{get:function(){return S},set:function(t){S=t}},q1:{get:function(){return C},set:function(t){C=t}},q2:{get:function(){return M},set:function(t){M=t}},q3:{get:function(){return A},set:function(t){A=t}},wl:{get:function(){return E},set:function(t){E=t}},wh:{get:function(){return _},set:function(t){_=t}},itemColor:{get:function(){return T},set:function(t){T=t}},outliers:{get:function(){return N},set:function(t){N=t}},outlierValue:{get:function(){return D},set:function(t){D=t}},outlierLabel:{get:function(){return L},set:function(t){L=t}},outlierColor:{get:function(){return R},set:function(t){R=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return n},set:function(t){n=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return y},set:function(t){y.top=t.top!==undefined?t.top:y.top,y.right=t.right!==undefined?t.right:y.right,y.bottom=t.bottom!==undefined?t.bottom:y.bottom,y.left=t.left!==undefined?t.left:y.left}},color:{get:function(){return I},set:function(t){I=gt.utils.getColor(t)}},duration:{get:function(){return P},set:function(t){P=t,$.reset(P)}}}),gt.utils.initOptions(e),e},gt.models.boxPlotChart=function(){"use strict";function c(t){return r.reset(),r.models(h),b&&r.models(p),x&&r.models(g),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n=(v||parseInt(e.style("width"))||960)-m.left-m.right,r=(y||parseInt(e.style("height"))||400)-m.top-m.bottom;if(c.update=function(){C.beforeUpdate(),e.transition().duration(M).call(c)},c.container=this,!t||!t.length){var i=e.selectAll(".nv-noData").data([S]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",m.left+n/2).attr("y",m.top+r/2).text(function(t){return t}),c}e.selectAll(".nv-noData").remove(),f=h.xScale(),d=h.yScale().clamp(!0);var o=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),s=a.append("defs"),u=o.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),u.attr("transform","translate("+m.left+","+m.top+")"),w&&u.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),h.width(n).height(r),u.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(h),s.append("clipPath").attr("id","nv-x-label-clip-"+h.id()).append("rect"),u.select("#nv-x-label-clip-"+h.id()+" rect").attr("width",f.rangeBand()*(k?2:1)).attr("height",16).attr("x",-f.rangeBand()/(k?1:2)),b){p.scale(f).ticks(gt.utils.calcTicksX(n/100,t)).tickSize(-r,0),u.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),u.select(".nv-x.nv-axis").call(p);var l=u.select(".nv-x.nv-axis").selectAll("g");k&&l.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}x&&(g.scale(d).ticks(Math.floor(r/36)).tickSize(-n,0),u.select(".nv-y.nv-axis").call(g)),u.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",d(0)).attr("y2",d(0))}),r.renderEnd("nv-boxplot chart immediate"),c}var f,d,h=gt.models.boxPlot(),p=gt.models.axis(),g=gt.models.axis(),m={top:15,right:10,bottom:50,left:60},v=null,y=null,e=gt.utils.getColor(),b=!0,x=!0,w=!1,k=!1,n=gt.models.tooltip(),S="No Data Available.",C=d3.dispatch("beforeUpdate","renderEnd"),M=250;p.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),g.orient(w?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var r=gt.utils.renderWatch(C,M);return h.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(){n()}),c.dispatch=C,c.boxplot=h,c.xAxis=p,c.yAxis=g,c.tooltip=n,c.options=gt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return M},set:function(t){M=t,r.reset(M),h.duration(M),p.duration(M),g.duration(M)}},color:{get:function(){return e},set:function(t){e=gt.utils.getColor(t),h.color(e)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,g.orient(t?"right":"left")}}}),gt.utils.inheritOptions(c,h),gt.utils.initOptions(c),c},gt.models.bullet=function(){"use strict";function C(t,i){var o=t.slice();t.sort(function(t,e){var n=o.indexOf(t),r=o.indexOf(e);return d3.descending(i[n],i[r])})}function e(t){return t.each(function(t,e){var n=O-M.left-M.right,r=P-M.top-M.bottom;H=d3.select(this),gt.utils.initSVG(H);var i=E.call(this,t,e).slice(),o=_.call(this,t,e).slice(),a=T.call(this,t,e).slice(),s=N.call(this,t,e).slice(),u=D.call(this,t,e).slice(),l=L.call(this,t,e).slice(),c=R.call(this,t,e).slice(),f=I.call(this,t,e).slice();C(u,i),C(l,o),C(c,a),C(f,s),i.sort(d3.descending),o.sort(d3.descending),a.sort(d3.descending),s.sort(d3.descending);var d=d3.scale.linear().domain(d3.extent(d3.merge([F,i]))).range(A?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(d.range());this.__chart__=d;d3.min(i),d3.max(i),i[1];for(var h=H.selectAll("g.nv-wrap.nv-bullet").data([t]),p=h.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),g=h.select("g"),m=(e=0,i.length);e<m;e++){var v="nv-range nv-range"+e;e<=2&&(v=v+" nv-range"+j[e]),p.append("rect").attr("class",v)}p.append("rect").attr("class","nv-measure"),h.attr("transform","translate("+M.left+","+M.top+")");var y=function(t){return Math.abs(d(t)-d(0))},b=function(t){return d(t<0?t:0)};for(e=0,m=i.length;e<m;e++){var x=i[e];g.select("rect.nv-range"+e).datum(x).attr("height",r).transition().duration(q).attr("width",y(x)).attr("x",b(x))}g.select("rect.nv-measure").style("fill",$).attr("height",r/3).attr("y",r/3).on("mouseover",function(){B.elementMouseover({value:s[0],label:f[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){B.elementMousemove({value:s[0],label:f[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){B.elementMouseout({value:s[0],label:f[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(q).attr("width",s<0?d(0)-d(s[0]):d(s[0])-d(0)).attr("x",b(s));var w=r/6,k=o.map(function(t,e){return{value:t,label:l[e]}});p.selectAll("path.nv-markerTriangle").data(k).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+w+"L"+w+","+-w+" "+-w+","+-w+"Z").on("mouseover",function(t){B.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[d(t.value),r/2]})}).on("mousemove",function(t){B.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t){B.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("path.nv-markerTriangle").data(k).transition().duration(q).attr("transform",function(t){return"translate("+d(t.value)+","+r/2+")"});var S=a.map(function(t,e){return{value:t,label:c[e]}});p.selectAll("line.nv-markerLine").data(S).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return d(t.value)}).attr("y1","2").attr("x2",function(t){return d(t.value)}).attr("y2",r-2).on("mouseover",function(t){B.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[d(t.value),r/2]})}).on("mousemove",function(t){B.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t){B.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("line.nv-markerLine").data(S).transition().duration(q).attr("x1",function(t){return d(t.value)}).attr("x2",function(t){return d(t.value)}),h.selectAll(".nv-range").on("mouseover",function(t,e){var n=u[e]||W[e];B.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){B.elementMousemove({value:s[0],label:f[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=u[e]||W[e];B.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),e}var M={top:0,right:0,bottom:0,left:0},n="left",A=!1,E=function(t){return t.ranges},_=function(t){return t.markers?t.markers:[]},T=function(t){return t.markerLines?t.markerLines:[0]},N=function(t){return t.measures},D=function(t){return t.rangeLabels?t.rangeLabels:[]},L=function(t){return t.markerLabels?t.markerLabels:[]},R=function(t){return t.markerLineLabels?t.markerLineLabels:[]},I=function(t){return t.measureLabels?t.measureLabels:[]},F=[0],O=380,P=30,H=null,r=null,$=gt.utils.getColor(["#1f77b4"]),B=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),W=["Maximum","Mean","Minimum"],j=["Max","Avg","Min"],q=1e3;return e.dispatch=B,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return E},set:function(t){E=t}},markers:{get:function(){return _},set:function(t){_=t}},measures:{get:function(){return N},set:function(t){N=t}},forceX:{get:function(){return F},set:function(t){F=t}},width:{get:function(){return O},set:function(t){O=t}},height:{get:function(){return P},set:function(t){P=t}},tickFormat:{get:function(){return r},set:function(t){r=t}},duration:{get:function(){return q},set:function(t){q=t}},margin:{get:function(){return M},set:function(t){M.top=t.top!==undefined?t.top:M.top,M.right=t.right!==undefined?t.right:M.right,M.bottom=t.bottom!==undefined?t.bottom:M.bottom,M.left=t.left!==undefined?t.left:M.left}},orient:{get:function(){return n},set:function(t){A="right"==(n=t)||"bottom"==n}},color:{get:function(){return $},set:function(t){$=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.bulletChart=function(){"use strict";function x(b){return b.each(function(t,e){var n=d3.select(this);gt.utils.initSVG(n);var r=gt.utils.availableWidth(E,n,S),i=_-S.top-S.bottom;if(x.update=function(){x(b)},x.container=this,!t||!C.call(this,t,e))return gt.utils.noData(x,n),x;n.selectAll(".nv-noData").remove();var o=C.call(this,t,e).slice().sort(d3.descending),a=M.call(this,t,e).slice().sort(d3.descending),s=A.call(this,t,e).slice().sort(d3.descending),u=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),l=u.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),c=u.select("g");l.append("g").attr("class","nv-bulletWrap"),l.append("g").attr("class","nv-titles"),u.attr("transform","translate("+S.left+","+S.top+")");var f=d3.scale.linear().domain([0,Math.max(o[0],a[0]||0,s[0])]).range(k?[r,0]:[0,r]),d=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(f.range());this.__chart__=f;var h=l.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(_-S.top-S.bottom)/2+")");h.append("text").attr("class","nv-title").text(function(t){return t.title}),h.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),w.width(r).height(i);var p=c.select(".nv-bulletWrap");d3.transition(p).call(w);var g=T||f.tickFormat(r/100),m=c.selectAll("g.nv-tick").data(f.ticks(N||r/50),function(t){return this.textContent||g(t)}),v=m.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1e-6);v.append("line").attr("y1",i).attr("y2",7*i/6),v.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*i/6).text(g);var y=d3.transition(m).transition().duration(w.duration()).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1);y.select("line").attr("y1",i).attr("y2",7*i/6),y.select("text").attr("y",7*i/6),d3.transition(m.exit()).transition().duration(w.duration()).attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),x}var w=gt.models.bullet(),e=gt.models.tooltip(),n="left",k=!1,S={top:5,right:40,bottom:20,left:120},C=function(t){return t.ranges},M=function(t){return t.markers?t.markers:[]},A=function(t){return t.measures},E=null,_=55,T=null,N=null,r=null,t=d3.dispatch();return e.duration(0).headerEnabled(!1),w.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),w.dispatch.on("elementMousemove.tooltip",function(){e()}),x.bullet=w,x.dispatch=t,x.tooltip=e,x.options=gt.utils.optionsFunc.bind(x),x._options=Object.create({},{ranges:{get:function(){return C},set:function(t){C=t}},markers:{get:function(){return M},set:function(t){M=t}},measures:{get:function(){return A},set:function(t){A=t}},width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return _},set:function(t){_=t}},tickFormat:{get:function(){return T},set:function(t){T=t}},ticks:{get:function(){return N},set:function(t){N=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return S},set:function(t){S.top=t.top!==undefined?t.top:S.top,S.right=t.right!==undefined?t.right:S.right,S.bottom=t.bottom!==undefined?t.bottom:S.bottom,S.left=t.left!==undefined?t.left:S.left}},orient:{get:function(){return n},set:function(t){k="right"==(n=t)||"bottom"==n}}}),gt.utils.inheritOptions(x,w),gt.utils.initOptions(x),x},gt.models.candlestickBar=function(){"use strict";function n(t){return t.each(function(t){f=d3.select(this);var e=gt.utils.availableWidth(v,f,m),n=gt.utils.availableHeight(y,f,m);gt.utils.initSVG(f);var r=e/t[0].values.length*.45;x.domain(d||d3.extent(t[0].values.map(k).concat(_))),N?x.range(p||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):x.range(p||[5+r/2,e-r/2-5]),w.domain(h||[d3.min(t[0].values.map(E).concat(T)),d3.max(t[0].values.map(A).concat(T))]).range(g||[n,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]+.01*w.domain()[0],w.domain()[1]-.01*w.domain()[1]]):w.domain([-1,1]));var i=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),a=o.append("defs"),s=o.append("g"),u=i.select("g");s.append("g").attr("class","nv-ticks"),i.attr("transform","translate("+m.left+","+m.top+")"),f.on("click",function(t,e){L.chartClick({data:t,index:e,pos:d3.event,id:b})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+b).append("rect"),i.select("#nv-chart-clip-path-"+b+" rect").attr("width",e).attr("height",n),u.attr("clip-path",D?"url(#nv-chart-clip-path-"+b+")":"");var l=i.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});l.exit().remove();var c=l.enter().append("g");l.attr("class",function(t,e,n){return(C(t,e)>M(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});c.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+x(k(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(A(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(E(t,e))}),c.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(x(k(t,e))-r/2)+","+(w(S(t,e))-(C(t,e)>M(t,e)?w(M(t,e))-w(C(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=C(t,e),r=M(t,e);return r<n?w(r)-w(n):w(n)-w(r)});l.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+x(k(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return w(A(t,e))}).attr("x2",0).attr("y2",function(t,e){return w(E(t,e))}),l.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(x(k(t,e))-r/2)+","+(w(S(t,e))-(C(t,e)>M(t,e)?w(M(t,e))-w(C(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=C(t,e),r=M(t,e);return r<n?w(r)-w(n):w(n)-w(r)})}),n}var f,d,h,p,g,m={top:0,right:0,bottom:0,left:0},v=null,y=null,b=Math.floor(1e4*Math.random()),x=d3.scale.linear(),w=d3.scale.linear(),k=function(t){return t.x},S=function(t){return t.y},C=function(t){return t.open},M=function(t){return t.close},A=function(t){return t.high},E=function(t){return t.low},_=[],T=[],N=!1,D=!0,e=gt.utils.defaultColor(),r=!1,L=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),f.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){f.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},n.dispatch=L,n.options=gt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return w},set:function(t){w=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return h},set:function(t){h=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return N},set:function(t){N=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},id:{get:function(){return b},set:function(t){b=t}},interactive:{get:function(){return r},set:function(t){r=t}},x:{get:function(){return k},set:function(t){k=t}},y:{get:function(){return S},set:function(t){S=t}},open:{get:function(){return C()},set:function(t){C=t}},close:{get:function(){return M()},set:function(t){M=t}},high:{get:function(){return A},set:function(t){A=t}},low:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!=undefined?t.top:m.top,m.right=t.right!=undefined?t.right:m.right,m.bottom=t.bottom!=undefined?t.bottom:m.bottom,m.left=t.left!=undefined?t.left:m.left}},color:{get:function(){return e},set:function(t){e=gt.utils.getColor(t)}}}),gt.utils.initOptions(n),n},gt.models.cumulativeLineChart=function(){"use strict";function w(t){return r.reset(),r.models(A),H&&r.models(E),$&&r.models(_),t.each(function(l){function t(){d3.select(w.container).style("cursor","ew-resize")}function e(){J.x=d3.event.x,J.i=Math.round(Z.invert(J.x)),r()}function n(){d3.select(w.container).style("cursor","auto"),V.index=J.i,Y.stateChange(V)}function r(){x.data([J]);var t=w.duration();w.duration(0),w.update(),w.duration(t)}var i=d3.select(this);gt.utils.initSVG(i),i.classed("nv-chart-"+z,!0);var o,a=gt.utils.availableWidth(F,i,L),s=gt.utils.availableHeight(O,i,L);if(w.update=function(){0===K?i.call(w):i.transition().duration(K).call(w)},w.container=this,V.setter(tt(l),w.update).getter(Q(l)).update(),V.disabled=l.map(function(t){return!!t.disabled}),!U)for(o in U={},V)V[o]instanceof Array?U[o]=V[o].slice(0):U[o]=V[o];var u=d3.behavior.drag().on("dragstart",t).on("drag",e).on("dragend",n);if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return gt.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),C=A.xScale(),M=A.yScale(),Z.domain([0,l[0].values.length-1]).range([0,a]).clamp(!0);l=k(J.i,l);void 0===G&&(G=S(l)),q?A.yDomain(null):(A.yDomain(G),A.clipEdge(!0));var c=j?"none":"all",f=i.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),d=f.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),h=f.select("g");if(d.append("g").attr("class","nv-interactive"),d.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),d.append("g").attr("class"
,"nv-y nv-axis"),d.append("g").attr("class","nv-background"),d.append("g").attr("class","nv-linesWrap").style("pointer-events",c),d.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),d.append("g").attr("class","nv-legendWrap"),d.append("g").attr("class","nv-controlsWrap"),P?(T.width(a),h.select(".nv-legendWrap").datum(l).call(T),R||T.height()===L.top||(L.top=T.height(),s=gt.utils.availableHeight(O,i,L)),h.select(".nv-legendWrap").attr("transform","translate(0,"+-L.top+")")):h.select(".nv-legendWrap").selectAll("*").remove(),W){var p=[{key:"Re-scale y-axis",disabled:!q}];N.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),h.select(".nv-controlsWrap").datum(p).attr("transform","translate(0,"+-L.top+")").call(N)}else h.select(".nv-controlsWrap").selectAll("*").remove();f.attr("transform","translate("+L.left+","+L.top+")"),B&&h.select(".nv-y.nv-axis").attr("transform","translate("+a+",0)");var g=l.filter(function(t){return t.tempDisabled});f.select(".tempDisabled").remove(),g.length&&f.append("text").attr("class","tempDisabled").attr("x",a/2).attr("y","-.71em").style("text-anchor","end").text(g.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),j&&(D.width(a).height(s).margin({left:L.left,top:L.top}).svgContainer(i).xScale(C),f.select(".nv-interactive").call(D)),d.select(".nv-background").append("rect"),h.select(".nv-background rect").attr("width",a).attr("height",s),A.y(function(t){return t.display.y}).width(a).height(s).color(l.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!l[e].disabled&&!l[e].tempDisabled}));var m=h.select(".nv-linesWrap").datum(l.filter(function(t){return!t.disabled&&!t.tempDisabled}));m.call(A),l.forEach(function(t,e){t.seriesIndex=e});var v=l.filter(function(t){return!t.disabled&&!!X(t)}),y=h.select(".nv-avgLinesWrap").selectAll("line").data(v,function(t){return t.key}),b=function(t){var e=M(X(t));return e<0?0:s<e?s:e};y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return A.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",a).attr("y1",b).attr("y2",b),y.style("stroke-opacity",function(t){var e=M(X(t));return e<0||s<e?0:1}).attr("x1",0).attr("x2",a).attr("y1",b).attr("y2",b),y.exit().remove();var x=m.selectAll(".nv-indexLine").data([J]);x.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(u),x.attr("transform",function(t){return"translate("+Z(t.i)+",0)"}).attr("height",s),H&&(E.scale(C)._ticks(gt.utils.calcTicksX(a/70,l)).tickSize(-s,0),h.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")"),h.select(".nv-x.nv-axis").call(E)),$&&(_.scale(M)._ticks(gt.utils.calcTicksY(s/36,l)).tickSize(-a,0),h.select(".nv-y.nv-axis").call(_)),h.select(".nv-background rect").on("click",function(){J.x=d3.mouse(this)[0],J.i=Math.round(Z.invert(J.x)),V.index=J.i,Y.stateChange(V),r()}),A.dispatch.on("elementClick",function(t){J.i=t.pointIndex,J.x=Z(J.i),V.index=J.i,Y.stateChange(V),r()}),N.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,q=!t.disabled,(V.rescaleY=q)||(G=S(l)),Y.stateChange(V),w.update()}),T.dispatch.on("stateChange",function(t){for(var e in t)V[e]=t[e];Y.stateChange(V),w.update()}),D.dispatch.on("elementMousemove",function(r){A.clearHighlights();var i,o,a,s=[];if(l.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(t,e){o=gt.interactiveBisect(t.values,r.pointXValue,w.x()),A.highlightPoint(e,o,!0);var n=t.values[o];void 0!==n&&(void 0===i&&(i=n),void 0===a&&(a=w.xScale()(w.x()(n,o))),s.push({key:t.key,value:w.y()(n,o),color:I(t,t.seriesIndex)}))}),2<s.length){var t=w.yScale().invert(r.mouseY),e=.03*Math.abs(w.yScale().domain()[0]-w.yScale().domain()[1]),n=gt.nearestValueIndex(s.map(function(t){return t.value}),t,e);null!==n&&(s[n].highlight=!0)}var u=E.tickFormat()(w.x()(i,o),o);D.tooltip.valueFormatter(function(t){return _.tickFormat()(t)}).data({value:u,series:s})(),D.renderGuideLine(a)}),D.dispatch.on("elementMouseout",function(){A.clearHighlights()}),Y.on("changeState",function(n){"undefined"!=typeof n.disabled&&(l.forEach(function(t,e){t.disabled=n.disabled[e]}),V.disabled=n.disabled),"undefined"!=typeof n.index&&(J.i=n.index,J.x=Z(J.i),V.index=n.index,x.data([J])),"undefined"!=typeof n.rescaleY&&(q=n.rescaleY),w.update()})}),r.renderEnd("cumulativeLineChart immediate"),w}function k(r,t){return o||(o=A.y()),t.map(function(t){if(!t.values)return t;var e=t.values[r];if(null==e)return t;var n=o(e,r);return Math.abs(n)<1e-5&&!i?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(o(t,e)-n)/n},t})),t})}function S(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}var C,M,A=gt.models.line(),E=gt.models.axis(),_=gt.models.axis(),T=gt.models.legend(),N=gt.models.legend(),D=gt.interactiveGuideline(),n=gt.models.tooltip(),L={top:30,right:30,bottom:50,left:60},R=null,I=gt.utils.defaultColor(),F=null,O=null,P=!0,H=!0,$=!0,B=!1,W=!0,j=!1,q=!0,z=A.id(),V=gt.utils.state(),U=null,e=null,X=function(t){return t.average},Y=d3.dispatch("stateChange","changeState","renderEnd"),K=250,i=!1;V.index=0,V.rescaleY=q,E.orient("bottom").tickPadding(7),_.orient(B?"right":"left"),n.valueFormatter(function(t,e){return _.tickFormat()(t,e)}).headerFormatter(function(t,e){return E.tickFormat()(t,e)}),N.updateState(!1);var G,Z=d3.scale.linear(),J={i:0,x:0},r=gt.utils.renderWatch(Y,K),Q=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:J.i,rescaleY:q}}},tt=function(t){return function(n){n.index!==undefined&&(J.i=n.index),n.rescaleY!==undefined&&(q=n.rescaleY),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};A.dispatch.on("elementMouseover.tooltip",function(t){var e={x:w.x()(t.point),y:w.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),A.dispatch.on("elementMouseout.tooltip",function(){n.hidden(!0)});var o=null;return w.dispatch=Y,w.lines=A,w.legend=T,w.controls=N,w.xAxis=E,w.yAxis=_,w.interactiveLayer=D,w.state=V,w.tooltip=n,w.options=gt.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return F},set:function(t){F=t}},height:{get:function(){return O},set:function(t){O=t}},showControls:{get:function(){return W},set:function(t){W=t}},showLegend:{get:function(){return P},set:function(t){P=t}},average:{get:function(){return X},set:function(t){X=t}},defaultState:{get:function(){return U},set:function(t){U=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return H},set:function(t){H=t}},showYAxis:{get:function(){return $},set:function(t){$=t}},noErrorCheck:{get:function(){return i},set:function(t){i=t}},rescaleY:{get:function(){return q},set:function(t){q=t,w.state.rescaleY=t}},margin:{get:function(){return L},set:function(t){t.top!==undefined&&(L.top=t.top,R=t.top),L.right=t.right!==undefined?t.right:L.right,L.bottom=t.bottom!==undefined?t.bottom:L.bottom,L.left=t.left!==undefined?t.left:L.left}},color:{get:function(){return I},set:function(t){I=gt.utils.getColor(t),T.color(I)}},useInteractiveGuideline:{get:function(){return j},set:function(t){!0===(j=t)&&(w.interactive(!1),w.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return B},set:function(t){B=t,_.orient(t?"right":"left")}},duration:{get:function(){return K},set:function(t){K=t,A.duration(K),E.duration(K),_.duration(K),r.reset(K)}}}),gt.utils.inheritOptions(w,A),gt.utils.initOptions(w),w},gt.models.discreteBar=function(){"use strict";function e(t){return T.reset(),t.each(function(t){var e=v-m.left-m.right,n=y-m.top-m.bottom;l=d3.select(this),gt.utils.initSVG(l),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r=c&&f?[]:t.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:k(t,e),y0:t.y0}})});b.domain(c||d3.merge(r).map(function(t){return t.x})).rangeBands(d||[0,e],.1),x.domain(f||d3.extent(d3.merge(r).map(function(t){return t.y}).concat(S))),M?x.range(h||[n-(x.domain()[0]<0?12:0),0<x.domain()[1]?12:0]):x.range(h||[n,0]),p=p||b,g=g||x.copy().range([x(0),x(0)]);var i=l.selectAll("g.nv-wrap.nv-discretebar").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");i.select("g");o.append("g").attr("class","nv-groups"),i.attr("transform","translate("+m.left+","+m.top+")");var a=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),a.exit().watchTransition(T,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),a.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),a.watchTransition(T,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var s=a.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var u=s.enter().append("g").attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", "+x(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){E.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){var n=this;E.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(t,e){E.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});u.append("rect").attr("height",0).attr("width",.9*b.rangeBand()/t.length),M?(u.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return A(k(t,e))}).watchTransition(T,"discreteBar: bars text").attr("x",.9*b.rangeBand()/2).attr("y",function(t,e){return k(t,e)<0?x(k(t,e))-x(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return k(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||C(t,e)}).style("stroke",function(t,e){return t.color||C(t,e)}).select("rect").attr("class",_).watchTransition(T,"discreteBar: bars rect").attr("width",.9*b.rangeBand()/t.length),s.watchTransition(T,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", "+(k(t,e)<0?x(0):x(0)-x(k(t,e))<1?x(0)-1:x(k(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(x(k(t,e))-x(0)),1)}),p=b.copy(),g=x.copy()}),T.renderEnd("discreteBar immediate"),e}var l,c,f,d,h,p,g,m={top:0,right:0,bottom:0,left:0},v=960,y=500,n=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),x=d3.scale.linear(),w=function(t){return t.x},k=function(t){return t.y},S=[0],C=gt.utils.defaultColor(),M=!1,A=d3.format(",.2f"),E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",r=250,T=gt.utils.renderWatch(E,r);return e.dispatch=E,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return S},set:function(t){S=t}},showValues:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return h},set:function(t){h=t}},valueFormat:{get:function(){return A},set:function(t){A=t}},id:{get:function(){return n},set:function(t){n=t}},rectClass:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},color:{get:function(){return C},set:function(t){C=gt.utils.getColor(t)}},duration:{get:function(){return r},set:function(t){r=t,T.reset(r)}}}),gt.utils.initOptions(e),e},gt.models.discreteBarChart=function(){"use strict";function l(t){return i.reset(),i.models(d),w&&i.models(h),k&&i.models(p),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n=gt.utils.availableWidth(y,e,m),r=gt.utils.availableHeight(b,e,m);if(l.update=function(){E.beforeUpdate(),e.transition().duration(_).call(l)},l.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return gt.utils.noData(l,e),l;e.selectAll(".nv-noData").remove(),c=d.xScale(),f=d.yScale().clamp(!0);var i=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),a=o.append("defs"),s=i.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),s.attr("transform","translate("+m.left+","+m.top+")"),x?(g.width(n),s.select(".nv-legendWrap").datum(t).call(g),v||g.height()===m.top||(m.top=g.height(),r=gt.utils.availableHeight(b,e,m)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),S&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),d.width(n).height(r),s.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(d),a.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),s.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",c.rangeBand()*(C?2:1)).attr("height",16).attr("x",-c.rangeBand()/(C?1:2)),w){h.scale(c)._ticks(gt.utils.calcTicksX(n/100,t)).tickSize(-r,0),s.select(".nv-x.nv-axis").attr("transform","translate(0,"+(f.range()[0]+(d.showValues()&&f.domain()[0]<0?16:0))+")"),s.select(".nv-x.nv-axis").call(h);var u=s.select(".nv-x.nv-axis").selectAll("g");C&&u.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),A&&u.selectAll(".tick text").attr("transform","rotate("+A+" 0,0)").style("text-anchor",0<A?"start":"end"),M&&s.selectAll(".tick text").call(gt.utils.wrapTicks,l.xAxis.rangeBand())}k&&(p.scale(f)._ticks(gt.utils.calcTicksY(r/36,t)).tickSize(-n,0),s.select(".nv-y.nv-axis").call(p)),s.select(".nv-zeroLine line").attr("x1",0).attr("x2",S?-n:n).attr("y1",f(0)).attr("y2",f(0))}),i.renderEnd("discreteBar chart immediate"),l}var c,f,d=gt.models.discreteBar(),h=gt.models.axis(),p=gt.models.axis(),g=gt.models.legend(),e=gt.models.tooltip(),m={top:15,right:10,bottom:50,left:60},v=null,y=null,b=null,n=gt.utils.getColor(),x=!1,w=!0,k=!0,S=!1,C=!1,M=!1,A=0,r=null,E=d3.dispatch("beforeUpdate","renderEnd"),_=250;h.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),p.orient(S?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).keyFormatter(function(t,e){return h.tickFormat()(t,e)});var i=gt.utils.renderWatch(E,_);return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:l.x()(t.data),value:l.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=E,l.discretebar=d,l.legend=g,l.xAxis=h,l.yAxis=p,l.tooltip=e,l.options=gt.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return A},set:function(t){A=t}},wrapLabels:{get:function(){return M},set:function(t){M=!!t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return m},set:function(t){t.top!==undefined&&(m.top=t.top,v=t.top),m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},duration:{get:function(){return _},set:function(t){_=t,i.reset(_),d.duration(_),h.duration(_),p.duration(_)}},color:{get:function(){return n},set:function(t){n=gt.utils.getColor(t),d.color(n),g.color(n)}},rightAlignYAxis:{get:function(){return S},set:function(t){S=t,p.orient(t?"right":"left")}}}),gt.utils.inheritOptions(l,d),gt.utils.initOptions(l),l},gt.models.distribution=function(){"use strict";function e(t){return p.reset(),t.each(function(t){"x"===c?(u.left,u.right):(u.top,u.bottom);var e="x"==c?"y":"x",n=d3.select(this);gt.utils.initSVG(n),s=s||h;var r=n.selectAll("g.nv-distribution").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),r.select("g"));r.attr("transform","translate("+u.left+","+u.top+")");var o=i.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});o.enter().append("g"),o.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return d(t,e)});var a=o.selectAll("line.nv-dist"+c).data(function(t){return t.values});a.enter().append("line").attr(c+"1",function(t,e){return s(f(t,e))}).attr(c+"2",function(t,e){return s(f(t,e))}),p.transition(o.exit().selectAll("line.nv-dist"+c),"dist exit").attr(c+"1",function(t,e){return h(f(t,e))}).attr(c+"2",function(t,e){return h(f(t,e))}).style("stroke-opacity",0).remove(),a.attr("class",function(t,e){return"nv-dist"+c+" nv-dist"+c+"-"+e}).attr(e+"1",0).attr(e+"2",l),p.transition(a,"dist").attr(c+"1",function(t,e){return h(f(t,e))}).attr(c+"2",function(t,e){return h(f(t,e))}),s=h.copy()}),p.renderEnd("distribution immediate"),e}var s,u={top:0,right:0,bottom:0,left:0},n=400,l=8,c="x",f=function(t){return t[c]},d=gt.utils.defaultColor(),h=d3.scale.linear(),r=250,t=d3.dispatch("renderEnd"),p=gt.utils.renderWatch(t,r);return e.options=gt.utils.optionsFunc.bind(e),e.dispatch=t,e.margin=function(t){return arguments.length?(u.top="undefined"!=typeof t.top?t.top:u.top,u.right="undefined"!=typeof t.right?t.right:u.right,u.bottom="undefined"!=typeof t.bottom?t.bottom:u.bottom,u.left="undefined"!=typeof t.left?t.left:u.left,e):u},e.width=function(t){return arguments.length?(n=t,e):n},e.axis=function(t){return arguments.length?(c=t,e):c},e.size=function(t){return arguments.length?(l=t,e):l},e.getData=function(t){return arguments.length?(f=d3.functor(t),e):f},e.scale=function(t){return arguments.length?(h=t,e):h},e.color=function(t){return arguments.length?(d=gt.utils.getColor(t),e):d},e.duration=function(t){return arguments.length?(r=t,p.reset(r),e):r},e},gt.models.focus=function(p){"use strict";function g(t){return e.reset(),e.models(p),M&&e.models(y),A&&e.models(b),t.each(function(n){function t(t){var e=+("e"==t),n=e?1:-1,r=a/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function r(){x.empty()||x.extent(_),f.data([x.empty()?m.domain():_]).each(function(t){var e=m(t[0])-m.range()[0],n=o-m(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",m(t[1])).attr("width",n<0?0:n)})}function e(t){_=x.empty()?null:x.extent();var e=x.empty()?m.domain():x.extent();N.brush({extent:e,brush:x}),r(),t&&N.onBrush(e)}var i=d3.select(this);gt.utils.initSVG(i);var o=gt.utils.availableWidth(S,i,w),a=C-w.top-w.bottom;g.update=function(){0===T?i.call(g):i.transition().duration(T).call(g)},g.container=this,m=p.xScale(),v=p.yScale();var s=i.selectAll("g.nv-focus").data([n]),u=s.enter().append("g").attr("class","nvd3 nv-focus").append("g"),l=s.select("g");s.attr("transform","translate("+w.left+","+w.top+")"),u.append("g").attr("class","nv-background").append("rect"),u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y nv-axis"),u.append("g").attr("class","nv-contentWrap"),u.append("g").attr("class","nv-brushBackground"),u.append("g").attr("class","nv-x nv-brush"),E&&l.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),l.select(".nv-background rect").attr("width",o).attr("height",a),p.width(o).height(a).color(n.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!n[e].disabled}));var c=l.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(c).call(p),x.x(m).on("brush",function(){e(D)}),x.on("brushend",function(){D||N.onBrush(x.empty()?m.domain():x.extent())}),_&&x.extent(_);var f=l.select(".nv-brushBackground").selectAll("g").data([_||x.extent()]),d=f.enter().append("g");d.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",a),d.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",a);var h=l.select(".nv-x.nv-brush").call(x);h.selectAll("rect").attr("height",a),h.selectAll(".resize").append("path").attr("d",t),e(!0),l.select(".nv-background rect").attr("width",o).attr("height",a),M&&(y.scale(m)._ticks(gt.utils.calcTicksX(o/100,n)).tickSize(-a,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")"),d3.transition(l.select(".nv-x.nv-axis")).call(y)),A&&(b.scale(v)._ticks(gt.utils.calcTicksY(a/36,n)).tickSize(-o,0),d3.transition(l.select(".nv-y.nv-axis")).call(b)),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")")}),e.renderEnd("focus immediate"),g}p=p||gt.models.line();var m,v,y=gt.models.axis(),b=gt.models.axis(),x=d3.svg.brush(),w={top:10,right:0,bottom:30,left:0},k=gt.utils.defaultColor(),S=null,C=70,M=!0,A=!1,E=!1,_=null,T=250,N=d3.dispatch("brush","onBrush","renderEnd"),D=!0;p.interactive(!1),p.pointActive(function(){return!1});var e=gt.utils.renderWatch(N,T);return g.dispatch=N,g.content=p,g.brush=x,g.xAxis=y,g.yAxis=b,g.options=gt.utils.optionsFunc.bind(g),g._options=Object.create({},{width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return M},set:function(t){M=t}},showYAxis:{get:function(){return A},set:function(t){A=t}},brushExtent:{get:function(){return _},set:function(t){_=t}},syncBrushing:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return w},set:function(t){w.top=t.top!==undefined?t.top:w.top,w.right=t.right!==undefined?t.right:w.right,w.bottom=t.bottom!==undefined?t.bottom:w.bottom,w.left=t.left!==undefined?t.left:w.left}},duration:{get:function(){return T},set:function(t){T=t,e.reset(T),p.duration(T),y.duration(T),b.duration(T)}},color:{get:function(){return k},set:function(t){k=gt.utils.getColor(t),p.color(k)}},interpolate:{get:function(){return p.interpolate()},set:function(t){p.interpolate(t)}},xTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t)}},yTickFormat:{get:function(){return b.tickFormat()},set:function(t){b.tickFormat(t)}},x:{get:function(){return p.x()},set:function(t){p.x(t)}},y:{get:function(){return p.y()},set:function(t){p.y(t)}},rightAlignYAxis:{get:function(){return E},set:function(t){E=t,b.orient(E?"right":"left")}}}),gt.utils.inheritOptions(g,p),gt.utils.initOptions(g),g},gt.models.forceDirectedGraph=function(){"use strict";function s(t){return i.reset(),t.each(function(t){f=d3.select(this),gt.utils.initSVG(f);var e=gt.utils.availableWidth(l,f,u),n=gt.utils.availableHeight(c,f,u);if(f.attr("width",e).attr("height",n),!(t&&t.links&&t.nodes))return gt.utils.noData(s,f),s;f.selectAll(".nv-noData").remove(),f.selectAll("*").remove();var r=new Set;t.nodes.forEach(function(t){Object.keys(t).forEach(function(t){r.add(t)})});var i=d3.layout.force().nodes(t.nodes).links(t.links).size([e,n]).linkStrength(p).friction(g).linkDistance(m).charge(v).gravity(y).theta(b).alpha(x).start(),o=f.selectAll(".link").data(t.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),a=f.selectAll(".node").data(t.nodes).enter().append("g").attr("class","nv-force-node").call(i.drag);a.append("circle").attr("r",w).style("fill",function(t){return d(t)}).on("mouseover",function(e){f.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),f.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var n=d(e);e.series=[],r.forEach(function(t){e.series.push({color:n,key:t,value:e[t]})}),h.data(e).hidden(!1)}).on("mouseout",function(){h.hidden(!0)}),h.headerFormatter(function(){return"Node"}),S(o),k(a),i.on("tick",function(){o.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),a.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),s}var u={top:2,right:0,bottom:2,left:0},l=400,c=32,f=null,t=d3.dispatch("renderEnd"),d=gt.utils.getColor(["#000"]),h=gt.models.tooltip(),e=null,p=.1,g=.9,m=30,v=-120,y=.1,b=.8,x=.1,w=5,k=function(){},S=function(){},n=d3.functor(0),r=d3.functor(0),i=gt.utils.renderWatch(t);return s.options=gt.utils.optionsFunc.bind(s),s._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},linkStrength:{get:function(){return p},set:function(t){p=t}},friction:{get:function(){return g},set:function(t){g=t}},linkDist:{get:function(){return m},set:function(t){m=t}},charge:{get:function(){return v},set:function(t){v=t}},gravity:{get:function(){return y},set:function(t){y=t}},theta:{get:function(){return b},set:function(t){b=t}},alpha:{get:function(){return x},set:function(t){x=t}},radius:{get:function(){return w},set:function(t){w=t}},x:{get:function(){return n},set:function(t){n=d3.functor(t)}},y:{get:function(){return r},set:function(t){r=d3.functor(t)}},margin:{get:function(){return u},set:function(t){u.top=t.top!==undefined?t.top:u.top,u.right=t.right!==undefined?t.right:u.right,u.bottom=t.bottom!==undefined?t.bottom:u.bottom,u.left=t.left!==undefined?t.left:u.left}},color:{get:function(){return d},set:function(t){d=gt.utils.getColor(t)}},noData:{get:function(){return e},set:function(t){e=t}},nodeExtras:{get:function(){return k},set:function(t){k=t}},linkExtras:{get:function(){return S},set:function(t){S=t}}}),s.dispatch=t,s.tooltip=h,gt.utils.initOptions(s),s},gt.models.furiousLegend=function(){"use strict";function e(t){function k(t,e){return"furious"!=H?"#000":O?t.disengaged?T(t,e):"#fff":O?void 0:t.disabled?T(t,e):"#fff"}function S(t,e){return O&&"furious"==H?t.disengaged?"#fff":T(t,e):t.disabled?"#fff":T(t,e)}return t.each(function(t){var e=M-C.left-C.right,n=d3.select(this);gt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),r.select("g"));r.attr("transform","translate("+C.left+","+C.top+")");var o,a=i.selectAll(".nv-series").data(function(t){return"furious"!=H?t:t.filter(function(t){return!!O||!t.disengaged})}),s=a.enter().append("g").attr("class","nv-series");if("classic"==H)s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o=a.select("circle");else if("furious"==H){s.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),o=a.select("rect"),s.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),a.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",k(t,e))})}s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var u,l=a.select("text.nv-legend-text");switch(a.on("mouseover",function(t,e){P.legendMouseover(t,e)}).on("mouseout",function(t,e){P.legendMouseout(t,e)}).on("click",function(t,e){P.legendClick(t,e);var n=a.data();if(I){if("classic"==H)F?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==H)if(O)t.disengaged=!t.disengaged,t.userDisabled=t.userDisabled==undefined?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!O){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}P.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=H||!O)&&(P.legendDblclick(t,e),I)){var n=a.data();n.forEach(function(t){t.disabled=!0,"furious"==H&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==H&&(t.userDisabled=t.disabled),P.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),a.classed("nv-disabled",function(t){return t.userDisabled}),a.exit().remove(),l.attr("fill",k).text(function(t){return _(E(t))}),H){case"furious":u=23;break;case"classic":u=20}if(D){var c=[];a.each(function(t){var e,n;if(_(E(t))&&_(E(t)).length>N){var r=_(E(t)).substring(0,N);e=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(_(E(t)))}else e=d3.select(this).select("text");try{if((n=e.node().getComputedTextLength())<=0)throw Error()}catch(i){n=gt.utils.calcApproxTextWidth(e)}c.push(n+L)});for(var f=0,d=0,h=[];d<e&&f<c.length;)h[f]=c[f],d+=c[f++];for(0===f&&(f=1);e<d&&1<f;){h=[],f--;for(var p=0;p<c.length;p++)c[p]>(h[p%f]||0)&&(h[p%f]=c[p]);d=h.reduce(function(t,e){return t+e})}for(var g=[],m=0,v=0;m<f;m++)g[m]=v,v+=h[m];a.attr("transform",function(t,e){return"translate("+g[e%f]+","+(5+Math.floor(e/f)*u)+")"}),R?i.attr("transform","translate("+(M-C.right-d)+","+C.top+")"):i.attr("transform","translate(0,"+C.top+")"),A=C.top+C.bottom+Math.ceil(c.length/f)*u}else{var y,b=5,x=5,w=0;a.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+L;return y=x,M<C.left+C.right+y+t&&(x=y=5,b+=u),w<(x+=t)&&(w=x),"translate("+y+","+b+")"}),i.attr("transform","translate("+(M-C.right-w)+","+C.top+")"),A=C.top+C.bottom+b+15}"furious"==H&&o.attr("width",function(t,e){return l[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),o.style("fill",S).style("stroke",function(t,e){return t.color||T(t,e)})}),e}var C={top:5,right:0,bottom:5,left:0},M=400,A=20,E=function(t){return t.key},_=function(t){return t},T=gt.utils.getColor(),N=20,D=!0,L=28,R=!0,I=!0,F=!1,O=!1,P=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),H="classic";return e.dispatch=P,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},key:{get:function(){return E},set:function(t){E=t}},keyFormatter:{get:function(){return _},set:function(t){_=t}},align:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return R},set:function(t){R=t}},maxKeyLength:{get:function(){return N},set:function(t){N=t}},padding:{get:function(){return L},set:function(t){L=t}},updateState:{get:function(){return I},set:function(t){I=t}},radioButtonMode:{get:function(){return F},set:function(t){F=t}},expanded:{get:function(){return O},set:function(t){O=t}},vers:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return C},set:function(t){C.top=t.top!==undefined?t.top:C.top,C.right=t.right!==undefined?t.right:C.right,C.bottom=t.bottom!==undefined?t.bottom:C.bottom,C.left=t.left!==undefined?t.left:C.left}},color:{get:function(){return T},set:function(t){T=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.historicalBar=function(){"use strict";function e(t){return t.each(function(n){T.reset(),v=d3.select(this);var r=gt.utils.availableWidth(p,v,h),t=gt.utils.availableHeight(g,v,h)
;gt.utils.initSVG(v),y.domain(l||d3.extent(n[0].values.map(x).concat(k))),C?y.range(f||[.5*r/n[0].values.length,r*(n[0].values.length-.5)/n[0].values.length]):y.range(f||[0,r]),b.domain(c||d3.extent(n[0].values.map(w).concat(S))).range(d||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]+.01*b.domain()[0],b.domain()[1]-.01*b.domain()[1]]):b.domain([-1,1]));var e=v.selectAll("g.nv-wrap.nv-historicalBar-"+m).data([n[0].values]),i=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+m),o=i.append("defs"),a=i.append("g"),s=e.select("g");a.append("g").attr("class","nv-bars"),e.attr("transform","translate("+h.left+","+h.top+")"),v.on("click",function(t,e){E.chartClick({data:t,index:e,pos:d3.event,id:m})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",r).attr("height",t),s.attr("clip-path",M?"url(#nv-chart-clip-path-"+m+")":"");var u=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return x(t,e)});u.exit().remove(),u.enter().append("rect").attr("x",0).attr("y",function(t,e){return gt.utils.NaNtoZero(b(Math.max(0,w(t,e))))}).attr("height",function(t,e){return gt.utils.NaNtoZero(Math.abs(b(w(t,e))-b(0)))}).attr("transform",function(t,e){return"translate("+(y(x(t,e))-r/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){_&&(d3.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){_&&(d3.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){_&&E.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){if(_){var n=this;E.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}}).on("dblclick",function(t,e){_&&(E.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),u.attr("fill",function(t,e){return A(t,e)}).attr("class",function(t,e,n){return(w(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(T,"bars").attr("transform",function(t,e){return"translate("+(y(x(t,e))-r/n[0].values.length*.45)+",0)"}).attr("width",r/n[0].values.length*.9),u.watchTransition(T,"bars").attr("y",function(t,e){var n=w(t,e)<0?b(0):b(0)-b(w(t,e))<1?b(0)-1:b(w(t,e));return gt.utils.NaNtoZero(n)}).attr("height",function(t,e){return gt.utils.NaNtoZero(Math.max(Math.abs(b(w(t,e))-b(0)),1))})}),T.renderEnd("historicalBar immediate"),e}var l,c,f,d,h={top:0,right:0,bottom:0,left:0},p=null,g=null,m=Math.floor(1e4*Math.random()),v=null,y=d3.scale.linear(),b=d3.scale.linear(),x=function(t){return t.x},w=function(t){return t.y},k=[],S=[0],C=!1,M=!0,A=gt.utils.defaultColor(),E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_=!0,T=gt.utils.renderWatch(E,0);return e.highlightPoint=function(t,e){v.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){v.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=E,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return k},set:function(t){k=t}},forceY:{get:function(){return S},set:function(t){S=t}},padData:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return x},set:function(t){x=t}},y:{get:function(){return w},set:function(t){w=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return l},set:function(t){l=t}},yDomain:{get:function(){return c},set:function(t){c=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return h},set:function(t){h.top=t.top!==undefined?t.top:h.top,h.right=t.right!==undefined?t.right:h.right,h.bottom=t.bottom!==undefined?t.bottom:h.bottom,h.left=t.left!==undefined?t.left:h.left}},color:{get:function(){return A},set:function(t){A=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.historicalBarChart=function(t){"use strict";function l(u){return u.each(function(s){D.reset(),D.models(d),S&&D.models(h),C&&D.models(p);var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(x,t,v),r=gt.utils.availableHeight(w,t,v);if(l.update=function(){t.transition().duration(N).call(l)},l.container=this,E.disabled=s.map(function(t){return!!t.disabled}),!_)for(e in _={},E)E[e]instanceof Array?_[e]=E[e].slice(0):_[e]=E[e];if(!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return gt.utils.noData(l,t),l;t.selectAll(".nv-noData").remove(),c=d.xScale(),f=d.yScale();var i=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([s]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),a=i.select("g");o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-interactive"),k?(g.width(n),a.select(".nv-legendWrap").datum(s).call(g),y||g.height()===v.top||(v.top=g.height(),r=gt.utils.availableHeight(w,t,v)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),i.attr("transform","translate("+v.left+","+v.top+")"),M&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),A&&(m.width(n).height(r).margin({left:v.left,top:v.top}).svgContainer(t).xScale(c),i.select(".nv-interactive").call(m)),d.width(n).height(r).color(s.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!s[e].disabled})),a.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(d),S&&(h.scale(c)._ticks(gt.utils.calcTicksX(n/100,s)).tickSize(-r,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),a.select(".nv-x.nv-axis").transition().call(h)),C&&(p.scale(f)._ticks(gt.utils.calcTicksY(r/36,s)).tickSize(-n,0),a.select(".nv-y.nv-axis").transition().call(p)),m.dispatch.on("elementMousemove",function(n){d.clearHighlights();var r,i,o,a=[];s.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){i=gt.interactiveBisect(t.values,n.pointXValue,l.x()),d.highlightPoint(i,!0);var e=t.values[i];e!==undefined&&(r===undefined&&(r=e),o===undefined&&(o=l.xScale()(l.x()(e,i))),a.push({key:t.key,value:l.y()(e,i),color:b(t,t.seriesIndex),data:t.values[i]}))});var t=h.tickFormat()(l.x()(r,i));m.tooltip.valueFormatter(function(t){return p.tickFormat()(t)}).data({value:t,index:i,series:a})(),m.renderGuideLine(o)}),m.dispatch.on("elementMouseout",function(){T.tooltipHide(),d.clearHighlights()}),g.dispatch.on("legendClick",function(t){t.disabled=!t.disabled,s.filter(function(t){return!t.disabled}).length||s.map(function(t){return t.disabled=!1,i.selectAll(".nv-series").classed("disabled",!1),t}),E.disabled=s.map(function(t){return!!t.disabled}),T.stateChange(E),u.transition().call(l)}),g.dispatch.on("legendDblclick",function(t){s.forEach(function(t){t.disabled=!0}),t.disabled=!1,E.disabled=s.map(function(t){return!!t.disabled}),T.stateChange(E),l.update()}),T.on("changeState",function(n){"undefined"!=typeof n.disabled&&(s.forEach(function(t,e){t.disabled=n.disabled[e]}),E.disabled=n.disabled),l.update()})}),D.renderEnd("historicalBarChart immediate"),l}var c,f,d=t||gt.models.historicalBar(),h=gt.models.axis(),p=gt.models.axis(),g=gt.models.legend(),m=gt.interactiveGuideline(),e=gt.models.tooltip(),v={top:30,right:90,bottom:50,left:90},y=null,b=gt.utils.defaultColor(),x=null,w=null,k=!1,S=!0,C=!0,M=!1,A=!1,E={},_=null,n=null,T=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),N=250;h.orient("bottom").tickPadding(7),p.orient(M?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)});var D=gt.utils.renderWatch(T,0);return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:l.x()(t.data),value:l.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=T,l.bars=d,l.legend=g,l.xAxis=h,l.yAxis=p,l.interactiveLayer=m,l.tooltip=e,l.options=gt.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return w},set:function(t){w=t}},showLegend:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return C},set:function(t){C=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){t.top!==undefined&&(v.top=t.top,y=t.top),v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},color:{get:function(){return b},set:function(t){b=gt.utils.getColor(t),g.color(b),d.color(b)}},duration:{get:function(){return N},set:function(t){N=t,D.reset(N),p.duration(N),h.duration(N)}},rightAlignYAxis:{get:function(){return M},set:function(t){M=t,p.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return A},set:function(t){!0===(A=t)&&l.interactive(!1)}}}),gt.utils.inheritOptions(l,d),gt.utils.initOptions(l),l},gt.models.ohlcBarChart=function(){var n=gt.models.historicalBarChart(gt.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},gt.models.candlestickBarChart=function(){var n=gt.models.historicalBarChart(gt.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},gt.models.legend=function(){"use strict";function e(t){function S(t,e){return"furious"!=B?"#000":H?t.disengaged?"#000":"#fff":H?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function C(t,e){return H&&"furious"==B&&t.disengaged?"#eee":t.color||n(t,e)}function M(t){return H&&"furious"==B?1:t.disabled?0:1}return t.each(function(t){var e=E-A.left-A.right,n=d3.select(this);gt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),o=r.select("g");I?r.attr("transform","translate("+-A.right+","+A.top+")"):r.attr("transform","translate("+A.left+","+A.top+")");var a,s,u=o.selectAll(".nv-series").data(function(t){return"furious"!=B?t:t.filter(function(t){return!!H||!t.disengaged})}),l=u.enter().append("g").attr("class","nv-series");switch(B){case"furious":s=23;break;case"classic":s=20}if("classic"==B)l.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=u.select(".nv-legend-symbol");else if("furious"==B){l.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=u.select(".nv-legend-symbol"),l.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),u.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",S(t,e))})}l.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var c=u.select("text.nv-legend-text");u.on("mouseover",function(t,e){$.legendMouseover(t,e)}).on("mouseout",function(t,e){$.legendMouseout(t,e)}).on("click",function(t,e){$.legendClick(t,e);var n=u.data();if(F){if("classic"==B)P?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==B)if(H)t.disengaged=!t.disengaged,t.userDisabled=t.userDisabled==undefined?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!H){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}$.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(O){if("furious"==B&&H)return;if($.legendDblclick(t,e),F){var n=u.data();n.forEach(function(t){t.disabled=!0,"furious"==B&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==B&&(t.userDisabled=t.disabled),$.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}}),u.classed("nv-disabled",function(t){return t.userDisabled}),u.exit().remove(),c.attr("fill",S).text(function(t){return N(T(t))});var f=0;if(L){var d=[];u.each(function(t){var e,n;if(N(T(t))&&N(T(t)).length>D){var r=N(T(t)).substring(0,D);e=d3.select(this).select("text").text(r+"..."),d3.select(this).append("svg:title").text(N(T(t)))}else e=d3.select(this).select("text");try{if((n=e.node().getComputedTextLength())<=0)throw Error()}catch(i){n=gt.utils.calcApproxTextWidth(e)}d.push(n+R)});var h=0,p=[];for(f=0;f<e&&h<d.length;)p[h]=d[h],f+=d[h++];for(0===h&&(h=1);e<f&&1<h;){p=[],h--;for(var g=0;g<d.length;g++)d[g]>(p[g%h]||0)&&(p[g%h]=d[g]);f=p.reduce(function(t,e){return t+e})}for(var m=[],v=0,y=0;v<h;v++)m[v]=y,y+=p[v];u.attr("transform",function(t,e){return"translate("+m[e%h]+","+(5+Math.floor(e/h)*s)+")"}),I?o.attr("transform","translate("+(E-A.right-f)+","+A.top+")"):o.attr("transform","translate(0,"+A.top+")"),_=A.top+A.bottom+Math.ceil(d.length/h)*s}else{var b,x=5,w=5,k=0;u.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+R;return b=w,E<A.left+A.right+b+t&&(w=b=5,x+=s),k<(w+=t)&&(k=w),f<b+k&&(f=b+k),"translate("+b+","+x+")"}),o.attr("transform","translate("+(E-A.right-k)+","+A.top+")"),_=A.top+A.bottom+x+15}"furious"==B&&(a.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),i.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),o.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",f+s-12).attr("height",_+10).attr("y",-A.top-10).attr("opacity",H?1:0));a.style("fill",C).style("fill-opacity",M).style("stroke",C)}),e}var A={top:5,right:0,bottom:5,left:0},E=400,_=20,T=function(t){return t.key},N=function(t){return t},n=gt.utils.getColor(),D=20,L=!0,R=32,I=!0,F=!0,O=!0,P=!1,H=!1,$=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),B="classic";return e.dispatch=$,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return _},set:function(t){_=t}},key:{get:function(){return T},set:function(t){T=t}},keyFormatter:{get:function(){return N},set:function(t){N=t}},align:{get:function(){return L},set:function(t){L=t}},maxKeyLength:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return I},set:function(t){I=t}},padding:{get:function(){return R},set:function(t){R=t}},updateState:{get:function(){return F},set:function(t){F=t}},enableDoubleClick:{get:function(){return O},set:function(t){O=t}},radioButtonMode:{get:function(){return P},set:function(t){P=t}},expanded:{get:function(){return H},set:function(t){H=t}},vers:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return A},set:function(t){A.top=t.top!==undefined?t.top:A.top,A.right=t.right!==undefined?t.right:A.right,A.bottom=t.bottom!==undefined?t.bottom:A.bottom,A.left=t.left!==undefined?t.left:A.left}},color:{get:function(){return n},set:function(t){n=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.line=function(){"use strict";function e(t){return T.reset(),T.models(p),t.each(function(t){y=d3.select(this);var e=gt.utils.availableWidth(m,y,g),n=gt.utils.availableHeight(v,y,g);gt.utils.initSVG(y),d=p.xScale(),h=p.yScale(),E=E||d,_=_||h;var r=y.selectAll("g.nv-wrap.nv-line").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),o=i.append("defs"),a=i.append("g"),s=r.select("g");a.append("g").attr("class","nv-groups"),a.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+g.left+","+g.top+")"),p.width(e).height(n);var u=r.select(".nv-scatterWrap");u.call(p),o.append("clipPath").attr("id","nv-edge-clip-"+p.id()).append("rect"),r.select("#nv-edge-clip-"+p.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",M?"url(#nv-edge-clip-"+p.id()+")":""),u.attr("clip-path",M?"url(#nv-edge-clip-"+p.id()+")":"");var l=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});l.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||b}).style("fill-opacity",1e-6),l.exit().remove(),l.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),l.watchTransition(T,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var c=l.selectAll("path.nv-area").data(function(t){return C(t)?[t]:[]});c.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(A).defined(S).x(function(t,e){return gt.utils.NaNtoZero(E(w(t,e)))}).y0(function(t,e){return gt.utils.NaNtoZero(_(k(t,e)))}).y1(function(){return _(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])}),l.exit().selectAll("path.nv-area").remove(),c.watchTransition(T,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(A).defined(S).x(function(t,e){return gt.utils.NaNtoZero(d(w(t,e)))}).y0(function(t,e){return gt.utils.NaNtoZero(h(k(t,e)))}).y1(function(){return h(h.domain()[0]<=0?0<=h.domain()[1]?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])});var f=l.selectAll("path.nv-line").data(function(t){return[t.values]});f.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(A).defined(S).x(function(t,e){return gt.utils.NaNtoZero(E(w(t,e)))}).y(function(t,e){return gt.utils.NaNtoZero(_(k(t,e)))})),f.watchTransition(T,"line: linePaths").attr("d",d3.svg.line().interpolate(A).defined(S).x(function(t,e){return gt.utils.NaNtoZero(d(w(t,e)))}).y(function(t,e){return gt.utils.NaNtoZero(h(k(t,e)))})),E=d.copy(),_=h.copy()}),T.renderEnd("line immediate"),e}var d,h,p=gt.models.scatter(),g={top:0,right:0,bottom:0,left:0},m=960,v=500,y=null,b=1.5,x=gt.utils.defaultColor(),w=function(t){return t.x},k=function(t){return t.y},S=function(t,e){return!isNaN(k(t,e))&&null!==k(t,e)},C=function(t){return t.area},M=!1,A="linear",n=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");p.pointSize(16).pointDomain([16,256]);var E,_,T=gt.utils.renderWatch(t,n);return e.dispatch=t,(e.scatter=p).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),p.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),p.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},defined:{get:function(){return S},set:function(t){S=t}},interpolate:{get:function(){return A},set:function(t){A=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return g},set:function(t){g.top=t.top!==undefined?t.top:g.top,g.right=t.right!==undefined?t.right:g.right,g.bottom=t.bottom!==undefined?t.bottom:g.bottom,g.left=t.left!==undefined?t.left:g.left}},duration:{get:function(){return n},set:function(t){n=t,T.reset(n),p.duration(n)}},isArea:{get:function(){return C},set:function(t){C=d3.functor(t)}},x:{get:function(){return w},set:function(t){w=t,p.x(t)}},y:{get:function(){return k},set:function(t){k=t,p.y(t)}},color:{get:function(){return x},set:function(t){x=gt.utils.getColor(t),p.color(x)}}}),gt.utils.inheritOptions(e,p),gt.utils.initOptions(e),e},gt.models.lineChart=function(){"use strict";function p(t){return r.reset(),r.models(v),N&&r.models(y),D&&r.models(b),t.each(function(f){function t(){N&&l.select(".nv-focus .nv-x.nv-axis").transition().duration(H).call(y)}function e(){D&&l.select(".nv-focus .nv-y.nv-axis").transition().duration(H).call(b)}function n(n){l.select(".nv-focus .nv-linesWrap").datum(f.filter(function(t){return!t.disabled}).map(function(t){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(H).call(v),t(),e()}var r=d3.select(this);gt.utils.initSVG(r);var i,o=gt.utils.availableWidth(A,r,S),a=gt.utils.availableHeight(E,r,S)-(I?k.height():0);if(p.update=function(){0===H?r.call(p):r.transition().duration(H).call(p)},p.container=this,F.setter(B(f),p.update).getter($(f)).update(),F.disabled=f.map(function(t){return!!t.disabled}),!O)for(i in O={},F)F[i]instanceof Array?O[i]=F[i].slice(0):O[i]=F[i];if(!(f&&f.length&&f.filter(function(t){return t.values.length}).length))return gt.utils.noData(p,r),p;r.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(t){n(t)}),g=v.xScale(),m=v.yScale();var s=r.selectAll("g.nv-wrap.nv-lineChart").data([f]),u=s.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),l=s.select("g");u.append("g").attr("class","nv-legendWrap");var c=u.append("g").attr("class","nv-focus");c.append("g").attr("class","nv-background").append("rect"),c.append("g").attr("class","nv-x nv-axis"),c.append("g").attr("class","nv-y nv-axis"),c.append("g").attr("class","nv-linesWrap"),c.append("g").attr("class","nv-interactive");u.append("g").attr("class","nv-focusWrap");_?(x.width(o),l.select(".nv-legendWrap").datum(f).call(x),"bottom"===T?(S.bottom=y.height()+x.height(),a=gt.utils.availableHeight(E,r,S),l.select(".nv-legendWrap").attr("transform","translate(0,"+(a+y.height())+")")):"top"===T&&(C||x.height()===S.top||(S.top=x.height(),a=gt.utils.availableHeight(E,r,S)-(I?k.height():0)),s.select(".nv-legendWrap").attr("transform","translate(0,"+-S.top+")"))):l.select(".nv-legendWrap").selectAll("*").remove(),s.attr("transform","translate("+S.left+","+S.top+")"),L&&l.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),R&&(w.width(o).height(a).margin({left:S.left,top:S.top}).svgContainer(r).xScale(g),s.select(".nv-interactive").call(w)),l.select(".nv-focus .nv-background rect").attr("width",o).attr("height",a),v.width(o).height(a).color(f.map(function(t,e){return t.color||M(t,e)}).filter(function(t,e){return!f[e].disabled}));var d=l.select(".nv-linesWrap").datum(f.filter(function(t){return!t.disabled}));if(N&&y.scale(g)._ticks(gt.utils.calcTicksX(o/100,f)).tickSize(-a,0),D&&b.scale(m)._ticks(gt.utils.calcTicksY(a/36,f)).tickSize(-o,0),l.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a+")"),I||null!==k.brush.extent()){k.width(o),l.select(".nv-focusWrap").style("display",I?"initial":"none").attr("transform","translate(0,"+(a+S.bottom+k.margin().top)+")").call(k);var h=k.brush.empty()?k.xDomain():k.brush.extent();null!==h&&n(h)}else d.call(v),t(),e();x.dispatch.on("stateChange",function(t){for(var e in t)F[e]=t[e];P.stateChange(F),p.update()}),w.dispatch.on("elementMousemove",function(a){v.clearHighlights();var s,u,l,c=[];if(f.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=null!==k.brush.extent()?k.brush.empty()?k.xScale().domain():k.brush.extent():g.domain(),r=t.values.filter(function(t,e){return n[0]<=n[1]?v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]:v.x()(t,e)>=n[1]&&v.x()(t,e)<=n[0]}),i=r[u=gt.interactiveBisect(r,a.pointXValue,v.x())],o=p.y()(i,u);null!==o&&v.highlightPoint(e,u,!0),i!==undefined&&(s===undefined&&(s=i),l===undefined&&(l=p.xScale()(p.x()(i,u))),c.push({key:t.key,value:o,color:M(t,t.seriesIndex),data:i}))}),2<c.length){var t=p.yScale().invert(a.mouseY),e=.03*Math.abs(p.yScale().domain()[0]-p.yScale().domain()[1]),n=gt.nearestValueIndex(c.map(function(t){return t.value}),t,e);null!==n&&(c[n].highlight=!0)}var r=function(t){return null==t?"N/A":b.tickFormat()(t)};w.tooltip.valueFormatter(w.tooltip.valueFormatter()||r).data({value:p.x()(s,u),index:u,series:c})(),w.renderGuideLine(l)}),w.dispatch.on("elementClick",function(i){var o,a=[];f.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e=gt.interactiveBisect(t.values,i.pointXValue,p.x()),n=t.values[e];if(void 0!==n){void 0===o&&(o=p.xScale()(p.x()(n,e)));var r=p.yScale()(p.y()(n,e));a.push({point:n,pointIndex:e,pos:[o,r],seriesIndex:t.seriesIndex,series:t})}}),v.dispatch.elementClick(a)}),w.dispatch.on("elementMouseout",function(){v.clearHighlights()}),P.on("changeState",function(n){"undefined"!=typeof n.disabled&&f.length===n.disabled.length&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),F.disabled=n.disabled),p.update()})}),r.renderEnd("lineChart immediate"),p}var g,m,v=gt.models.line(),y=gt.models.axis(),b=gt.models.axis(),x=gt.models.legend(),w=gt.interactiveGuideline(),e=gt.models.tooltip(),k=gt.models.focus(gt.models.line()),S={top:30,right:20,bottom:50,left:60},C=null,M=gt.utils.defaultColor(),A=null,E=null,_=!0,T="top",N=!0,D=!0,L=!1,R=!1,I=!1,F=gt.utils.state(),O=null,n=null,P=d3.dispatch("stateChange","changeState","renderEnd"),H=250;y.orient("bottom").tickPadding(7),b.orient(L?"right":"left"),v.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),w.tooltip.valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)});var r=gt.utils.renderWatch(P,H),$=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},B=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return v.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),p.dispatch=P,p.lines=v,p.legend=x,p.focus=k,p.xAxis=y,p.x2Axis=k.xAxis,p.yAxis=b,p.y2Axis=k.yAxis,p.interactiveLayer=w,p.tooltip=e,p.state=F,p.dispatch=P,p.options=gt.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return E},set:function(t){E=t}},showLegend:{get:function(){return _},set:function(t){_=t}},legendPosition:{get:function(){return T},set:function(t){T=t}},showXAxis:{get:function(){return N},set:function(t){N=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return O},set:function(t){O=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return I},set:function(t){I=t}},focusHeight:{get:function(){return k.height()},set:function(t){k.height(t)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(t){k.showXAxis(t)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(t){k.showYAxis(t)}},brushExtent:{get:function(){return k.brushExtent()},set:function(t){k.brushExtent(t)}},focusMargin:{get:function(){return k.margin},set:function(t){t.top!==undefined&&(S.top=t.top,C=t.top),k.margin.right=t.right!==undefined?t.right:k.margin.right,k.margin.bottom=t.bottom!==undefined?t.bottom:k.margin.bottom,k.margin.left=t.left!==undefined?t.left:k.margin.left}},margin:{get:function(){return S},set:function(t){S.top=t.top!==undefined?t.top:S.top,S.right=t.right!==undefined?t.right:S.right,S.bottom=t.bottom!==undefined?t.bottom:S.bottom,S.left=t.left!==undefined?t.left:S.left}},duration:{get:function(){return H},set:function(t){H=t,r.reset(H),v.duration(H),k.duration(H),y.duration(H),b.duration(H)}},color:{get:function(){return M},set:function(t){M=gt.utils.getColor(t),x.color(M),v.color(M),k.color(M)}},interpolate:{get:function(){return v.interpolate()},set:function(t){v.interpolate(t),k.interpolate(t)}},xTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),k.xTickFormat(t)}},yTickFormat:{get:function(){return b.tickFormat()},set:function(t){b.tickFormat(t),k.yTickFormat(t)}},x:{get:function(){return v.x()},set:function(t){v.x(t),k.x(t)}},y:{get:function(){return v.y()},set:function(t){v.y(t),k.y(t)}},rightAlignYAxis:{get:function(){return L},set:function(t){L=t,b.orient(L?"right":"left")}},useInteractiveGuideline:{get:function(){return R},set:function(t){(R=t)&&(v.interactive(!1),v.useVoronoi(!1))}}}),gt.utils.inheritOptions(p,v),gt.utils.initOptions(p),p},gt.models.lineWithFocusChart=function(){return gt.models.lineChart().margin({bottom:30}).focusEnable(!0)},gt.models.linePlusBarChart=function(){"use strict";function M(t){return t.each(function(a){function t(t){var e=+("e"==t),n=e?1:-1,r=i/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function s(){z.empty()||z.extent(it),k.data([z.empty()?_.domain():it]).each(function(t){var e=_(t[0])-_.range()[0],n=_.range()[1]-_(t[1]);d3.select(this).select(".left").attr("width",e<0?0:e),d3.select(this).select(".right").attr("x",_(t[1])).attr("width",n<0?0:n)})}function e(){it=z.empty()?null:z.extent(),A=z.empty()?_.domain():z.extent(),ot.brush({extent:A,brush:z}),s(),F.width(u).height(l).color(a.map(function(t,e){return t.color||J(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),R.width(u).height(l).color(a.map(function(t,e){return t.color||J(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var t=g.select(".nv-focus .nv-barsWrap").datum(c.length?c.map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return F.x()(t,e)>=A[0]&&F.x()(t,e)<=A[1]})}}):[{values:[]}]),e=g.select(".nv-focus .nv-linesWrap").datum(pt(f)?[{values:[]}]:f.filter(function(t){return!t.disabled}).map(function(t){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,e){return R.x()(t,e)>=A[0]&&R.x()(t,e)<=A[1]})}}));E=c.length&&!ft?F.xScale():R.xScale(),P.scale(E)._ticks(gt.utils.calcTicksX(u/100,a)).tickSize(-l,0),P.domain([Math.ceil(A[0]),Math.floor(A[1])]),g.select(".nv-x.nv-axis").transition().duration(at).call(P),t.transition().duration(at).call(F),e.transition().duration(at).call(R),g.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")"),$.scale(T)._ticks(gt.utils.calcTicksY(l/36,a)).tickSize(-u,0),B.scale(N)._ticks(gt.utils.calcTicksY(l/36,a)),ft?B.tickSize(f.length?0:-u,0):B.tickSize(c.length?0:-u,0);var n=c.length?1:0,r=f.length&&!pt(f)?1:0,i=ft?r:n,o=ft?n:r;g.select(".nv-focus .nv-y1.nv-axis").style("opacity",i),g.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+E.range()[1]+",0)"),g.select(".nv-focus .nv-y1.nv-axis").transition().duration(at).call($),g.select(".nv-focus .nv-y2.nv-axis").transition().duration(at).call(B)}var n=d3.select(this);gt.utils.initSVG(n);var r,u=gt.utils.availableWidth(Y,n,V),
l=gt.utils.availableHeight(K,n,V)-(tt?rt:0),i=rt-X.top-X.bottom;if(M.update=function(){n.transition().duration(at).call(M)},M.container=this,st.setter(ht(a),M.update).getter(dt(a)).update(),st.disabled=a.map(function(t){return!!t.disabled}),!ut)for(r in ut={},st)st[r]instanceof Array?ut[r]=st[r].slice(0):ut[r]=st[r];if(!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return gt.utils.noData(M,n),M;n.selectAll(".nv-noData").remove();var c=a.filter(function(t){return!t.disabled&&t.bar}),f=a.filter(function(t){return!t.bar});E=c.length&&!ft?F.xScale():R.xScale(),_=H.scale(),T=ft?R.yScale():F.yScale(),N=ft?F.yScale():R.yScale(),D=ft?I.yScale():O.yScale(),L=ft?O.yScale():I.yScale();var o=a.filter(function(t){return!t.disabled&&(ft?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:G(t,e),y:Z(t,e)}})}),d=a.filter(function(t){return!t.disabled&&(ft?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:G(t,e),y:Z(t,e)}})});E.range([0,u]),_.domain(d3.extent(d3.merge(o.concat(d)),function(t){return t.x})).range([0,u]);var h=n.selectAll("g.nv-wrap.nv-linePlusBar").data([a]),p=h.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),g=h.select("g");p.append("g").attr("class","nv-legendWrap");var m=p.append("g").attr("class","nv-focus");m.append("g").attr("class","nv-x nv-axis"),m.append("g").attr("class","nv-y1 nv-axis"),m.append("g").attr("class","nv-y2 nv-axis"),m.append("g").attr("class","nv-barsWrap"),m.append("g").attr("class","nv-linesWrap");var v=p.append("g").attr("class","nv-context");if(v.append("g").attr("class","nv-x nv-axis"),v.append("g").attr("class","nv-y1 nv-axis"),v.append("g").attr("class","nv-y2 nv-axis"),v.append("g").attr("class","nv-barsWrap"),v.append("g").attr("class","nv-linesWrap"),v.append("g").attr("class","nv-brushBackground"),v.append("g").attr("class","nv-x nv-brush"),Q){var y=q.align()?u/2:u,b=q.align()?y:0;q.width(y),g.select(".nv-legendWrap").datum(a.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=ft?t.originalKey+(t.bar?ct:lt):t.originalKey+(t.bar?lt:ct),t})).call(q),U||q.height()===V.top||(V.top=q.height(),l=gt.utils.availableHeight(K,n,V)-rt),g.select(".nv-legendWrap").attr("transform","translate("+b+","+-V.top+")")}else g.select(".nv-legendWrap").selectAll("*").remove();h.attr("transform","translate("+V.left+","+V.top+")"),g.select(".nv-context").style("display",tt?"initial":"none"),O.width(u).height(i).color(a.map(function(t,e){return t.color||J(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),I.width(u).height(i).color(a.map(function(t,e){return t.color||J(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var x=g.select(".nv-context .nv-barsWrap").datum(c.length?c:[{values:[]}]),w=g.select(".nv-context .nv-linesWrap").datum(pt(f)?[{values:[]}]:f.filter(function(t){return!t.disabled}));g.select(".nv-context").attr("transform","translate(0,"+(l+V.bottom+X.top)+")"),x.transition().call(O),w.transition().call(I),nt&&(H._ticks(gt.utils.calcTicksX(u/100,a)).tickSize(-i,0),g.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+D.range()[0]+")"),g.select(".nv-context .nv-x.nv-axis").transition().call(H)),et&&(W.scale(D)._ticks(i/36).tickSize(-u,0),j.scale(L)._ticks(i/36).tickSize(c.length?0:-u,0),g.select(".nv-context .nv-y3.nv-axis").style("opacity",c.length?1:0).attr("transform","translate(0,"+_.range()[0]+")"),g.select(".nv-context .nv-y2.nv-axis").style("opacity",f.length?1:0).attr("transform","translate("+_.range()[1]+",0)"),g.select(".nv-context .nv-y1.nv-axis").transition().call(W),g.select(".nv-context .nv-y2.nv-axis").transition().call(j)),z.x(_).on("brush",e),it&&z.extent(it);var k=g.select(".nv-brushBackground").selectAll("g").data([it||z.extent()]),S=k.enter().append("g");S.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",i),S.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",i);var C=g.select(".nv-x.nv-brush").call(z);C.selectAll("rect").attr("height",i),C.selectAll(".resize").append("path").attr("d",t),q.dispatch.on("stateChange",function(t){for(var e in t)st[e]=t[e];ot.stateChange(st),M.update()}),ot.on("changeState",function(n){"undefined"!=typeof n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),st.disabled=n.disabled),M.update()}),e()}),M}var A,E,_,T,N,D,L,R=gt.models.line(),I=gt.models.line(),F=gt.models.historicalBar(),O=gt.models.historicalBar(),P=gt.models.axis(),H=gt.models.axis(),$=gt.models.axis(),B=gt.models.axis(),W=gt.models.axis(),j=gt.models.axis(),q=gt.models.legend(),z=d3.svg.brush(),e=gt.models.tooltip(),V={top:30,right:30,bottom:30,left:60},U=null,X={top:0,right:30,bottom:20,left:60},Y=null,K=null,G=function(t){return t.x},Z=function(t){return t.y},J=gt.utils.defaultColor(),Q=!0,tt=!0,et=!1,nt=!0,rt=50,it=null,n=null,ot=d3.dispatch("brush","stateChange","changeState"),at=0,st=gt.utils.state(),ut=null,lt=" (left axis)",ct=" (right axis)",ft=!1;R.clipEdge(!0),I.interactive(!1),I.pointActive(function(){return!1}),P.orient("bottom").tickPadding(5),$.orient("left"),B.orient("right"),H.orient("bottom").tickPadding(5),W.orient("left"),j.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return P.tickFormat()(t,e)});var r=function(){return ft?{main:B,focus:j}:{main:$,focus:W}},i=function(){return ft?{main:$,focus:W}:{main:B,focus:j}},dt=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},ht=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},pt=function(t){return t.every(function(t){return t.disabled})};return R.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return i().main.tickFormat()(t,e)}).data(t).hidden(!1)}),R.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),F.dispatch.on("elementMouseover.tooltip",function(t){t.value=M.x()(t.data),t.series={value:M.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return r().main.tickFormat()(t,e)}).data(t).hidden(!1)}),F.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),F.dispatch.on("elementMousemove.tooltip",function(){e()}),M.dispatch=ot,M.legend=q,M.lines=R,M.lines2=I,M.bars=F,M.bars2=O,M.xAxis=P,M.x2Axis=H,M.y1Axis=$,M.y2Axis=B,M.y3Axis=W,M.y4Axis=j,M.tooltip=e,M.options=gt.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return Y},set:function(t){Y=t}},height:{get:function(){return K},set:function(t){K=t}},showLegend:{get:function(){return Q},set:function(t){Q=t}},brushExtent:{get:function(){return it},set:function(t){it=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return tt},set:function(t){tt=t}},focusHeight:{get:function(){return rt},set:function(t){rt=t}},focusShowAxisX:{get:function(){return nt},set:function(t){nt=t}},focusShowAxisY:{get:function(){return et},set:function(t){et=t}},legendLeftAxisHint:{get:function(){return lt},set:function(t){lt=t}},legendRightAxisHint:{get:function(){return ct},set:function(t){ct=t}},margin:{get:function(){return V},set:function(t){t.top!==undefined&&(V.top=t.top,U=t.top),V.right=t.right!==undefined?t.right:V.right,V.bottom=t.bottom!==undefined?t.bottom:V.bottom,V.left=t.left!==undefined?t.left:V.left}},focusMargin:{get:function(){return X},set:function(t){X.top=t.top!==undefined?t.top:X.top,X.right=t.right!==undefined?t.right:X.right,X.bottom=t.bottom!==undefined?t.bottom:X.bottom,X.left=t.left!==undefined?t.left:X.left}},duration:{get:function(){return at},set:function(t){at=t}},color:{get:function(){return J},set:function(t){J=gt.utils.getColor(t),q.color(J)}},x:{get:function(){return G},set:function(t){G=t,R.x(t),I.x(t),F.x(t),O.x(t)}},y:{get:function(){return Z},set:function(t){Z=t,R.y(t),I.y(t),F.y(t),O.y(t)}},switchYAxisOrder:{get:function(){return ft},set:function(t){if(ft!==t){var e=$;$=B,B=e;var n=W;W=j,j=n}ft=t,$.orient("left"),B.orient("right"),W.orient("left"),j.orient("right")}}}),gt.utils.inheritOptions(M,R),gt.utils.initOptions(M),M},gt.models.multiBar=function(){"use strict";function e(t){return j.reset(),t.each(function(a){var t=S-k.left-k.right,e=C-k.top-k.bottom;_=d3.select(this),gt.utils.initSVG(_);var i=0;if(O&&a.length&&(O=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),R){var r=d3.layout.stack().offset(I).values(function(t){return t.values}).y(N)(!a.length&&O?O:a);r.forEach(function(t,n){t.nonStackable?(a[n].nonStackableSeries=i++,r[n]=a[n]):0<n&&r[n-1].nonStackable&&r[n].values.map(function(t,e){t.y0-=r[n-1].values[e].y,t.y1=t.y0+t.y})}),a=r}a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),R&&0<a.length&&a[0].values.map(function(t,r){var i=0,o=0;a.map(function(t,e){if(!a[e].nonStackable){var n=t.values[r];n.size=Math.abs(n.y),n.y<0?(n.y1=o,o-=n.size):(n.y1=n.size+i,i+=n.size)}})});var n=m&&v?[]:a.map(function(t,n){return t.values.map(function(t,e){return{x:T(t,e),y:N(t,e),y0:t.y0,y1:t.y1,idx:n}})});M.domain(m||d3.merge(n).map(function(t){return t.x})).rangeBands(y||[0,t],$),A.domain(v||d3.extent(d3.merge(n).map(function(t){var e=t.y;return R&&!a[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(D))).range(b||[e,0]),M.domain()[0]===M.domain()[1]&&(M.domain()[0]?M.domain([M.domain()[0]-.01*M.domain()[0],M.domain()[1]+.01*M.domain()[1]]):M.domain([-1,1])),A.domain()[0]===A.domain()[1]&&(A.domain()[0]?A.domain([A.domain()[0]+.01*A.domain()[0],A.domain()[1]-.01*A.domain()[1]]):A.domain([-1,1])),x=x||M,w=w||A;var o=_.selectAll("g.nv-wrap.nv-multibar").data([a]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),u=s.append("defs"),l=s.append("g"),c=o.select("g");l.append("g").attr("class","nv-groups"),o.attr("transform","translate("+k.left+","+k.top+")"),u.append("clipPath").attr("id","nv-edge-clip-"+E).append("rect"),o.select("#nv-edge-clip-"+E+" rect").attr("width",t).attr("height",e),c.attr("clip-path",L?"url(#nv-edge-clip-"+E+")":"");var f=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});f.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var d=j.transition(f.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,H)).attr("y",function(t){var e=w(0)||0;return R&&a[t.series]&&!a[t.series].nonStackable&&(e=w(t.y0)),e}).attr("height",0).remove();d.delay&&d.delay(function(t,e){return e*(H/(q+1))-e}),f.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return F(t,e)}).style("stroke",function(t,e){return F(t,e)}),f.style("stroke-opacity",1).style("fill-opacity",B);var h=f.selectAll("rect.nv-bar").data(function(t){return O&&!a.length?O.values:t.values});h.exit().remove();h.enter().append("rect").attr("class",function(t,e){return N(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return R&&!a[n].nonStackable?0:n*M.rangeBand()/a.length}).attr("y",function(t,e,n){return w(R&&!a[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return M.rangeBand()/(R&&!a[n].nonStackable?1:a.length)}).attr("transform",function(t,e){return"translate("+M(T(t,e))+",0)"});h.style("fill",function(t,e,n){return F(t,n,e)}).style("stroke",function(t,e,n){return F(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){W.elementMousemove({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){var r=this;W.elementClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill"),event:d3.event,element:r}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){W.elementDblClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),h.attr("class",function(t,e){return N(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+M(T(t,e))+",0)"}),P&&(g||(g=a.map(function(){return!0})),h.style("fill",function(t,e,n){return d3.rgb(P(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(P(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var p=h.watchTransition(j,"multibar",Math.min(250,H)).delay(function(t,e){return e*H/a[0].values.length});R?p.attr("y",function(t,e,n){return a[n].nonStackable?N(t,e)<0?A(0):A(0)-A(N(t,e))<-1?A(0)-1:A(N(t,e))||0:A(t.y1)}).attr("height",function(t,e,n){return a[n].nonStackable?Math.max(Math.abs(A(N(t,e))-A(0)),0)||0:Math.max(Math.abs(A(t.y+t.y0)-A(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return a[n].nonStackable&&(r=t.series*M.rangeBand()/a.length,a.length!==i&&(r=a[n].nonStackableSeries*M.rangeBand()/(2*i))),r}).attr("width",function(t,e,n){if(a[n].nonStackable){var r=M.rangeBand()/i;return a.length!==i&&(r=M.rangeBand()/(2*i)),r}return M.rangeBand()}):p.attr("x",function(t){return t.series*M.rangeBand()/a.length}).attr("width",M.rangeBand()/a.length).attr("y",function(t,e){return N(t,e)<0?A(0):A(0)-A(N(t,e))<1?A(0)-1:A(N(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(A(N(t,e))-A(0)),1)||0}),x=M.copy(),w=A.copy(),a[0]&&a[0].values&&(q=a[0].values.length)}),j.renderEnd("multibar immediate"),e}var g,m,v,y,b,x,w,k={top:0,right:0,bottom:0,left:0},S=960,C=500,M=d3.scale.ordinal(),A=d3.scale.linear(),E=Math.floor(1e4*Math.random()),_=null,T=function(t){return t.x},N=function(t){return t.y},D=[0],L=!0,R=!1,I="zero",F=gt.utils.defaultColor(),O=!1,P=null,H=500,$=.1,B=.75,W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),j=gt.utils.renderWatch(W,H),q=0;return e.dispatch=W,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return T},set:function(t){T=t}},y:{get:function(){return N},set:function(t){N=t}},xScale:{get:function(){return M},set:function(t){M=t}},yScale:{get:function(){return A},set:function(t){A=t}},xDomain:{get:function(){return m},set:function(t){m=t}},yDomain:{get:function(){return v},set:function(t){v=t}},xRange:{get:function(){return y},set:function(t){y=t}},yRange:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return D},set:function(t){D=t}},stacked:{get:function(){return R},set:function(t){R=t}},stackOffset:{get:function(){return I},set:function(t){I=t}},clipEdge:{get:function(){return L},set:function(t){L=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return E},set:function(t){E=t}},hideable:{get:function(){return O},set:function(t){O=t}},groupSpacing:{get:function(){return $},set:function(t){$=t}},fillOpacity:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return k},set:function(t){k.top=t.top!==undefined?t.top:k.top,k.right=t.right!==undefined?t.right:k.right,k.bottom=t.bottom!==undefined?t.bottom:k.bottom,k.left=t.left!==undefined?t.left:k.left}},duration:{get:function(){return H},set:function(t){H=t,j.reset(H)}},color:{get:function(){return F},set:function(t){F=gt.utils.getColor(t)}},barColor:{get:function(){return P},set:function(t){P=t?gt.utils.getColor(t):null}}}),gt.utils.initOptions(e),e},gt.models.multiBarChart=function(){"use strict";function p(t){return n.reset(),n.models(v),R&&n.models(y),I&&n.models(b),t.each(function(u){var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(A,t,C),r=gt.utils.availableHeight(E,t,C);if(p.update=function(){0===z?t.call(p):t.transition().duration(z).call(p)},p.container=this,B.setter(Y(u),p.update).getter(X(u)).update(),B.disabled=u.map(function(t){return!!t.disabled}),!W)for(e in W={},B)B[e]instanceof Array?W[e]=B[e].slice(0):W[e]=B[e];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return gt.utils.noData(p,t),p;t.selectAll(".nv-noData").remove(),g=v.xScale(),m=v.yScale();var i=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([u]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),a=i.select("g");if(o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap"),o.append("g").attr("class","nv-interactive"),D?"bottom"===L?(w.width(n-C.right),a.select(".nv-legendWrap").datum(u).call(w),C.bottom=y.height()+w.height(),r=gt.utils.availableHeight(E,t,C),a.select(".nv-legendWrap").attr("transform","translate(0,"+(r+y.height())+")")):(w.width(n-q()),a.select(".nv-legendWrap").datum(u).call(w),M||w.height()===C.top||(C.top=w.height(),r=gt.utils.availableHeight(E,t,C)),a.select(".nv-legendWrap").attr("transform","translate("+q()+","+-C.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),T){var s=[{key:N.grouped||"Grouped",disabled:v.stacked()},{key:N.stacked||"Stacked",disabled:!v.stacked()}];k.width(q()).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(s).attr("transform","translate(0,"+-C.top+")").call(k)}else a.select(".nv-controlsWrap").selectAll("*").remove();if(i.attr("transform","translate("+C.left+","+C.top+")"),F&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),v.disabled(u.map(function(t){return t.disabled})).width(n).height(r).color(u.map(function(t,e){return t.color||_(t,e)}).filter(function(t,e){return!u[e].disabled})),a.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).call(v),R){y.scale(g)._ticks(gt.utils.calcTicksX(n/100,u)).tickSize(-r,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")"),a.select(".nv-x.nv-axis").call(y);var l=a.select(".nv-x.nv-axis > g").selectAll("g");if(l.selectAll("line, text").style("opacity",1),P){var c=function(t,e){return"translate("+t+","+e+")"},f=5,d=17;l.selectAll("text").attr("transform",function(t,e,n){return c(0,n%2==0?f:d)});var h=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;a.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return c(0,0===e||h%2!=0?d:f)})}H&&a.selectAll(".tick text").call(gt.utils.wrapTicks,p.xAxis.rangeBand()),O&&l.filter(function(t,e){return e%Math.ceil(u[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),$&&l.selectAll(".tick text").attr("transform","rotate("+$+" 0,0)").style("text-anchor",0<$?"start":"end"),a.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}I&&(b.scale(m)._ticks(gt.utils.calcTicksY(r/36,u)).tickSize(-n,0),a.select(".nv-y.nv-axis").call(b)),V&&(x.width(n).height(r).margin({left:C.left,top:C.top}).svgContainer(t).xScale(g),i.select(".nv-interactive").call(x)),w.dispatch.on("stateChange",function(t){for(var e in t)B[e]=t[e];j.stateChange(B),p.update()}),k.dispatch.on("legendClick",function(t){if(t.disabled){switch(s=s.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case N.grouped:v.stacked(!1);break;case"Stacked":case N.stacked:v.stacked(!0)}B.stacked=v.stacked(),j.stateChange(B),p.update()}}),j.on("changeState",function(n){"undefined"!=typeof n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),B.disabled=n.disabled),"undefined"!=typeof n.stacked&&(v.stacked(n.stacked),B.stacked=n.stacked,U=n.stacked),p.update()}),V?(x.dispatch.on("elementMousemove",function(n){if(n.pointXValue!=undefined){var r,i,o,a,s=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){i=g.domain().indexOf(n.pointXValue);var e=t.values[i];e!==undefined&&(a=e.x,r===undefined&&(r=e),o===undefined&&(o=n.mouseX),s.push({key:t.key,value:p.y()(e,i),color:_(t,t.seriesIndex),data:t.values[i]}))}),x.tooltip.data({value:a,index:i,series:s})(),x.renderGuideLine(o)}}),x.dispatch.on("elementMouseout",function(){x.tooltip.hidden(!0)})):(v.dispatch.on("elementMouseover.tooltip",function(t){t.value=p.x()(t.data),t.series={key:t.data.key,value:p.y()(t.data),color:t.color},S.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(){S.hidden(!0)}),v.dispatch.on("elementMousemove.tooltip",function(){S()}))}),n.renderEnd("multibarchart immediate"),p}var g,m,v=gt.models.multiBar(),y=gt.models.axis(),b=gt.models.axis(),x=gt.interactiveGuideline(),w=gt.models.legend(),k=gt.models.legend(),S=gt.models.tooltip(),C={top:30,right:20,bottom:50,left:60},M=null,A=null,E=null,_=gt.utils.defaultColor(),T=!0,N={},D=!0,L=null,R=!0,I=!0,F=!1,O=!0,P=!1,H=!1,$=0,B=gt.utils.state(),W=null,e=null,j=d3.dispatch("stateChange","changeState","renderEnd"),q=function(){return T?180:0},z=250,V=!1;B.stacked=!1,v.stacked(!1),y.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),b.orient(F?"right":"left").tickFormat(d3.format(",.1f")),S.duration(0).valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),x.tooltip.valueFormatter(function(t,e){return null==t?"N/A":b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),x.tooltip.valueFormatter(function(t,e){return null==t?"N/A":b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),x.tooltip.duration(0).valueFormatter(function(t,e){return b.tickFormat()(t,e)}).headerFormatter(function(t,e){return y.tickFormat()(t,e)}),k.updateState(!1);var n=gt.utils.renderWatch(j),U=!1,X=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:U}}},Y=function(t){return function(n){n.stacked!==undefined&&(U=n.stacked),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return p.dispatch=j,p.multibar=v,p.legend=w,p.controls=k,p.xAxis=y,p.yAxis=b,p.state=B,p.tooltip=S,p.interactiveLayer=x,p.options=gt.utils.optionsFunc.bind(p),p._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return E},set:function(t){E=t}},showLegend:{get:function(){return D},set:function(t){D=t}},legendPosition:{get:function(){return L},set:function(t){L=t}},showControls:{get:function(){return T},set:function(t){T=t}},controlLabels:{get:function(){return N},set:function(t){N=t}},showXAxis:{get:function(){return R},set:function(t){R=t}},showYAxis:{get:function(){return I},set:function(t){I=t}},defaultState:{get:function(){return W},set:function(t){W=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return O},set:function(t){O=t}},rotateLabels:{get:function(){return $},set:function(t){$=t}},staggerLabels:{get:function(){return P},set:function(t){P=t}},wrapLabels:{get:function(){return H},set:function(t){H=!!t}},margin:{get:function(){return C},set:function(t){t.top!==undefined&&(C.top=t.top,M=t.top),C.right=t.right!==undefined?t.right:C.right,C.bottom=t.bottom!==undefined?t.bottom:C.bottom,C.left=t.left!==undefined?t.left:C.left}},duration:{get:function(){return z},set:function(t){z=t,v.duration(z),y.duration(z),b.duration(z),n.reset(z)}},color:{get:function(){return _},set:function(t){_=gt.utils.getColor(t),w.color(_)}},rightAlignYAxis:{get:function(){return F},set:function(t){F=t,b.orient(F?"right":"left")}},useInteractiveGuideline:{get:function(){return V},set:function(t){V=t}},barColor:{get:function(){return v.barColor},set:function(t){v.barColor(t),w.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),gt.utils.inheritOptions(p,v),gt.utils.initOptions(p),p},gt.models.multiBarHorizontal=function(){"use strict";function e(t){return P.reset(),t.each(function(o){var t=y-v.left-v.right,e=b-v.top-v.bottom;x=d3.select(this),gt.utils.initSVG(x),T&&(o=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(C)(o)),o.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),T&&o[0].values.map(function(t,n){var r=0,i=0;o.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var n=f&&d?[]:o.map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:C(t,e),y0:t.y0,y1:t.y1}})});w.domain(f||d3.merge(n).map(function(t){return t.x})).rangeBands(h||[0,e],R),k.domain(d||d3.extent(d3.merge(n).map(function(t){return T?0<t.y?t.y1+t.y:t.y1:t.y}).concat(A))),N&&!T?k.range(p||[k.domain()[0]<0?L:0,t-(0<k.domain()[1]?L:0)]):k.range(p||[0,t]),g=g||w,m=m||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([o]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),a=(i.append("defs"),i.append("g"));r.select("g");a.append("g").attr("class","nv-groups"),r.attr("transform","translate("+v.left+","+v.top+")");var s=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),s.exit().watchTransition(P,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),s.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return E(t,e)}).style("stroke",function(t,e){return E(t,e)}),s.watchTransition(P,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",I);var u=s.selectAll("g.nv-bar").data(function(t){return t.values});u.exit().remove();var l=u.enter().append("g").attr("transform",function(t,e,n){return"translate("+m(T?t.y0:0)+","+(T?0:n*w.rangeBand()/o.length+w(S(t,e)))+")"});l.append("rect").attr("width",0).attr("height",w.rangeBand()/(T?1:o.length)),u.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),O.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),O.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){O.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){O.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){var n=this;O.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n}),d3.event.stopPropagation()}).on("dblclick",function(t,e){O.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),M(o[0],0)&&(l.append("polyline"),u.select("polyline").attr("fill","none").attr("points",function(e,n){var t=M(e,n),r=.8*w.rangeBand()/(2*(T?1:o.length));return[[(t=(t=t.length?t:[-Math.abs(t),Math.abs(t)]).map(function(t){return k(t+(C(e,n)<0?0:C(e,n)))-k(0)}))[0],-r],[t[0],r],[t[0],0],[t[1],0],[t[1],-r],[t[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(){return"translate(0, "+w.rangeBand()/(2*(T?1:o.length))+")"})),l.append("text"),N&&!T?(u.select("text").attr("text-anchor",function(t,e){return C(t,e)<0?"end":"start"}).attr("y",w.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){var n=F(C(t,e)),r=M(t,e);return r===undefined?n:r.length?n+"+"+F(Math.abs(r[1]))+"-"+F(Math.abs(r[0])):n+"\xb1"+F(Math.abs(r))}),u.watchTransition(P,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return C(t,e)<0?-4:k(C(t,e))-k(0)+4})):u.selectAll("text").text(""),D&&!T?(l.append("text").classed("nv-bar-label",!0),u.select("text.nv-bar-label").attr("text-anchor",function(t,e){return C(t,e)<0?"start":"end"}).attr("y",w.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){return S(t,e)}),u.watchTransition(P,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return C(t,e)<0?k(0)-k(C(t,e))+4:-4})):u.selectAll("text.nv-bar-label").text(""),u.attr("class",function(t,e){return C(t,e)<0?"nv-bar negative":"nv-bar positive"}),_&&(c||(c=o.map(function(){return!0})),u.style("fill",function(t,e,n){return d3.rgb(_(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(_(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()})),T?u.watchTransition(P,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+k(t.y1)+","+w(S(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(k(C(t,e)+t.y0)-k(t.y0))||0}).attr("height",w.rangeBand()):u.watchTransition(P,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(C(t,e)<0?k(C(t,e)):k(0))+","+(t.series*w.rangeBand()/o.length+w(S(t,e)))+")"}).select("rect").attr("height",w.rangeBand()/o.length).attr("width",function(t,e){return Math.max(Math.abs(k(C(t,e))-k(0)),1)||0}),g=w.copy(),m=k.copy()}),P.renderEnd("multibarHorizontal immediate"),e}var c,f,d,h,p,g,m,v={top:0,right:0,bottom:0,left:0},y=960,b=500,n=Math.floor(1e4*Math.random()),x=null,w=d3.scale.ordinal(),k=d3.scale.linear(),S=function(t){return t.x},C=function(t){return t.y},M=function(t){return t.yErr},A=[0],E=gt.utils.defaultColor(),_=null,T=!1,N=!1,D=!1,L=60,R=.1,I=.75,F=d3.format(",.2f"),r=250,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),P=gt.utils.renderWatch(O,r);return e.dispatch=O,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return S},set:function(t){S=t}},y:{get:function(){return C},set:function(t){C=t}},yErr:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return w},set:function(t){w=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return f},set:function(t){f=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return A},set:function(t){A=t}},stacked:{get:function(){return T},set:function(t){T=t}},showValues:{get:function(){return N},set:function(t){N=t}},disabled:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return n},set:function(t){n=t}},valueFormat:{get:function(){return F},set:function(t){F=t}},valuePadding:{get:function(){return L},set:function(t){L=t}},groupSpacing:{get:function(){return R},set:function(t){R=t}},fillOpacity:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return v},set:function(t){v.top=t.top!==undefined?t.top:v.top,v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},duration:{get:function(){return r},set:function(t){r=t,P.reset(r)}},color:{get:function(){return E},set:function(t){E=gt.utils.getColor(t)}},barColor:{get:function(){return _},set:function(t){_=t?gt.utils.getColor(t):null}}}),gt.utils.initOptions(e),e},gt.models.multiBarHorizontalChart=function(){"use strict";function l(t){return r.reset(),r.models(d),E&&r.models(h),_&&r.models(p),t.each(function(r){var t=d3.select(this);gt.utils.initSVG(t);var e,n=gt.utils.availableWidth(b,t,v),i=gt.utils.availableHeight(x,t,v);if(l.update=function(){t.transition().duration(I).call(l)},l.container=this,T=d.stacked(),N.setter(O(r),l.update).getter(F(r)).update(),N.disabled=r.map(function(t){return!!t.disabled}),!D)for(e in D={},N)N[e]instanceof Array?D[e]=N[e].slice(0):D[e]=N[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return gt.utils.noData(l,t),l;t.selectAll(".nv-noData").remove(),c=d.xScale(),f=d.yScale().clamp(!0);var o=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),s=o.select("g");if(a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),a.append("g").attr("class","nv-legendWrap"),a.append("g").attr("class","nv-controlsWrap"),M?(g.width(n-R()),s.select(".nv-legendWrap").datum(r).call(g),"bottom"===A?(v.bottom=h.height()+g.height(),i=gt.utils.availableHeight(x,t,v),s.select(".nv-legendWrap").attr("transform","translate("+R()+","+(i+h.height())+")")):"top"===A&&(y||g.height()===v.top||(v.top=g.height(),i=gt.utils.availableHeight(x,t,v)),s.select(".nv-legendWrap").attr(
"transform","translate("+R()+","+-v.top+")"))):s.select(".nv-legendWrap").selectAll("*").remove(),k){var u=[{key:C.grouped||"Grouped",disabled:d.stacked()},{key:C.stacked||"Stacked",disabled:!d.stacked()}];m.width(R()).color(["#444","#444","#444"]),"bottom"===S?(v.bottom=h.height()+g.height(),i=gt.utils.availableHeight(x,t,v),s.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+(i+h.height())+")").call(m)):"top"===S&&s.select(".nv-controlsWrap").datum(u).attr("transform","translate(0,"+-v.top+")").call(m)}else s.select(".nv-controlsWrap").selectAll("*").remove();(o.attr("transform","translate("+v.left+","+v.top+")"),d.disabled(r.map(function(t){return t.disabled})).width(n).height(i).color(r.map(function(t,e){return t.color||w(t,e)}).filter(function(t,e){return!r[e].disabled})),s.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(d),E)&&(h.scale(c)._ticks(gt.utils.calcTicksY(i/24,r)).tickSize(-n,0),s.select(".nv-x.nv-axis").call(h),s.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));_&&(p.scale(f)._ticks(gt.utils.calcTicksX(n/100,r)).tickSize(-i,0),s.select(".nv-y.nv-axis").attr("transform","translate(0,"+i+")"),s.select(".nv-y.nv-axis").call(p)),s.select(".nv-zeroLine line").attr("x1",f(0)).attr("x2",f(0)).attr("y1",0).attr("y2",-i),g.dispatch.on("stateChange",function(t){for(var e in t)N[e]=t[e];L.stateChange(N),l.update()}),m.dispatch.on("legendClick",function(t){if(t.disabled){switch(u=u.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case C.grouped:d.stacked(!1);break;case"Stacked":case C.stacked:d.stacked(!0)}N.stacked=d.stacked(),L.stateChange(N),T=d.stacked(),l.update()}}),L.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),N.disabled=n.disabled),"undefined"!=typeof n.stacked&&(d.stacked(n.stacked),N.stacked=n.stacked,T=n.stacked),l.update()})}),r.renderEnd("multibar horizontal chart immediate"),l}var c,f,d=gt.models.multiBarHorizontal(),h=gt.models.axis(),p=gt.models.axis(),g=gt.models.legend().height(30),m=gt.models.legend().height(30),e=gt.models.tooltip(),v={top:30,right:20,bottom:50,left:60},y=null,b=null,x=null,w=gt.utils.defaultColor(),k=!0,S="top",C={},M=!0,A="top",E=!0,_=!0,T=!1,N=gt.utils.state(),D=null,n=null,L=d3.dispatch("stateChange","changeState","renderEnd"),R=function(){return k?180:0},I=250;N.stacked=!1,d.stacked(T),h.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),p.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return h.tickFormat()(t,e)}),m.updateState(!1);var F=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:T}}},O=function(t){return function(n){n.stacked!==undefined&&(T=n.stacked),n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},r=gt.utils.renderWatch(L,I);return d.dispatch.on("elementMouseover.tooltip",function(t){t.value=l.x()(t.data),t.series={key:t.data.key,value:l.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){e()}),l.dispatch=L,l.multibar=d,l.legend=g,l.controls=m,l.xAxis=h,l.yAxis=p,l.state=N,l.tooltip=e,l.options=gt.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return M},set:function(t){M=t}},legendPosition:{get:function(){return A},set:function(t){A=t}},controlsPosition:{get:function(){return S},set:function(t){S=t}},showControls:{get:function(){return k},set:function(t){k=t}},controlLabels:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return E},set:function(t){E=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){t.top!==undefined&&(v.top=t.top,y=t.top),v.right=t.right!==undefined?t.right:v.right,v.bottom=t.bottom!==undefined?t.bottom:v.bottom,v.left=t.left!==undefined?t.left:v.left}},duration:{get:function(){return I},set:function(t){I=t,r.reset(I),d.duration(I),h.duration(I),p.duration(I)}},color:{get:function(){return w},set:function(t){w=gt.utils.getColor(t),g.color(w)}},barColor:{get:function(){return d.barColor},set:function(t){d.barColor(t),g.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),gt.utils.inheritOptions(l,d),gt.utils.initOptions(l),l},gt.models.multiChart=function(){"use strict";function O(t){return t.each(function(n){function t(t){var n=2===t.series.yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},dt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function e(t){var n=2===t.series.yAxis?ct:lt;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},dt.duration(100).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function r(t){var n=2===t.series.yAxis?ct:lt;t.point.x=at.x()(t.point),t.point.y=at.y()(t.point),dt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function i(t){var n=2===t.series.yAxis?ct:lt;t.value=it.x()(t.data),t.series={value:it.y()(t.data),color:t.color,key:t.data.key},dt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function o(){for(var t=0,e=ht.length;t<e;t++){var n=ht[t];try{n.clearHighlights()}catch(r){}}}function f(t,e,n){for(var r=0,i=ht.length;r<i;r++){var o=ht[r];try{o.highlightPoint(t,e,n)}catch(a){}}}var a=d3.select(this);gt.utils.initSVG(a),O.update=function(){a.transition().call(O)},O.container=this;var s=gt.utils.availableWidth(j,a,$),u=gt.utils.availableHeight(q,a,$),l=n.filter(function(t){return"line"==t.type&&1==t.yAxis}),c=n.filter(function(t){return"line"==t.type&&2==t.yAxis}),d=n.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),h=n.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),p=n.filter(function(t){return"bar"==t.type&&1==t.yAxis}),g=n.filter(function(t){return"bar"==t.type&&2==t.yAxis}),m=n.filter(function(t){return"area"==t.type&&1==t.yAxis}),v=n.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length))return gt.utils.noData(O,a),O;a.selectAll(".nv-noData").remove();var y=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:V(t),y:U(t)}})}),b=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:V(t),y:U(t)}})});Z.domain(d3.extent(d3.merge(y.concat(b)),function(t){return t.x})).range([0,s]);var x=a.selectAll("g.wrap.multiChart").data([n]),w=x.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y1 nv-axis"),w.append("g").attr("class","nv-y2 nv-axis"),w.append("g").attr("class","stack1Wrap"),w.append("g").attr("class","stack2Wrap"),w.append("g").attr("class","bars1Wrap"),w.append("g").attr("class","bars2Wrap"),w.append("g").attr("class","scatters1Wrap"),w.append("g").attr("class","scatters2Wrap"),w.append("g").attr("class","lines1Wrap"),w.append("g").attr("class","lines2Wrap"),w.append("g").attr("class","legendWrap"),w.append("g").attr("class","nv-interactive");var k=x.select("g"),S=n.map(function(t,e){return n[e].color||W(t,e)});if(z){var C=ft.align()?s/2:s,M=ft.align()?C:0;ft.width(C),ft.color(S),k.select(".legendWrap").datum(n.map(function(t){return t.originalKey=t.originalKey===undefined?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":G),t})).call(ft),B||ft.height()===$.top||($.top=ft.height(),u=gt.utils.availableHeight(q,a,$)),k.select(".legendWrap").attr("transform","translate("+M+","+-$.top+")")}else k.select(".legendWrap").selectAll("*").remove();tt.width(s).height(u).interpolate(X).color(S.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),et.width(s).height(u).interpolate(X).color(S.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),nt.width(s).height(u).color(S.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"scatter"==n[e].type})),rt.width(s).height(u).color(S.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"scatter"==n[e].type})),it.width(s).height(u).color(S.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),ot.width(s).height(u).color(S.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),at.width(s).height(u).interpolate(X).color(S.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),st.width(s).height(u).interpolate(X).color(S.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),k.attr("transform","translate("+$.left+","+$.top+")");var A=k.select(".lines1Wrap").datum(l.filter(function(t){return!t.disabled})),E=k.select(".scatters1Wrap").datum(d.filter(function(t){return!t.disabled})),_=k.select(".bars1Wrap").datum(p.filter(function(t){return!t.disabled})),T=k.select(".stack1Wrap").datum(m.filter(function(t){return!t.disabled})),N=k.select(".lines2Wrap").datum(c.filter(function(t){return!t.disabled})),D=k.select(".scatters2Wrap").datum(h.filter(function(t){return!t.disabled})),L=k.select(".bars2Wrap").datum(g.filter(function(t){return!t.disabled})),R=k.select(".stack2Wrap").datum(v.filter(function(t){return!t.disabled})),I=[];it.stacked()&&p.length&&(0<(I=p.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(I=I.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})));p.length&&I.push({x:0,y:0});var F=[];ot.stacked()&&g.length&&(0<(F=g.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(F=F.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})));g.length&&F.push({x:0,y:0}),J.domain(P||d3.extent(d3.merge(y).concat(I),function(t){return t.y})).range([0,u]),Q.domain(H||d3.extent(d3.merge(b).concat(F),function(t){return t.y})).range([0,u]),tt.yDomain(J.domain()),nt.yDomain(J.domain()),it.yDomain(J.domain()),at.yDomain(J.domain()),et.yDomain(Q.domain()),rt.yDomain(Q.domain()),ot.yDomain(Q.domain()),st.yDomain(Q.domain()),m.length&&d3.transition(T).call(at),v.length&&d3.transition(R).call(st),p.length&&d3.transition(_).call(it),g.length&&d3.transition(L).call(ot),l.length&&d3.transition(A).call(tt),c.length&&d3.transition(N).call(et),d.length&&d3.transition(E).call(nt),h.length&&d3.transition(D).call(rt),ut._ticks(gt.utils.calcTicksX(s/100,n)).tickSize(-u,0),k.select(".nv-x.nv-axis").attr("transform","translate(0,"+u+")"),d3.transition(k.select(".nv-x.nv-axis")).call(ut),lt._ticks(gt.utils.calcTicksY(u/36,n)).tickSize(-s,0),d3.transition(k.select(".nv-y1.nv-axis")).call(lt),ct._ticks(gt.utils.calcTicksY(u/36,n)).tickSize(-s,0),d3.transition(k.select(".nv-y2.nv-axis")).call(ct),k.select(".nv-y1.nv-axis").classed("nv-disabled",!y.length).attr("transform","translate("+Z.range()[0]+",0)"),k.select(".nv-y2.nv-axis").classed("nv-disabled",!b.length).attr("transform","translate("+Z.range()[1]+",0)"),ft.dispatch.on("stateChange",function(){O.update()}),K&&(Y.width(s).height(u).margin({left:$.left,top:$.top}).svgContainer(a).xScale(Z),x.select(".nv-interactive").call(Y)),K?(Y.dispatch.on("elementMousemove",function(a){o();var s,u,l,c=[];n.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=Z.domain(),r=t.values.filter(function(t,e){return O.x()(t,e)>=n[0]&&O.x()(t,e)<=n[1]}),i=r[u=gt.interactiveBisect(r,a.pointXValue,O.x())],o=O.y()(i,u);null!==o&&f(e,u,!0),i!==undefined&&(s===undefined&&(s=i),l===undefined&&(l=Z(O.x()(i,u))),c.push({key:t.key,value:o,color:W(t,t.seriesIndex),data:i,yAxis:2==t.yAxis?ct:lt}))});var t=function(t,e){var n=c[e].yAxis;return null==t?"N/A":n.tickFormat()(t)};Y.tooltip.headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(Y.tooltip.valueFormatter()||t).data({value:O.x()(s,u),index:u,series:c})(),Y.renderGuideLine(l)}),Y.dispatch.on("elementMouseout",function(){o()})):(tt.dispatch.on("elementMouseover.tooltip",t),et.dispatch.on("elementMouseover.tooltip",t),tt.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),et.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),nt.dispatch.on("elementMouseover.tooltip",e),rt.dispatch.on("elementMouseover.tooltip",e),nt.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),rt.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),at.dispatch.on("elementMouseover.tooltip",r),st.dispatch.on("elementMouseover.tooltip",r),at.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),st.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),it.dispatch.on("elementMouseover.tooltip",i),ot.dispatch.on("elementMouseover.tooltip",i),it.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),ot.dispatch.on("elementMouseout.tooltip",function(){dt.hidden(!0)}),it.dispatch.on("elementMousemove.tooltip",function(){dt()}),ot.dispatch.on("elementMousemove.tooltip",function(){dt()}))}),O}var P,H,$={top:30,right:20,bottom:50,left:60},B=null,W=gt.utils.defaultColor(),j=null,q=null,z=!0,e=null,V=function(t){return t.x},U=function(t){return t.y},X="linear",n=!0,Y=gt.interactiveGuideline(),K=!1,G=" (right axis)",r=250,Z=d3.scale.linear(),J=d3.scale.linear(),Q=d3.scale.linear(),tt=gt.models.line().yScale(J).duration(r),et=gt.models.line().yScale(Q).duration(r),nt=gt.models.scatter().yScale(J).duration(r),rt=gt.models.scatter().yScale(Q).duration(r),it=gt.models.multiBar().stacked(!1).yScale(J).duration(r),ot=gt.models.multiBar().stacked(!1).yScale(Q).duration(r),at=gt.models.stackedArea().yScale(J).duration(r),st=gt.models.stackedArea().yScale(Q).duration(r),ut=gt.models.axis().scale(Z).orient("bottom").tickPadding(5).duration(r),lt=gt.models.axis().scale(J).orient("left").duration(r),ct=gt.models.axis().scale(Q).orient("right").duration(r),ft=gt.models.legend().height(30),dt=gt.models.tooltip(),t=d3.dispatch(),ht=[tt,et,nt,rt,it,ot,at,st];return O.dispatch=t,O.legend=ft,O.lines1=tt,O.lines2=et,O.scatters1=nt,O.scatters2=rt,O.bars1=it,O.bars2=ot,O.stack1=at,O.stack2=st,O.xAxis=ut,O.yAxis1=lt,O.yAxis2=ct,O.tooltip=dt,O.interactiveLayer=Y,O.options=gt.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return j},set:function(t){j=t}},height:{get:function(){return q},set:function(t){q=t}},showLegend:{get:function(){return z},set:function(t){z=t}},yDomain1:{get:function(){return P},set:function(t){P=t}},yDomain2:{get:function(){return H},set:function(t){H=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return X},set:function(t){X=t}},legendRightAxisHint:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return $},set:function(t){t.top!==undefined&&($.top=t.top,B=t.top),$.right=t.right!==undefined?t.right:$.right,$.bottom=t.bottom!==undefined?t.bottom:$.bottom,$.left=t.left!==undefined?t.left:$.left}},color:{get:function(){return W},set:function(t){W=gt.utils.getColor(t)}},x:{get:function(){return V},set:function(t){V=t,tt.x(t),et.x(t),nt.x(t),rt.x(t),it.x(t),ot.x(t),at.x(t),st.x(t)}},y:{get:function(){return U},set:function(t){U=t,tt.y(t),et.y(t),nt.y(t),rt.y(t),at.y(t),st.y(t),it.y(t),ot.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,tt.useVoronoi(t),et.useVoronoi(t),at.useVoronoi(t),st.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return K},set:function(t){(K=t)&&(tt.interactive(!1),tt.useVoronoi(!1),et.interactive(!1),et.useVoronoi(!1),at.interactive(!1),at.useVoronoi(!1),st.interactive(!1),st.useVoronoi(!1),nt.interactive(!1),rt.interactive(!1))}},duration:{get:function(){return r},set:function(t){r=t,[tt,et,at,st,nt,rt,ut,lt,ct].forEach(function(t){t.duration(r)})}}}),gt.utils.initOptions(O),O},gt.models.ohlcBar=function(){"use strict";function n(t){return t.each(function(r){y=d3.select(this);var i=gt.utils.availableWidth(g,y,p),t=gt.utils.availableHeight(m,y,p);gt.utils.initSVG(y);var n=i/r[0].values.length*.9;b.domain(c||d3.extent(r[0].values.map(w).concat(E))),T?b.range(d||[.5*i/r[0].values.length,i*(r[0].values.length-.5)/r[0].values.length]):b.range(d||[5+n/2,i-n/2-5]),x.domain(f||[d3.min(r[0].values.map(A).concat(_)),d3.max(r[0].values.map(M).concat(_))]).range(h||[t,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),o=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=o.append("defs"),s=o.append("g"),u=e.select("g");s.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+p.left+","+p.top+")"),y.on("click",function(t,e){L.chartClick({data:t,index:e,pos:d3.event,id:v})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",i).attr("height",t),u.attr("clip-path",N?"url(#nv-chart-clip-path-"+v+")":"");var l=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});l.exit().remove(),l.enter().append("path").attr("class",function(t,e,n){return(S(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(x(S(t,e))-x(M(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(x(A(t,e))-x(S(t,e)))+"l0,"+(x(C(t,e))-x(A(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+b(w(t,e))+","+x(M(t,e))+")"}).attr("fill",function(){return D[0]}).attr("stroke",function(){return D[0]}).attr("x",0).attr("y",function(t,e){return x(Math.max(0,k(t,e)))}).attr("height",function(t,e){return Math.abs(x(k(t,e))-x(0))}),l.attr("class",function(t,e,n){return(S(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(l).attr("transform",function(t,e){return"translate("+b(w(t,e))+","+x(M(t,e))+")"}).attr("d",function(t,e){var n=i/r[0].values.length*.9;return"m0,0l0,"+(x(S(t,e))-x(M(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(x(A(t,e))-x(S(t,e)))+"l0,"+(x(C(t,e))-x(A(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}var c,f,d,h,p={top:0,right:0,bottom:0,left:0},g=null,m=null,v=Math.floor(1e4*Math.random()),y=null,b=d3.scale.linear(),x=d3.scale.linear(),w=function(t){return t.x},k=function(t){return t.y},S=function(t){return t.open},C=function(t){return t.close},M=function(t){return t.high},A=function(t){return t.low},E=[],_=[],T=!1,N=!0,D=gt.utils.defaultColor(),e=!1,L=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return n.highlightPoint=function(t,e){n.clearHighlights(),y.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){y.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=L,n.options=gt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return h},set:function(t){h=t}},forceX:{get:function(){return E},set:function(t){E=t}},forceY:{get:function(){return _},set:function(t){_=t}},padData:{get:function(){return T},set:function(t){T=t}},clipEdge:{get:function(){return N},set:function(t){N=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return k},set:function(t){k=t}},open:{get:function(){return S()},set:function(t){S=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return M},set:function(t){M=t}},low:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return p},set:function(t){p.top=t.top!=undefined?t.top:p.top,p.right=t.right!=undefined?t.right:p.right,p.bottom=t.bottom!=undefined?t.bottom:p.bottom,p.left=t.left!=undefined?t.left:p.left}},color:{get:function(){return D},set:function(t){D=gt.utils.getColor(t)}}}),gt.utils.initOptions(n),n},gt.models.parallelCoordinates=function(){"use strict";function e(t){return n.reset(),t.each(function(t){function e(o){return G(W.map(function(t){if(isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key]))||g){var e=H[t.key].domain(),n=H[t.key].range(),r=e[0]-(e[1]-e[0])/9;if(Y.indexOf(t.key)<0){var i=d3.scale.linear().domain([r,e[1]]).range([O-12,n[1]]);H[t.key].brush.y(i),Y.push(t.key)}if(isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key])))return[P(t.key),H[t.key](r)]}return x!==undefined&&(0<Y.length||g?(x.style("display","inline"),w.style("display","inline")):(x.style("display","none"),w.style("display","none"))),[P(t.key),H[t.key](o.values[t.key])]}))}function n(n){V.forEach(function(t){var e=H[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(H[t.dimension].domain()[1]-e[0])*(t.extent[1]-t.extent[0])/(p[t.dimension]-t.extent[0])+e[0]),t.hasNaN&&(t.extent[0]=e[0]),n&&H[t.dimension].brush.extent(t.extent)}),D.select(".nv-brushBackground").each(function(t){d3.select(this).call(H[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),r()}function a(){!1===q&&n(q=!0)}function s(){A=j.filter(function(t){return!H[t].brush.empty()}),E=A.map(function(t){return H[t].brush.extent()}),V=[],A.forEach(function(t,e){V[e]={dimension:t,extent:E[e],hasNaN:!1,hasOnlyNaN:!1}}),U=[],T.style("display",function(n){var t=A.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||E[e][0]!=H[t].brush.y().domain()[0])||E[e][0]<=n.values[t]&&n.values[t]<=E[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&U.push(n),t?null:"none"}),r(),J.brush({filters:V,active:U})}function u(){var t=0<A.length;V.forEach(function(t){t.extent[0]===H[t.dimension].brush.y().domain()[0]&&0<=Y.indexOf(t.dimension)&&(t.hasNaN=!0),t.extent[1]<H[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),J.brushEnd(U,t)}function r(){D.select(".nv-axis").each(function(e){var t=V.filter(function(t){return t.dimension==e.key});m[e.key]=H[e.key].domain(),0!=t.length&&q&&(m[e.key]=[],t[0].extent[1]>H[e.key].domain()[0]&&(m[e.key]=[t[0].extent[1]]),t[0].extent[0]>=H[e.key].domain()[0]&&m[e.key].push(t[0].extent[0])),d3.select(this).call(Z.scale(H[e.key]).tickFormat(e.format).tickValues(m[e.key]))})}function i(t){X[t.key]=this.parentNode.__origin__=P(t.key),N.attr("visibility","hidden")}function o(t){X[t.key]=Math.min(F,Math.max(0,this.parentNode.__origin__+=d3.event.x)),T.attr("d",e),W.sort(function(t,e){return c(t.key)-c(e.key)}),W.forEach(function(t,e){return t.currentPosition=e}),P.domain(W.map(function(t){return t.key})),D.attr("transform",function(t){return"translate("+c(t.key)+")"})}function l(t){delete this.parentNode.__origin__,delete X[t.key],d3.select(this.parentNode).attr("transform","translate("+P(t.key)+")"),T.attr("d",e),N.attr("d",e).attr("visibility",null),J.dimensionsOrder(W)}function c(t){var e=X[t];return null==e?P(t):e}var f=d3.select(this);if(F=gt.utils.availableWidth(R,f,L),O=gt.utils.availableHeight(I,f,L),gt.utils.initSVG(f),t[0].values===undefined){var d=[];t.forEach(function(e){var n={};Object.keys(e).forEach(function(t){"name"!==t&&(n[t]=e[t])}),d.push({key:e.name,values:n})}),t=d}var h=t.map(function(t){return t.values});0===U.length&&(U=t),j=B.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),W=B.filter(function(t){return!t.disabled}),P.rangePoints([0,F],1).domain(W.map(function(t){return t.key}));var p={},g=!1,m=[];j.forEach(function(e){var t=d3.extent(h,function(t){return+t[e]}),n=t[0],r=t[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,r=n=0),n===r&&(n-=1,r+=1);var o=V.filter(function(t){return t.dimension==e});0!==o.length&&(i?(n=H[e].domain()[0],r=H[e].domain()[1]):!o[0].hasOnlyNaN&&q?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,p[e]=H[e].domain()[1],g=!0)),H[e]=d3.scale.linear().domain([n,r]).range([.9*(O-12),0]),Y=[],H[e].brush=d3.svg.brush().y(H[e]).on("brushstart",a).on("brush",s).on("brushend",u)});var v=f.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),b=v.select("g");y.append("g").attr("class","nv-parallelCoordinates background"),y.append("g").attr("class","nv-parallelCoordinates foreground"),y.append("g").attr("class","nv-parallelCoordinates missingValuesline"),v.attr("transform","translate("+L.left+","+L.top+")"),G.interpolate("cardinal").tension(K),Z.orient("left");var x,w,k=d3.behavior.drag().on("dragstart",i).on("drag",o).on("dragend",l),S=P.range()[1]-P.range()[0];if(S=isNaN(S)?P.range()[0]:S,!isNaN(S)){var C=[0+S/2,O-12,F-S/2,O-12];(x=v.select(".missingValuesline").selectAll("line").data([C])).enter().append("line"),x.exit().remove(),x.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(w=v.select(".missingValuesline").selectAll("text").data([$])).append("text").data([$]),w.enter().append("text"),w.exit().remove(),w.attr("y",O).attr("x",F-92-S/2).text(function(t){return t})}(N=v.select(".background").selectAll("path").data(t)).enter().append("path"),N.exit().remove(),N.attr("d",e),(T=v.select(".foreground").selectAll("path").data(t)).enter().append("path"),T.exit().remove(),T.attr("d",e).style("stroke-width",function(t){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||z(t,e)}),T.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),J.elementMouseover({label:t.name,color:t.color||z(t,e),values:t.values,dimensions:W})}),T.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),J.elementMouseout({label:t.name,index:e})}),T.on("mousemove",function(){J.elementMousemove()}),T.on("click",function(t){J.elementClick({id:t.id})});var M=(D=b.selectAll(".dimension").data(W)).enter().append("g").attr("class","nv-parallelCoordinates dimension");D.attr("transform",function(t){return"translate("+P(t.key)+",0)"}),M.append("g").attr("class","nv-axis"),M.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t){J.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t){J.elementMouseout({label:t.tooltip})}).on("mousemove",function(){J.elementMousemove()}).call(k),M.append("g").attr("class","nv-brushBackground"),D.exit().remove(),D.select(".nv-label").text(function(t){return t.key}),n(q);var A=j.filter(function(t){return!H[t].brush.empty()}),E=A.map(function(t){return H[t].brush.extent()}),_=U.slice(0);U=[],T.style("display",function(n){var t=A.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||E[e][0]!=H[t].brush.y().domain()[0])||E[e][0]<=n.values[t]&&n.values[t]<=E[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&U.push(n),t?null:"none"}),(0<V.length||!gt.utils.arrayEquals(U,_))&&J.activeChanged(U)}),e}var T,N,D,L={top:30,right:0,bottom:10,left:0},R=null,I=null,F=null,O=null,P=d3.scale.ordinal(),H={},$="undefined values",B=[],W=[],j=[],q=!0,z=gt.utils.defaultColor(),V=[],U=[],X=[],Y=[],K=1,G=d3.svg.line(),Z=d3.svg.axis(),J=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),n=gt.utils.renderWatch(J);return e.dispatch=J,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return R},set:function(t){R=t}},height:{get:function(){return I},set:function(t){I=t}},dimensionData:{get:function(){return B},set:function(t){B=t}},displayBrush:{get:function(){return q},set:function(t){q=t}},filters:{get:function(){return V},set:function(t){V=t}},active:{get:function(){return U},set:function(t){U=t}},lineTension:{get:function(){return K},set:function(t){K=t}},undefinedValuesLabel:{get:function(){return $},set:function(t){$=t}},dimensions:{get:function(){return B.map(function(t){return t.key})},set:function(t){gt.deprecated("dimensions","use dimensionData instead"),0===B.length?t.forEach(function(t){B.push({key:t})}):t.forEach(function(t,e){B[e].key=t})}},dimensionNames:{get:function(){return B.map(function(t){return t.key})},set:function(t){gt.deprecated("dimensionNames","use dimensionData instead"),j=[],0===B.length?t.forEach(function(t){B.push({key:t})}):t.forEach(function(t,e){B[e].key=t})}},dimensionFormats:{get:function(){return B.map(function(t){return t.format})},set:function(t){gt.deprecated("dimensionFormats","use dimensionData instead"),0===B.length?t.forEach(function(t){B.push({format:t})}):t.forEach(function(t,e){B[e].format=t})}},margin:{get:function(){return L},set:function(t){L.top=t.top!==undefined?t.top:L.top,L.right=t.right!==undefined?t.right:L.right,L.bottom=t.bottom!==undefined?t.bottom:L.bottom,L.left=t.left!==undefined?t.left:L.left}},color:{get:function(){return z},set:function(t){z=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.parallelCoordinatesChart=function(){"use strict";function u(t){return r.reset(),r.models(l),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n,r=gt.utils.availableWidth(h,e,f),i=gt.utils.availableHeight(p,e,f);if(u.update=function(){e.call(u)},u.container=this,m.setter(k(v),u.update).getter(w(v)).update(),m.disabled=v.map(function(t){return!!t.disabled}),(v=v.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!b)for(n in b={},m)m[n]instanceof Array?b[n]=m[n].slice(0):b[n]=m[n];if(!t||!t.length)return gt.utils.noData(u,e),u;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),s=o.select("g");a.append("g").attr("class","nv-parallelCoordinatesWrap"),a.append("g").attr("class","nv-legendWrap"),s.select("rect").attr("width",r).attr("height",0<i?i:0),g?(c.width(r).color(function(){return"rgb(188,190,192)"}),s.select(".nv-legendWrap").datum(v.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(c),d||c.height()===f.top||(f.top=c.height(),i=gt.utils.availableHeight(p,e,f)),o.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+f.left+","+f.top+")"),l.width(r).height(i).dimensionData(v).displayBrush(y),s.select(".nv-parallelCoordinatesWrap ").datum(t).transition().call(l),l.dispatch.on("brushEnd",function(t,e){e?(y=!0,x.brushEnd(t)):y=!1}),c.dispatch.on("stateChange",function(t){for(var e in t)m[e]=t[e];x.stateChange(m),u.update()}),l.dispatch.on("dimensionsOrder",function(){v.sort(function(t,e){return t.currentPosition-e.currentPosition});var n=!1;v.forEach(function(t,e){t.currentPosition=e,t.currentPosition!==t.originalPosition&&(n=!0)}),x.dimensionsOrder(v,n)}),x.on("changeState",function(n){"undefined"!=typeof n.disabled&&(v.forEach(function(t,e){t.disabled=n.disabled[e]}),m.disabled=n.disabled),u.update()})}),r.renderEnd("parraleleCoordinateChart immediate"),u}var l=gt.models.parallelCoordinates(),c=gt.models.legend(),t=gt.models.tooltip(),f=(gt.models.tooltip(),{top:0,right:0,bottom:0,left:0}),d=null,h=null,p=null,g=!0,e=gt.utils.defaultColor(),m=gt.utils.state(),v=[],y=!0,b=null,n=null,o="undefined",x=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState"
,"renderEnd"),r=gt.utils.renderWatch(x),w=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},k=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return t.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),l.dispatch.on("elementMouseover.tooltip",function(r){var i={key:r.label,color:r.color,series:[]};r.values&&(Object.keys(r.values).forEach(function(e){var t,n=r.dimensions.filter(function(t){return t.key===e})[0];n&&(t=isNaN(r.values[e])||isNaN(parseFloat(r.values[e]))?o:n.format(r.values[e]),i.series.push({idx:n.currentPosition,key:e,value:t,color:n.color}))}),i.series.sort(function(t,e){return t.idx-e.idx})),t.data(i).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(){t.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(){t()}),u.dispatch=x,u.parallelCoordinates=l,u.legend=c,u.tooltip=t,u.options=gt.utils.optionsFunc.bind(u),u._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},defaultState:{get:function(){return b},set:function(t){b=t}},dimensionData:{get:function(){return v},set:function(t){v=t}},displayBrush:{get:function(){return y},set:function(t){y=t}},noData:{get:function(){return n},set:function(t){n=t}},nanValue:{get:function(){return o},set:function(t){o=t}},margin:{get:function(){return f},set:function(t){t.top!==undefined&&(f.top=t.top,d=t.top),f.right=t.right!==undefined?t.right:f.right,f.bottom=t.bottom!==undefined?t.bottom:f.bottom,f.left=t.left!==undefined?t.left:f.left}},color:{get:function(){return e},set:function(t){e=gt.utils.getColor(t),c.color(e),l.color(e)}}}),gt.utils.inheritOptions(u,l),gt.utils.initOptions(u),u},gt.models.pie=function(){"use strict";function e(t){return et.reset(),t.each(function(t){function e(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,B||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return Q[e](n(t))}}var n=E-A.left-A.right,r=_-A.top-A.bottom,a=Math.min(n,r)/2,s=[],i=[];if(L=d3.select(this),0===Z.length)for(var o=a-a/10,u=K*a,l=0;l<t[0].length;l++)s.push(o),i.push(u);else j?(s=Z.map(function(t){return(t.outer-t.outer/10)*a}),i=Z.map(function(t){return(t.inner-t.inner/10)*a}),K=d3.min(Z.map(function(t){return t.inner-t.inner/10}))):(s=Z.map(function(t){return t.outer*a}),i=Z.map(function(t){return t.inner*a}),K=d3.min(Z.map(function(t){return t.inner})));gt.utils.initSVG(L);var c=L.selectAll(".nv-wrap.nv-pie").data(t),f=c.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+D).append("g"),d=c.select("g"),h=f.append("g").attr("class","nv-pie");f.append("g").attr("class","nv-pieLabels"),c.attr("transform","translate("+A.left+","+A.top+")"),d.select(".nv-pie").attr("transform","translate("+n/2+","+r/2+")"),d.select(".nv-pieLabels").attr("transform","translate("+n/2+","+r/2+")"),L.on("click",function(t,e){J.chartClick({data:t,index:e,pos:d3.event,id:D})}),Q=[],tt=[];for(l=0;l<t[0].length;l++){var p=d3.svg.arc().outerRadius(s[l]),g=d3.svg.arc().outerRadius(s[l]+5);!1!==V&&(p.startAngle(V),g.startAngle(V)),!1!==X&&(p.endAngle(X),g.endAngle(X)),B&&(p.innerRadius(i[l]),g.innerRadius(i[l])),p.cornerRadius&&Y&&(p.cornerRadius(Y),g.cornerRadius(Y)),Q.push(p),tt.push(g)}var m=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:N(t)});m.padAngle&&U&&m.padAngle(U),B&&W&&(h.append("text").attr("class","nv-pie-title"),c.select(".nv-pie-title").style("text-anchor","middle").text(function(){return W}).style("font-size",Math.min(n,r)*K*2/(W.length+2)+"px").attr("dy","0.35em").attr("transform",function(){return"translate(0, "+q+")"}));var v=c.select(".nv-pie").selectAll(".nv-slice").data(m),y=c.select(".nv-pieLabels").selectAll(".nv-label").data(m);v.exit().remove(),y.exit().remove();var b=v.enter().append("g");b.attr("class","nv-slice"),b.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),j&&d3.select(this).select("path").transition().duration(70).attr("d",tt[e]),J.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),b.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),j&&d3.select(this).select("path").transition().duration(50).attr("d",Q[e]),J.elementMouseout({data:t.data,index:e})}),b.on("mousemove",function(t,e){J.elementMousemove({data:t.data,index:e})}),b.on("click",function(t,e){var n=this;J.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:n})}),b.on("dblclick",function(t,e){J.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),v.attr("fill",function(t,e){return R(t.data,e)}),v.attr("stroke",function(t,e){return R(t.data,e)});b.append("path").each(function(t){this._current=t});if(v.select("path").transition().duration(G).attr("d",function(t,e){return Q[e](t)}).attrTween("d",e),F){var x=[];for(l=0;l<t[0].length;l++)x.push(Q[l]),O?B&&(x[l]=d3.svg.arc().outerRadius(Q[l].outerRadius()),!1!==V&&x[l].startAngle(V),!1!==X&&x[l].endAngle(X)):B||x[l].innerRadius(0);y.enter().append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t,e){if(z){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=a+10,t.innerRadius=a+15,"translate("+x[e].centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",z?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var w={},k=14,S=140,C=function(t){return Math.floor(t[0]/S)*S+","+Math.floor(t[1]/k)*k},M=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};y.watchTransition(et,"pie labels").attr("transform",function(t,e){if(z){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}t.outerRadius=a+10,t.innerRadius=a+15;var r=x[e].centroid(t),i=M(t);if(t.value&&H<=i){var o=C(r);w[o]&&(r[1]-=k),w[C(r)]=!0}return"translate("+r+")"}),y.select(".nv-label text").style("text-anchor",function(t){return z?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=M(t),r="";if(!t.value||n<H)return"";if("function"==typeof P)r=P(t,e,{key:T(t.data),value:N(t.data),percent:I(n)});else switch(P){case"key":r=T(t.data);break;case"value":r=I(N(t.data));break;case"percent":r=d3.format("%")(n)}return r}),$&&y.each(function(t,e){if(this.getBBox){var n=this.getBBox(),r=x[e].centroid(t),i={x:r[0]+n.x,y:r[1]+n.y},o={x:i.x+n.width,y:i.y},a={x:i.x,y:i.y+n.height},s={x:i.x+n.width,y:i.y+n.height};t.visible=gt.utils.pointIsInArc(i,t,p)&&gt.utils.pointIsInArc(o,t,p)&&gt.utils.pointIsInArc(a,t,p)&&gt.utils.pointIsInArc(s,t,p)}}).style("display",function(t){return t.visible?null:"none"})}}),et.renderEnd("pie immediate"),e}var A={top:0,right:0,bottom:0,left:0},E=500,_=500,T=function(t){return t.x},N=function(t){return t.y},D=Math.floor(1e4*Math.random()),L=null,R=gt.utils.defaultColor(),I=d3.format(",.2f"),F=!0,O=!1,P="key",H=.02,$=!1,B=!1,W=!1,j=!0,q=0,z=!1,V=!1,U=!1,X=!1,Y=0,K=.5,G=250,Z=[],J=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),Q=[],tt=[],et=gt.utils.renderWatch(J);return e.dispatch=J,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return Z},set:function(t){Z=t}},width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return _},set:function(t){_=t}},showLabels:{get:function(){return F},set:function(t){F=t}},title:{get:function(){return W},set:function(t){W=t}},titleOffset:{get:function(){return q},set:function(t){q=t}},labelThreshold:{get:function(){return H},set:function(t){H=t}},hideOverlapLabels:{get:function(){return $},set:function(t){$=t}},valueFormat:{get:function(){return I},set:function(t){I=t}},x:{get:function(){return T},set:function(t){T=t}},id:{get:function(){return D},set:function(t){D=t}},endAngle:{get:function(){return X},set:function(t){X=t}},startAngle:{get:function(){return V},set:function(t){V=t}},padAngle:{get:function(){return U},set:function(t){U=t}},cornerRadius:{get:function(){return Y},set:function(t){Y=t}},donutRatio:{get:function(){return K},set:function(t){K=t}},labelsOutside:{get:function(){return O},set:function(t){O=t}},labelSunbeamLayout:{get:function(){return z},set:function(t){z=t}},donut:{get:function(){return B},set:function(t){B=t}},growOnHover:{get:function(){return j},set:function(t){j=t}},pieLabelsOutside:{get:function(){return O},set:function(t){O=t,gt.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return O},set:function(t){O=t,gt.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return I},set:function(t){I=t,gt.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return A},set:function(t){A.top="undefined"!=typeof t.top?t.top:A.top,A.right="undefined"!=typeof t.right?t.right:A.right,A.bottom="undefined"!=typeof t.bottom?t.bottom:A.bottom,A.left="undefined"!=typeof t.left?t.left:A.left}},duration:{get:function(){return G},set:function(t){G=t,et.reset(G)}},y:{get:function(){return N},set:function(t){N=d3.functor(t)}},color:{get:function(){return R},set:function(t){R=gt.utils.getColor(t)}},labelType:{get:function(){return P},set:function(t){P=t||"key"}}}),gt.utils.initOptions(e),e},gt.models.pieChart=function(){"use strict";function c(t){return a.reset(),a.models(f),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n,r=gt.utils.availableWidth(g,e,h),i=gt.utils.availableHeight(m,e,h);if(c.update=function(){e.transition().call(c)},c.container=this,b.setter(S(t),c.update).getter(k(t)).update(),b.disabled=t.map(function(t){return!!t.disabled}),!x)for(n in x={},b)b[n]instanceof Array?x[n]=b[n].slice(0):x[n]=b[n];if(!t||!t.length)return gt.utils.noData(c,e),c;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),s=o.select("g");if(a.append("g").attr("class","nv-pieWrap"),a.append("g").attr("class","nv-legendWrap"),v)if("top"===y)d.width(r).key(f.x()),o.select(".nv-legendWrap").datum(t).call(d),p||d.height()===h.top||(h.top=d.height(),i=gt.utils.availableHeight(m,e,h)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")");else if("right"===y){var u=gt.models.legend().width();r/2<u&&(u=r/2),d.height(i).key(f.x()),d.width(u),r-=d.width(),o.select(".nv-legendWrap").datum(t).call(d).attr("transform","translate("+r+",0)")}else"bottom"===y&&(d.width(r).key(f.x()),o.select(".nv-legendWrap").datum(t).call(d),h.bottom=d.height(),i=gt.utils.availableHeight(m,e,h),o.select(".nv-legendWrap").attr("transform","translate(0,"+i+")"));else s.select(".nv-legendWrap").selectAll("*").remove();o.attr("transform","translate("+h.left+","+h.top+")"),f.width(r).height(i);var l=s.select(".nv-pieWrap").datum([t]);d3.transition(l).call(f),d.dispatch.on("stateChange",function(t){for(var e in t)b[e]=t[e];w.stateChange(b),c.update()}),w.on("changeState",function(n){"undefined"!=typeof n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),b.disabled=n.disabled),c.update()})}),a.renderEnd("pieChart immediate"),c}var f=gt.models.pie(),d=gt.models.legend(),e=gt.models.tooltip(),h={top:30,right:20,bottom:20,left:20},p=null,g=null,m=null,n=!1,v=!0,y="top",r=gt.utils.defaultColor(),b=gt.utils.state(),x=null,i=null,o=250,w=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return f.valueFormat()(t,e)});var a=gt.utils.renderWatch(w),k=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},S=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return f.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:c.x()(t.data),value:c.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(){e()}),c.legend=d,c.dispatch=w,c.pie=f,c.tooltip=e,c.options=gt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return i},set:function(t){i=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return x},set:function(t){x=t}},color:{get:function(){return r},set:function(t){r=t,d.color(r),f.color(r)}},duration:{get:function(){return o},set:function(t){o=t,a.reset(o),f.duration(o)}},margin:{get:function(){return h},set:function(t){t.top!==undefined&&(h.top=t.top,p=t.top),h.right=t.right!==undefined?t.right:h.right,h.bottom=t.bottom!==undefined?t.bottom:h.bottom,h.left=t.left!==undefined?t.left:h.left}}}),gt.utils.inheritOptions(c,f),gt.utils.initOptions(c),c},gt.models.sankey=function(){"use strict";function e(){d.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),h.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=d[t.source]),"number"==typeof n&&(n=t.target=d[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function n(){d.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,l),d3.sum(t.targetLinks,l))})}function r(){for(var e,t=d,n=0;t.length&&n<d.length;)e=[],t.forEach(function(t){t.x=n,t.dx=s,t.sourceLinks.forEach(function(t){e.indexOf(t.target)<0&&e.push(t.target)})}),t=e,++n;p&&i(n),o((f[0]-s)/(n-1))}function i(e){d.forEach(function(t){t.sourceLinks.length||(t.x=e-1)})}function o(e){d.forEach(function(t){t.x*=e})}function a(t){function e(){var n=d3.min(o,function(t){return(f[1]-(t.length-1)*c)/d3.sum(t,l)});o.forEach(function(t){t.forEach(function(t,e){t.y=e,t.dy=t.value*n})}),h.forEach(function(t){t.dy=t.value*n})}function n(n){function r(t){return(t.source.y+t.sy+t.dy/2)*t.value}o.forEach(function(t){t.forEach(function(t){if(t.targetLinks.length){var e=d3.sum(t.targetLinks,r)/d3.sum(t.targetLinks,l);t.y+=(e-y(t))*n}})})}function r(n){function r(t){return(t.target.y+t.ty+t.dy/2)*t.value}o.slice().reverse().forEach(function(t){t.forEach(function(t){if(t.sourceLinks.length){var e=d3.sum(t.sourceLinks,r)/d3.sum(t.sourceLinks,l);t.y+=(e-y(t))*n}})})}function i(){o.forEach(function(t){var e,n,r,i=0,o=t.length;for(t.sort(a),r=0;r<o;++r)0<(n=i-(e=t[r]).y)&&(e.y+=n),i=e.y+e.dy+c;if(0<(n=i-c-f[1]))for(i=e.y-=n,r=o-2;0<=r;--r)0<(n=(e=t[r]).y+e.dy+c-i)&&(e.y-=n),i=e.y})}function a(t,e){return t.y-e.y}var o=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(d).map(function(t){return t.values});e(),i(),u();for(var s=1;0<t;--t)r(s*=.99),i(),u(),n(s),i(),u()}function u(){function e(t,e){return t.source.y-e.source.y}function n(t,e){return t.target.y-e.target.y}d.forEach(function(t){t.sourceLinks.sort(n),t.targetLinks.sort(e)}),d.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function l(t){return t.value}var t={},s=24,c=8,f=[1,1],d=[],h=[],p=!0,g=function(t){e(),n(),r(),a(t)},m=function(){u()},v=function(){function e(t){var e=t.source.x+t.source.dx,n=t.target.x,r=d3.interpolateNumber(e,n),i=r(u),o=r(1-u),a=t.source.y+t.sy+t.dy/2,s=t.target.y+t.ty+t.dy/2;return"M"+e+","+a+"C"+i+","+a+" "+o+","+s+" "+n+","+s}var u=.5;return e.curvature=function(t){return arguments.length?(u=+t,e):u},e},y=function(t){return t.y+t.dy/2};return t.options=gt.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return s},set:function(t){s=+t}},nodePadding:{get:function(){return c},set:function(t){c=t}},nodes:{get:function(){return d},set:function(t){d=t}},links:{get:function(){return h},set:function(t){h=t}},size:{get:function(){return f},set:function(t){f=t}},sinksRight:{get:function(){return p},set:function(t){p=t}},layout:{get:function(){g(32)},set:function(t){g(t)}},relayout:{get:function(){m()},set:function(){}},center:{get:function(){return y()},set:function(t){"function"==typeof t&&(y=t)}},link:{get:function(){return v()},set:function(t){return"function"==typeof t&&(v=t),v()}}}),gt.utils.initOptions(t),t},gt.models.sankeyChart=function(){"use strict";function t(l){return l.each(function(t){function e(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(d-t.dy,d3.event.y)))+")"),c.relayout(),s.attr("d",a)}var n={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},r=!1,i=!1;if(0<=("object"==typeof t.nodes&&t.nodes.length)&&0<=("object"==typeof t.links&&t.links.length)&&(r=!0),t.nodes&&0<t.nodes.length&&t.links&&0<t.links.length&&(i=!0),!r)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",n,JSON.stringify(n)),x(l,"Error loading chart, data is invalid"),!1;if(!i)return x(l,"No data available"),!1;var o=l.append("svg").attr("width",f).attr("height",d).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");c.nodeWidth(h).nodePadding(p).size([f,d]);var a=c.link();c.nodes(t.nodes).links(t.links).layout(32).center(g);var s=o.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",a).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});s.append("title").text(m);var u=o.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",e));u.append("rect").attr("height",function(t){return t.dy}).attr("width",c.nodeWidth()).style("fill",v).style("stroke",y).append("title").text(b),u.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<f/2}).attr("x",6+c.nodeWidth()).attr("text-anchor","start")}),t}var e={top:5,right:0,bottom:5,left:0},c=gt.models.sankey(),f=600,d=400,h=36,p=40,n="units",g=undefined,r=d3.format(",.0f"),i=function(t){return r(t)+" "+n},o=d3.scale.category20(),m=function(t){return t.source.name+" \u2192 "+t.target.name+"\n"+i(t.value)},v=function(t){return t.color=o(t.name.replace(/ .*/,""))},y=function(t){return d3.rgb(t.color).darker(2)},b=function(t){return t.name+"\n"+i(t.value)},x=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};return t.options=gt.utils.optionsFunc.bind(t),t._options=Object.create({},{units:{get:function(){return n},set:function(t){n=t}},width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},format:{get:function(){return i},set:function(t){i=t}},linkTitle:{get:function(){return m},set:function(t){m=t}},nodeWidth:{get:function(){return h},set:function(t){h=t}},nodePadding:{get:function(){return p},set:function(t){p=t}},center:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return e},set:function(t){e.top=t.top!==undefined?t.top:e.top,e.right=t.right!==undefined?t.right:e.right,e.bottom=t.bottom!==undefined?t.bottom:e.bottom,e.left=t.left!==undefined?t.left:e.left}},nodeStyle:{get:function(){return{}},set:function(t){v=t.fillColor!==undefined?t.fillColor:v,y=t.strokeColor!==undefined?t.strokeColor:y,b=t.title!==undefined?t.title:b}}}),gt.utils.initOptions(t),t},gt.models.scatter=function(){"use strict";function a(t){var e;return e=t[0].series+":"+t[1],n[e]=n[e]||{}}function y(t){var e;e=t[0].series+":"+t[1],delete n[e]}function b(t){var e,n,r,i=a(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,o=!0);return o}function x(t){return dt.reset(),t.each(function(u){function t(){if(ft=!1,!U)return!1;if(!0===ut){c.select(".nv-point-paths").selectAll("path").remove();var n=d3.merge(u.map(function(t,i){return t.values.map(function(t,e){var n=$(t,e),r=B(t,e);return[gt.utils.NaNtoZero(O(n))+1e-4*Math.random(),gt.utils.NaNtoZero(P(r))+1e-4*Math.random(),i,e,t]}).filter(function(t,e){return X(t[4],e)})}));if(0==n.length)return!1;n.length<3&&(n.push([O.range()[0]-20,P.range()[0]-20,null,null]),n.push([O.range()[1]+20,P.range()[1]+20,null,null]),n.push([O.range()[0]-20,P.range()[0]+20,null,null]),n.push([O.range()[1]+20,P.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,D+10],[N+10,D+10],[N+10,-10]]),t=1e-4;n=n.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var e=0;e<n.length-1;)Math.abs(n[e][0]-n[e+1][0])<t&&Math.abs(n[e][1]-n[e+1][1])<t?n.splice(e+1,1):e++;var i=d3.geom.voronoi(n).map(function(t,e){return{data:r.clip(t),series:n[e][2],point:n[e][3]}}),o=c.select(".nv-point-paths").selectAll("path").data(i),a=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+I+"-"+e+")"});if(J&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),Z){c.select(".nv-point-clips").selectAll("*").remove();c.select(".nv-point-clips").selectAll("clipPath").data(n).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+I+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",Q)}var s=function(t,e,n){if(ft)return 0;var r=u[e.series];if(r!==undefined){var i=r.values[e.point];i.color=L(r,e.series),i.x=$(i),i.y=B(i);var o=F.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:O($(i,e.point))+o.left+s+T.left+10,top:P(B(i,e.point))+o.top+a+T.top+10},relativePos:[O($(i,e.point))+T.left,P(B(i,e.point))+T.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){s(this,t,st.elementClick)}).on("dblclick",function(t){s(this,t,st.elementDblClick)}).on("mouseover",function(t){s(this,t,st.elementMouseover)}).on("mouseout",function(t){s(this,t,st.elementMouseout)})}else c.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(ft||!u[t.series])return 0;var n=u[t.series],r=n.values[e],i=this;st.elementClick({point:r,series:n,pos:[O($(r,e))+T.left,P(B(r,e))+T.top],relativePos:[O($(r,e))+T.left,P(B(r,e))+T.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:i})}).on("dblclick",function(t,e){if(ft||!u[t.series])return 0;var n=u[t.series],r=n.values[e];st.elementDblClick({point:r,series:n,pos:[O($(r,e))+T.left,P(B(r,e))+T.top],relativePos:[O($(r,e))+T.left,P(B(r,e))+T.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(ft||!u[t.series])return 0;var n=u[t.series],r=n.values[e];st.elementMouseover({point:r,series:n,pos:[O($(r,e))+T.left,P(B(r,e))+T.top],relativePos:[O($(r,e))+T.left,P(B(r,e))+T.top],seriesIndex:t.series,pointIndex:e,color:L(t,e)})}).on("mouseout",function(t,e){if(ft||!u[t.series])return 0;var n=u[t.series],r=n.values[e];st.elementMouseout({point:r,series:n,pos:[O($(r,e))+T.left,P(B(r,e))+T.top],relativePos:[O($(r,e))+T.left,P(B(r,e))+T.top],seriesIndex:t.series,pointIndex:e,color:L(t,e)})})}F=d3.select(this);var e=gt.utils.availableWidth(N,F,T),n=gt.utils.availableHeight(D,F,T);gt.utils.initSVG(F),u.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r="function"==typeof x.yScale().base,i=tt&&et&&it?[]:d3.merge(u.map(function(t){return t.values.map(function(t,e){return{x:$(t,e),y:B(t,e),size:W(t,e)}})}));if(O.domain(tt||d3.extent(i.map(function(t){return t.x}).concat(q))),Y&&u[0]?O.range(nt||[(e*K+e)/(2*u[0].values.length),e-e*(1+K)/(2*u[0].values.length)]):O.range(nt||[0,e]),r){var o=d3.min(i.map(function(t){if(0!==t.y)return t.y}));P.clamp(!0).domain(et||d3.extent(i.map(function(t){return 0!==t.y?t.y:.1*o}).concat(z))).range(rt||[n,0])}else P.domain(et||d3.extent(i.map(function(t){return t.y}).concat(z))).range(rt||[n,0]);H.domain(it||d3.extent(i.map(function(t){return t.size}).concat(V))).range(ot||ht),at=O.domain()[0]===O.domain()[1]||P.domain()[0]===P.domain()[1],O.domain()[0]===O.domain()[1]&&(O.domain()[0]?O.domain([O.domain()[0]-.01*O.domain()[0],O.domain()[1]+.01*O.domain()[1]]):O.domain([-1,1])),P.domain()[0]===P.domain()[1]&&(P.domain()[0]?P.domain([P.domain()[0]-.01*P.domain()[0],P.domain()[1]+.01*P.domain()[1]]):P.domain([-1,1])),isNaN(O.domain()[0])&&O.domain([-1,1]),isNaN(P.domain()[0])&&P.domain([-1,1]),w=w||O,k=k||P,S=S||H;var a=O(1)!==w(1)||P(1)!==k(1)||H(1)!==S(1);E=E||D;var s=(A=A||N)!==N||E!==D,l=(C=C||[])[0]!==O.domain()[0]||C[1]!==O.domain()[1];C=O.domain(),M=M||[],l=l||M[0]!==P.domain()[0]||M[1]!==P.domain()[1],M=P.domain();var c=F.selectAll("g.nv-wrap.nv-scatter").data([u]),f=c.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+I),d=f.append("defs"),h=f.append("g"),p=c.select("g");c.classed("nv-single-point",at),h.append("g").attr("class","nv-groups"),h.append("g").attr("class","nv-point-paths"),f.append("g").attr("class","nv-point-clips"),c.attr("transform","translate("+T.left+","+T.top+")"),d.append("clipPath").attr("id","nv-edge-clip-"+I).append("rect").attr("transform","translate( -10, -10)"),c.select("#nv-edge-clip-"+I+" rect").attr("width",e+20).attr("height",0<n?n+20:0),p.attr("clip-path",G?"url(#nv-edge-clip-"+I+")":""),ft=!0;var g=c.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});g.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),g.exit().remove(),g.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!U).classed("hover",function(t){return t.hover}),g.watchTransition(dt,"scatter: groups").style("fill",function(t,e){return L(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||R||L(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var m=g.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return X(t[0],e)})});if(m.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(w($(t[0],t[1])))+","+gt.utils.NaNtoZero(k(B(t[0],t[1])))+")"}).attr("d",gt.utils.symbol().type(function(t){return j(t[0])}).size(function(t){return H(W(t[0],t[1]))})),m.exit().each(y).remove(),g.exit().selectAll("path.nv-point").watchTransition(dt,"scatter exit").attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(O($(t[0],t[1])))+","+gt.utils.NaNtoZero(P(B(t[0],t[1])))+")"}).remove(),m.filter(function(t){return b(t,"x",$,"y",B)||a||s||l}).watchTransition(dt,"scatter points").attr("transform",function(t){return"translate("+gt.utils.NaNtoZero(O($(t[0],t[1])))+","+gt.utils.NaNtoZero(P(B(t[0],t[1])))+")"}),m.filter(function(t){return b(t,"shape",j,"size",W)||a||s||l}).watchTransition(dt,"scatter points").attr("d",gt.utils.symbol().type(function(t){return j(t[0])}).size(function(t){return H(W(t[0],t[1]))})),ct){var v=g.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return X(t[0],e)})});v.enter().append("text").style("fill",function(t){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(w($(t[0],t[1])))+Math.sqrt(H(W(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(k(B(t[0],t[1])))+")"}).text(function(t){return t[0].label}),v.exit().remove(),g.exit().selectAll("path.nv-label").watchTransition(dt,"scatter exit").attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(O($(t[0],t[1])))+Math.sqrt(H(W(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(P(B(t[0],t[1])))+")"}).remove(),v.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),v.watchTransition(dt,"scatter labels").attr("transform",function(t){return"translate("+(gt.utils.NaNtoZero(O($(t[0],t[1])))+Math.sqrt(H(W(t[0],t[1]))/Math.PI)+2)+","+gt.utils.NaNtoZero(P(B(t[0],t[1])))+")"})}lt?(clearTimeout(_),_=setTimeout(t,lt)):t(),w=O.copy(),k=P.copy(),S=H.copy(),A=N,E=D}),dt.renderEnd("scatter immediate"),x}var w,k,S,C,M,A,E,_,T={top:0,right:0,bottom:0,left:0},N=null,D=null,L=gt.utils.defaultColor(),R=null,I=Math.floor(1e5*Math.random()),F=null,O=d3.scale.linear(),P=d3.scale.linear(),H=d3.scale.linear(),$=function(t){return t.x},B=function(t){return t.y},W=function(t){return t.size||1},j=function(t){return t.shape||"circle"},q=[],z=[],V=[],U=!0,X=function(t){return!t.notActive},Y=!1,K=.1,G=!1,Z=!0,J=!1,Q=function(){return 25},tt=null,et=null,nt=null,rt=null,it=null,ot=null,at=!1,st=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),ut=!0,e=250,lt=300,ct=!1,ft=!1,dt=gt.utils.renderWatch(st,e),ht=[16,256],n={};return x.dispatch=st,x.options=gt.utils.optionsFunc.bind(x),x._calls=new function(){this.clearHighlights=function(){return gt.dom.write(function(){F.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){gt.dom.write(function(){F.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},st.on("elementMouseover.point",function(t){U&&x._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),st.on("elementMouseout.point",function(t){U&&x._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),x._options=Object.create({},{width:{get:function(){return N},set:function(t){N=t}},height:{get:function(){return D},set:function(t){D=t}},xScale:{get:function(){return O},set:function(t){O=t}},yScale:{get:function(){return P},set:function(t){P=t}},pointScale:{get:function(){return H},set:function(t){H=t}},xDomain:{get:function(){return tt},set:function(t){tt=t}},yDomain:{get:function(){return et},set:function(t){et=t}},pointDomain:{get:function(){return it},set:function(t){it=t}},xRange:{get:function(){return nt},set:function(t){nt=t}},yRange:{get:function(){return rt},set:function(t){rt=t}},pointRange:{get:function(){return ot},set:function(t){ot=t}},forceX:{get:function(){return q},set:function(t){q=t}},forceY:{get:function(){return z},set:function(t){z=t}},forcePoint:{get:function(){return V},set:function(t){V=t}},interactive:{get:function(){return U},set:function(t){U=t}},pointActive:{get:function(){return X},set:function(t){X=t}},padDataOuter:{get:function(){return K},set:function(t){K=t}},padData:{get:function(){return Y},set:function(t){Y=t}},clipEdge:{get:function(){return G},set:function(t){G=t}},clipVoronoi:{get:function(){return Z},set:function(t){Z=t}},clipRadius:{get:function(){return Q},set:function(t){Q=t}},showVoronoi:{get:function(){return J},set:function(t){J=t}},id:{get:function(){return I},set:function(t){I=t}},interactiveUpdateDelay:{get:function(){return lt},set:function(t){lt=t}},showLabels:{get:function(){return ct},set:function(t){ct=t}},pointBorderColor:{get:function(){return R},set:function(t){R=t}},x:{get:function(){return $},set:function(t){$=d3.functor(t)}},
y:{get:function(){return B},set:function(t){B=d3.functor(t)}},pointSize:{get:function(){return W},set:function(t){W=d3.functor(t)}},pointShape:{get:function(){return j},set:function(t){j=d3.functor(t)}},margin:{get:function(){return T},set:function(t){T.top=t.top!==undefined?t.top:T.top,T.right=t.right!==undefined?t.right:T.right,T.bottom=t.bottom!==undefined?t.bottom:T.bottom,T.left=t.left!==undefined?t.left:T.left}},duration:{get:function(){return e},set:function(t){e=t,dt.reset(e)}},color:{get:function(){return L},set:function(t){L=gt.utils.getColor(t)}},useVoronoi:{get:function(){return ut},set:function(t){!1===(ut=t)&&(Z=!1)}}}),gt.utils.initOptions(x),x},gt.models.scatterChart=function(){"use strict";function c(t){return P.reset(),P.models(f),T&&P.models(d),N&&P.models(h),A&&P.models(g),E&&P.models(m),t.each(function(r){k=d3.select(this),gt.utils.initSVG(k);var t,e=gt.utils.availableWidth(x,k,y),n=gt.utils.availableHeight(w,k,y);if(c.update=function(){0===F?k.call(c):k.transition().duration(F).call(c)},c.container=this,L.setter($(r),c.update).getter(H(r)).update(),L.disabled=r.map(function(t){return!!t.disabled}),!R)for(t in R={},L)L[t]instanceof Array?R[t]=L[t].slice(0):R[t]=L[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return gt.utils.noData(c,k),P.renderEnd("scatter immediate"),c;k.selectAll(".nv-noData").remove(),C=f.xScale(),M=f.yScale();var i=k.selectAll("g.nv-wrap.nv-scatterChart").data([r]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+f.id()).append("g"),a=i.select("g");if(o.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-scatterWrap"),o.append("g").attr("class","nv-regressionLinesWrap"),o.append("g").attr("class","nv-distWrap"),o.append("g").attr("class","nv-legendWrap"),D&&a.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),_){var s=e;p.width(s),i.select(".nv-legendWrap").datum(r).call(p),b||p.height()===y.top||(y.top=p.height(),n=gt.utils.availableHeight(w,k,y)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-y.top+")")}else a.select(".nv-legendWrap").selectAll("*").remove();i.attr("transform","translate("+y.left+","+y.top+")"),f.width(e).height(n).color(r.map(function(t,e){return t.color=t.color||S(t,e),t.color}).filter(function(t,e){return!r[e].disabled})).showLabels(O),i.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(f),i.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+f.id()+")");var u=i.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});u.enter().append("g").attr("class","nv-regLines");var l=u.selectAll(".nv-regLine").data(function(t){return[t]});l.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),l.filter(function(t){return t.intercept&&t.slope}).watchTransition(P,"scatterPlusLineChart: regline").attr("x1",C.range()[0]).attr("x2",C.range()[1]).attr("y1",function(t){return M(C.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return M(C.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return S(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),T&&(d.scale(C)._ticks(gt.utils.calcTicksX(e/100,r)).tickSize(-n,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")").call(d)),N&&(h.scale(M)._ticks(gt.utils.calcTicksY(n/36,r)).tickSize(-e,0),a.select(".nv-y.nv-axis").call(h)),A&&(g.getData(f.x()).scale(C).width(e).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),a.select(".nv-distributionX").attr("transform","translate(0,"+M.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(g)),E&&(m.getData(f.y()).scale(M).width(n).color(r.map(function(t,e){return t.color||S(t,e)}).filter(function(t,e){return!r[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),a.select(".nv-distributionY").attr("transform","translate("+(D?e:-m.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(m)),p.dispatch.on("stateChange",function(t){for(var e in t)L[e]=t[e];I.stateChange(L),c.update()}),I.on("changeState",function(n){"undefined"!=typeof n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),L.disabled=n.disabled),c.update()}),f.dispatch.on("elementMouseout.tooltip",function(t){v.hidden(!0),k.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),k.select(".nv-chart-"+f.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",m.size())}),f.dispatch.on("elementMouseover.tooltip",function(t){k.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),k.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+g.size()),v.data(t).hidden(!1)}),C.copy(),M.copy()}),P.renderEnd("scatter with line immediate"),c}var f=gt.models.scatter(),d=gt.models.axis(),h=gt.models.axis(),p=gt.models.legend(),g=gt.models.distribution(),m=gt.models.distribution(),v=gt.models.tooltip(),y={top:30,right:20,bottom:50,left:75},b=null,x=null,w=null,k=null,S=gt.utils.defaultColor(),C=f.xScale(),M=f.yScale(),A=!1,E=!1,_=!0,T=!0,N=!0,D=!1,L=gt.utils.state(),R=null,I=d3.dispatch("stateChange","changeState","renderEnd"),e=null,F=250,O=!1;f.xScale(C).yScale(M),d.orient("bottom").tickPadding(10),h.orient(D?"right":"left").tickPadding(10),g.axis("x"),m.axis("y"),v.headerFormatter(function(t,e){return d.tickFormat()(t,e)}).valueFormatter(function(t,e){return h.tickFormat()(t,e)});var P=gt.utils.renderWatch(I,F),H=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},$=function(t){return function(n){n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};return c.dispatch=I,c.scatter=f,c.legend=p,c.xAxis=d,c.yAxis=h,c.distX=g,c.distY=m,c.tooltip=v,c.options=gt.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return w},set:function(t){w=t}},container:{get:function(){return k},set:function(t){k=t}},showDistX:{get:function(){return A},set:function(t){A=t}},showDistY:{get:function(){return E},set:function(t){E=t}},showLegend:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return T},set:function(t){T=t}},showYAxis:{get:function(){return N},set:function(t){N=t}},defaultState:{get:function(){return R},set:function(t){R=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return F},set:function(t){F=t}},showLabels:{get:function(){return O},set:function(t){O=t}},margin:{get:function(){return y},set:function(t){t.top!==undefined&&(y.top=t.top,b=t.top),y.right=t.right!==undefined?t.right:y.right,y.bottom=t.bottom!==undefined?t.bottom:y.bottom,y.left=t.left!==undefined?t.left:y.left}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,h.orient(t?"right":"left")}},color:{get:function(){return S},set:function(t){S=gt.utils.getColor(t),p.color(S),g.color(S),m.color(S)}}}),gt.utils.inheritOptions(c,f),gt.utils.initOptions(c),c},gt.models.sparkline=function(){"use strict";function e(t){return r.reset(),t.each(function(t){var e=f-c.left-c.right,n=d-c.top-c.bottom;h=d3.select(this),gt.utils.initSVG(h),p.domain(a||d3.extent(t,m)).range(u||[0,e]),g.domain(s||d3.extent(t,v)).range(l||[n,0]);var r=h.selectAll("g.nv-wrap.nv-sparkline").data([t]);r.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),r.select("g");r.attr("transform","translate("+c.left+","+c.top+")");var i=r.selectAll("path").data(function(t){return[t]});i.enter().append("path"),i.exit().remove(),i.style("stroke",function(t,e){return t.color||y(t,e)}).attr("d",d3.svg.line().x(function(t,e){return p(m(t,e))}).y(function(t,e){return g(v(t,e))}));var o=r.selectAll("circle.nv-point").data(function(n){function t(t){if(-1!=t){var e=n[t];return e.pointIndex=t,e}return null}var e=n.map(function(t,e){return v(t,e)}),r=t(e.lastIndexOf(g.domain()[1])),i=t(e.indexOf(g.domain()[0])),o=t(e.length-1);return[b?i:null,b?r:null,x?o:null].filter(function(t){return null!=t})});o.enter().append("circle"),o.exit().remove(),o.attr("cx",function(t){return p(m(t,t.pointIndex))}).attr("cy",function(t){return g(v(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return m(t,t.pointIndex)==p.domain()[1]?"nv-point nv-currentValue":v(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),r.renderEnd("sparkline immediate"),e}var a,s,u,l,c={top:2,right:0,bottom:2,left:0},f=400,d=32,h=null,n=!0,p=d3.scale.linear(),g=d3.scale.linear(),m=function(t){return t.x},v=function(t){return t.y},y=gt.utils.getColor(["#000"]),b=!0,x=!0,t=d3.dispatch("renderEnd"),r=gt.utils.renderWatch(t);return e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return a},set:function(t){a=t}},yDomain:{get:function(){return s},set:function(t){s=t}},xRange:{get:function(){return u},set:function(t){u=t}},yRange:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return n},set:function(t){n=t}},showMinMaxPoints:{get:function(){return b},set:function(t){b=t}},showCurrentPoint:{get:function(){return x},set:function(t){x=t}},x:{get:function(){return m},set:function(t){m=d3.functor(t)}},y:{get:function(){return v},set:function(t){v=d3.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=t.top!==undefined?t.top:c.top,c.right=t.right!==undefined?t.right:c.right,c.bottom=t.bottom!==undefined?t.bottom:c.bottom,c.left=t.left!==undefined?t.left:c.left}},color:{get:function(){return y},set:function(t){y=gt.utils.getColor(t)}}}),e.dispatch=t,gt.utils.initOptions(e),e},gt.models.sparklinePlus=function(){"use strict";function d(t){return n.reset(),n.models(g),t.each(function(n){function r(){if(!x){var t=l.selectAll(".nv-hoverValue").data(b),e=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+h(g.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),b.length&&(e.append("line").attr("x1",0).attr("y1",-m.top).attr("x2",0).attr("y2",o),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-m.top).attr("text-anchor","end").attr("dy",".9em"),l.select(".nv-hoverValue .nv-xValue").text(w(g.x()(n[b[0]],b[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-m.top).attr("text-anchor","start").attr("dy",".9em"),l.select(".nv-hoverValue .nv-yValue").text(k(g.y()(n[b[0]],b[0]))))}}function t(){function t(t,e){for(var n=Math.abs(g.x()(t[0],0)-e),r=0,i=0;i<t.length;i++)Math.abs(g.x()(t[i],i)-e)<n&&(n=Math.abs(g.x()(t[i],i)-e),r=i);return r}if(!x){var e=d3.mouse(this)[0]-m.left;b=[t(n,Math.round(h.invert(e)))],r()}}var e=d3.select(this);gt.utils.initSVG(e);var i=gt.utils.availableWidth(v,e,m),o=gt.utils.availableHeight(y,e,m);if(d.update=function(){e.call(d)},d.container=this,!n||!n.length)return gt.utils.noData(d,e),d;e.selectAll(".nv-noData").remove();var a=g.y()(n[n.length-1],n.length-1);h=g.xScale(),p=g.yScale();var s=e.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),u=s.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),l=s.select("g");u.append("g").attr("class","nv-sparklineWrap"),u.append("g").attr("class","nv-valueWrap"),u.append("g").attr("class","nv-hoverArea"),s.attr("transform","translate("+m.left+","+m.top+")");var c=l.select(".nv-sparklineWrap");if(g.width(i).height(o),c.call(g),S){var f=l.select(".nv-valueWrap").selectAll(".nv-currentValue").data([a]);f.enter().append("text").attr("class","nv-currentValue").attr("dx",M?-8:8).attr("dy",".9em").style("text-anchor",M?"end":"start"),f.attr("x",i+(M?m.right:0)).attr("y",C?function(t){return p(t)}:0).style("fill",g.color()(n[n.length-1],n.length-1)).text(k(a))}u.select(".nv-hoverArea").append("rect").on("mousemove",t).on("click",function(){x=!x}).on("mouseout",function(){b=[],r()}),l.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-m.left+","+-m.top+")"}).attr("width",i+m.left+m.right).attr("height",o+m.top)}),n.renderEnd("sparklinePlus immediate"),d}var h,p,g=gt.models.sparkline(),m={top:15,right:100,bottom:10,left:50},v=null,y=null,b=[],x=!1,w=d3.format(",r"),k=d3.format(",.2f"),S=!0,C=!0,M=!1,e=null,t=d3.dispatch("renderEnd"),n=gt.utils.renderWatch(t);return d.dispatch=t,d.sparkline=g,d.options=gt.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},xTickFormat:{get:function(){return w},set:function(t){w=t}},yTickFormat:{get:function(){return k},set:function(t){k=t}},showLastValue:{get:function(){return S},set:function(t){S=t}},alignValue:{get:function(){return C},set:function(t){C=t}},rightAlignValue:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}}}),gt.utils.inheritOptions(d,g),gt.utils.initOptions(d),d},gt.models.stackedArea=function(){"use strict";function h(t){return D.reset(),D.models(T),t.each(function(t){var e=v-m.left-m.right,n=y-m.top-m.bottom;w=d3.select(this),gt.utils.initSVG(w),p=T.xScale(),g=T.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var r=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(A).offset(M).values(function(t){return t.values}).x(k).y(S).out(function(t,e,n){t.display={y:n,y0:e}})(r);var i=w.selectAll("g.nv-wrap.nv-stackedarea").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),a=o.append("defs"),u=o.append("g"),l=i.select("g");u.append("g").attr("class","nv-areaWrap"),u.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+m.left+","+m.top+")"),0==T.forceY().length&&T.forceY().push(0),T.width(e).height(n).x(k).y(function(t){if(t.display!==undefined)return t.display.y+t.display.y0}).color(t.map(function(t){return t.color=t.color||b(t,t.seriesIndex),t.color})),l.select(".nv-scatterWrap").datum(t).call(T),a.append("clipPath").attr("id","nv-edge-clip-"+x).append("rect"),i.select("#nv-edge-clip-"+x+" rect").attr("width",e).attr("height",n),l.attr("clip-path",_?"url(#nv-edge-clip-"+x+")":"");var c=d3.svg.area().defined(C).x(function(t,e){return p(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y+t.display.y0)}).interpolate(E),f=d3.svg.area().defined(C).x(function(t,e){return p(k(t,e))}).y0(function(t){return g(t.display.y0)}).y1(function(t){return g(t.display.y0)}),d=l.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});d.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return f(t.values,t.seriesIndex)}).on("mouseover",function(t){d3.select(this).classed("hover",!0),N.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t){d3.select(this).classed("hover",!1),N.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t){d3.select(this).classed("hover",!1),N.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),d.exit().remove(),d.style("fill",function(t){return t.color||b(t,t.seriesIndex)}).style("stroke",function(t){return t.color||b(t,t.seriesIndex)}),d.watchTransition(D,"stackedArea path").attr("d",function(t,e){return c(t.values,e)}),T.dispatch.on("elementMouseover.area",function(t){l.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),T.dispatch.on("elementMouseout.area",function(t){l.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),h.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(r=e=0;e<s.length;e++)r+=S(s[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),D.renderEnd("stackedArea immediate"),h}var p,g,m={top:0,right:0,bottom:0,left:0},v=960,y=500,b=gt.utils.defaultColor(),x=Math.floor(1e5*Math.random()),w=null,k=function(t){return t.x},S=function(t){return t.y},C=function(t,e){return!isNaN(S(t,e))&&null!==S(t,e)},e="stack",M="zero",A="default",E="linear",_=!1,T=gt.models.scatter(),n=250,N=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");T.pointSize(2.2).pointDomain([2.2,2.2]);var D=gt.utils.renderWatch(N,n);return h.dispatch=N,(h.scatter=T).dispatch.on("elementClick",function(){N.elementClick.apply(this,arguments)}),T.dispatch.on("elementMouseover",function(){N.elementMouseover.apply(this,arguments)}),T.dispatch.on("elementMouseout",function(){N.elementMouseout.apply(this,arguments)}),h.interpolate=function(t){return arguments.length?(E=t,h):E},h.duration=function(t){return arguments.length?(n=t,D.reset(n),T.duration(n),h):n},h.dispatch=N,h.scatter=T,h.options=gt.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return y},set:function(t){y=t}},defined:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return _},set:function(t){_=t}},offset:{get:function(){return M},set:function(t){M=t}},order:{get:function(){return A},set:function(t){A=t}},interpolate:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return k},set:function(t){k=d3.functor(t)}},y:{get:function(){return S},set:function(t){S=d3.functor(t)}},margin:{get:function(){return m},set:function(t){m.top=t.top!==undefined?t.top:m.top,m.right=t.right!==undefined?t.right:m.right,m.bottom=t.bottom!==undefined?t.bottom:m.bottom,m.left=t.left!==undefined?t.left:m.left}},color:{get:function(){return b},set:function(t){b=gt.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":h.offset("zero"),h.order("default");break;case"stream":h.offset("wiggle"),h.order("inside-out");break;case"stream-center":h.offset("silhouette"),h.order("inside-out");break;case"expand":h.offset("expand"),h.order("default");break;case"stack_percent":h.offset(h.d3_stackedOffset_stackPercent),h.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,D.reset(n),T.duration(n)}}}),gt.utils.inheritOptions(h,T),gt.utils.initOptions(h),h},gt.models.stackedAreaChart=function(){"use strict";function x(t){return r.reset(),r.models(S),H&&r.models(C),$&&r.models(M),t.each(function(p){function t(){H&&l.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a+")").transition().duration(Z).call(C)}function e(){if($){if("expand"===S.style()||"stack_percent"===S.style()){var t=M.tickFormat();J&&t===nt||(J=t),M.tickFormat(nt)}else J&&(M.tickFormat(J),J=null);l.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(M)}}function n(n){l.select(".nv-focus .nv-stackedWrap").datum(p.filter(function(t){return!t.disabled}).map(function(t){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return S.x()(t,e)>=n[0]&&S.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(Z).call(S),t(),e()}var r=d3.select(this);gt.utils.initSVG(r);var i,o=gt.utils.availableWidth(L,r,N),a=gt.utils.availableHeight(R,r,N)-(W?T.height():0);if(x.update=function(){r.transition().duration(Z).call(x)},x.container=this,V.setter(et(p),x.update).getter(tt(p)).update(),V.disabled=p.map(function(t){return!!t.disabled}),!U)for(i in U={},V)V[i]instanceof Array?U[i]=V[i].slice(0):U[i]=V[i];if(!(p&&p.length&&p.filter(function(t){return t.values.length}).length))return gt.utils.noData(x,r),x;r.selectAll(".nv-noData").remove(),w=S.xScale(),k=S.yScale();var s=r.selectAll("g.nv-wrap.nv-stackedAreaChart").data([p]),u=s.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),l=s.select("g");u.append("g").attr("class","nv-legendWrap"),u.append("g").attr("class","nv-controlsWrap");var c=u.append("g").attr("class","nv-focus");c.append("g").attr("class","nv-background").append("rect"),c.append("g").attr("class","nv-x nv-axis"),c.append("g").attr("class","nv-y nv-axis"),c.append("g").attr("class","nv-stackedWrap"),c.append("g").attr("class","nv-interactive");u.append("g").attr("class","nv-focusWrap");if(O){var f=F&&"top"===P?o-Y:o;if(A.width(f),l.select(".nv-legendWrap").datum(p).call(A),"bottom"===P){var d=10+(H?12:0);N.bottom=Math.max(A.height()+d,N.bottom);var h=(a=gt.utils.availableHeight(R,r,N)-(W?T.height():0))+d;l.select(".nv-legendWrap").attr("transform","translate(0,"+h+")")}else"top"===P&&(D||N.top==A.height()||(N.top=A.height(),a=gt.utils.availableHeight(R,r,N)-(W?T.height():0)),l.select(".nv-legendWrap").attr("transform","translate("+(o-f)+","+-N.top+")"))}else l.select(".nv-legendWrap").selectAll("*").remove();if(F){var g=[{key:G.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=S.style(),style:"stack"},{key:G.stream||"Stream",metaKey:"Stream",disabled:"stream"!=S.style(),style:"stream"},{key:G.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=S.style(),style:"expand"},{key:G.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=S.style(),style:"stack_percent"}];Y=K.length/3*260,g=g.filter(function(t){return-1!==K.indexOf(t.metaKey)}),E.width(Y).color(["#444","#444","#444"]),l.select(".nv-controlsWrap").datum(g).call(E);var m=Math.max(E.height(),O&&"top"===P?A.height():0);N.top!=m&&(N.top=m,a=gt.utils.availableHeight(R,r,N)-(W?T.height():0)),l.select(".nv-controlsWrap").attr("transform","translate(0,"+-N.top+")")}else l.select(".nv-controlsWrap").selectAll("*").remove();s.attr("transform","translate("+N.left+","+N.top+")"),B&&l.select(".nv-y.nv-axis").attr("transform","translate("+o+",0)"),j&&(_.width(o).height(a).margin({left:N.left,top:N.top}).svgContainer(r).xScale(w),s.select(".nv-interactive").call(_)),l.select(".nv-focus .nv-background rect").attr("width",o).attr("height",a),S.width(o).height(a).color(p.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!p[e].disabled}));var v,y=l.select(".nv-focus .nv-stackedWrap").datum(p.filter(function(t){return!t.disabled}));(H&&C.scale(w)._ticks(gt.utils.calcTicksX(o/100,p)).tickSize(-a,0),$)&&(v="wiggle"===S.offset()?0:gt.utils.calcTicksY(a/36,p),M.scale(k)._ticks(v).tickSize(-o,0));if(W){T.width(o),l.select(".nv-focusWrap").attr("transform","translate(0,"+(a+N.bottom+T.margin().top)+")").datum(p.filter(function(t){return!t.disabled})).call(T);var b=T.brush.empty()?T.xDomain():T.brush.extent();null!==b&&n(b)}else y.transition().call(S),t(),e();S.dispatch.on("areaClick.toggle",function(n){1===p.filter(function(t){return!t.disabled}).length?p.forEach(function(t){t.disabled=!1}):p.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),V.disabled=p.map(function(t){return!!t.disabled}),X.stateChange(V),x.update()}),A.dispatch.on("stateChange",function(t){for(var e in t)V[e]=t[e];X.stateChange(V),x.update()}),E.dispatch.on("legendClick",function(t){t.disabled&&(g=g.map(function(t){return t.disabled=!0,t}),t.disabled=!1,S.style(t.style),V.style=S.style(),X.stateChange(V),x.update())}),_.dispatch.on("elementMousemove",function(o){S.clearHighlights();var a,s,u,l=[],c=0,f=!0,d=!1;if(p.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){s=gt.interactiveBisect(t.values,o.pointXValue,x.x());var n=t.values[s],r=x.y()(n,s);if(null!=r&&0<r&&(S.highlightPoint(e,s,!0),d=!0),e!==p.length-1||d||S.highlightPoint(e,s,!0),void 0!==n){void 0===a&&(a=n),void 0===u&&(u=x.xScale()(x.x()(n,s)));var i="expand"==S.style()?n.display.y:x.y()(n,s);l.push({key:t.key,value:i,color:I(t,t.seriesIndex),point:n}),q&&"expand"!=S.style()&&null!=i&&(c+=i,f=!1)}}),l.reverse(),2<l.length){var i=x.yScale().invert(o.mouseY),h=(Infinity,null);l.forEach(function(t,e){i=Math.abs(i);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);n<=i&&i<=r+n&&(h=e)}),null!=h&&(l[h].highlight=!0)}q&&"expand"!=S.style()&&2<=l.length&&!f&&l.push({key:z,value:c,total:!0});var t=x.x()(a,s),e=_.tooltip.valueFormatter();"expand"===S.style()||"stack_percent"===S.style()?(Q||(Q=e),e=d3.format(".1%")):Q&&(e=Q,Q=null),_.tooltip.valueFormatter(e).data({value:t,series:l})(),_.renderGuideLine(u)}),_.dispatch.on("elementMouseout",function(){S.clearHighlights()}),T.dispatch.on("onBrush",function(t){n(t)}),X.on("changeState",function(n){"undefined"!=typeof n.disabled&&p.length===n.disabled.length&&(p.forEach(function(t,e){t.disabled=n.disabled[e]}),V.disabled=n.disabled),"undefined"!=typeof n.style&&(S.style(n.style),n.style),x.update()})}),r.renderEnd("stacked Area chart immediate"),x}var w,k,S=gt.models.stackedArea(),C=gt.models.axis(),M=gt.models.axis(),A=gt.models.legend(),E=gt.models.legend(),_=gt.interactiveGuideline(),e=gt.models.tooltip(),T=gt.models.focus(gt.models.stackedArea()),N={top:10,right:25,bottom:50,left:60},D=null,L=null,R=null,I=gt.utils.defaultColor(),F=!0,O=!0,P="top",H=!0,$=!0,B=!1,W=!1,j=!1,q=!0,z="TOTAL",V=gt.utils.state(),U=null,n=null,X=d3.dispatch("stateChange","changeState","renderEnd"),Y=250,K=["Stacked","Stream","Expanded"],G={},Z=250;V.style=S.style(),C.orient("bottom").tickPadding(7),M.orient(B?"right":"left"),e.headerFormatter(function(t,e){return C.tickFormat()(t,e)}).valueFormatter(function(t,e){return M.tickFormat()(t,e)}),_.tooltip.headerFormatter(function(t,e){return C.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":M.tickFormat()(t,e)});var J=null,Q=null;E.updateState(!1);var r=gt.utils.renderWatch(X),tt=(S.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:S.style()}}}),et=function(t){return function(n){n.style!==undefined&&n.style,n.active!==undefined&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},nt=d3.format("%");return S.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=S.x()(t.point),t.point.y=S.y()(t.point),e.data(t).hidden(!1)}),S.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),x.dispatch=X,x.stacked=S,x.legend=A,x.controls=E,x.xAxis=C,x.x2Axis=T.xAxis,x.yAxis=M,x.y2Axis=T.yAxis,x.interactiveLayer=_,x.tooltip=e,x.focus=T,x.dispatch=X,x.options=gt.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return L},set:function(t){L=t}},height:{get:function(){return R},set:function(t){R=t}},showLegend:{get:function(){return O},set:function(t){O=t}},legendPosition:{get:function(){return P},set:function(t){P=t}},showXAxis:{get:function(){return H},set:function(t){H=t}},showYAxis:{get:function(){return $},set:function(t){$=t}},defaultState:{get:function(){return U},set:function(t){U=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return F},set:function(t){F=t}},controlLabels:{get:function(){return G},set:function(t){G=t}},controlOptions:{get:function(){return K},set:function(t){K=t}},showTotalInTooltip:{get:function(){return q},set:function(t){q=t}},totalLabel:{get:function(){return z},set:function(t){z=t}},focusEnable:{get:function(){return W},set:function(t){W=t}},focusHeight:{get:function(){return T.height()},set:function(t){T.height(t)}},brushExtent:{get:function(){return T.brushExtent()},set:function(t){T.brushExtent(t)}},margin:{get:function(){return N},set:function(t){t.top!==undefined&&(N.top=t.top,D=t.top),N.right=t.right!==undefined?t.right:N.right,N.bottom=t.bottom!==undefined?t.bottom:N.bottom,N.left=t.left!==undefined?t.left:N.left}},focusMargin:{get:function(){return T.margin},set:function(t){T.margin.top=t.top!==undefined?t.top:T.margin.top,T.margin.right=t.right!==undefined?t.right:T.margin.right,T.margin.bottom=t.bottom!==undefined?t.bottom:T.margin.bottom,T.margin.left=t.left!==undefined?t.left:T.margin.left}},duration:{get:function(){return Z},set:function(t){Z=t,r.reset(Z),S.duration(Z),C.duration(Z),M.duration(Z)}},color:{get:function(){return I},set:function(t){I=gt.utils.getColor(t),A.color(I),S.color(I),T.color(I)}},x:{get:function(){return S.x()},set:function(t){S.x(t),T.x(t)}},y:{get:function(){return S.y()},set:function(t){S.y(t),T.y(t)}},rightAlignYAxis:{get:function(){return B},set:function(t){B=t,M.orient(B?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(t){j=!!t,x.interactive(!t),x.useVoronoi(!t),S.scatter.interactive(!t)}}}),gt.utils.inheritOptions(x,S),gt.utils.initOptions(x),x},gt.models.stackedAreaWithFocusChart=function(){return gt.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},gt.models.sunburst=function(){"use strict";function o(t){return 90<a(t)?180:0}function a(t){return(Math.max(0,Math.min(2*Math.PI,D(t.x)))+Math.max(0,Math.min(2*Math.PI,D(t.x+t.dx))))/2*(180/Math.PI)-90}function i(t){var e=Math.max(0,Math.min(2*Math.PI,D(t.x)));return(Math.max(0,Math.min(2*Math.PI,D(t.x+t.dx)))-e)/(2*Math.PI)}function s(t){var e=Math.max(0,Math.min(2*Math.PI,D(t.x))),n=Math.max(0,Math.min(2*Math.PI,D(t.x+t.dx)));return M<n-e}function n(e,t){var n=d3.interpolate(D.domain(),[f.x,f.x+f.dx]),r=d3.interpolate(L.domain(),[f.y,1]),i=d3.interpolate(L.range(),[f.y?20:0,p]);return 0===t?function(){return F(e)}:function(t){return D.domain(n(t)),L.domain(r(t)).range(i(t)),F(e)}}function u(n){var r=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(t){var e=r(t);return n.x0=e.x,n.dx0=e.dx,n.y0=e.y,n.dy0=e.dy,F(e)}}function r(t){var e=E(t);I[e]||(I[e]={});var n=I[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}function l(t){t.forEach(function(t){var e=E(t),n=I[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),r(t)})}function c(i){var t=w.selectAll("text"),e=w.selectAll("path");t.transition().attr("opacity",0),f=i,e.transition().duration(T).attrTween("d",n).each("end",function(r){r.x>=i.x&&r.x<i.x+i.dx&&(r.depth>=i.depth&&d3.select(this.parentNode).select("text").transition().duration(T).text(function(t){return C(t)}).attr("opacity",function(t){return s(t)?1:0}).attr("transform",function(){var t=this.getBBox().width;if(0===r.depth)return"translate("+t/2*-1+",0)";if(r.depth===i.depth)return"translate("+(L(r.y)+5)+",0)";var e=a(r),n=o(r);return 0===n?"rotate("+e+")translate("+(L(r.y)+5)+",0)":"rotate("+e+")translate("+(L(r.y)+t+5)+",0)rotate("+n+")"}))})}function e(t){return O.reset(),t.each(function(t){w=d3.select(this),d=gt.utils.availableWidth(m,w,g),h=gt.utils.availableHeight(v,w,g),p=Math.min(d,h)/2,L.range([0,p]);var e=w.select("g.nvd3.nv-wrap.nv-sunburst");e[0][0]?e.attr("transform","translate("+(d/2+g.left+g.right)+","+(h/2+g.top+g.bottom)+")"):e=w.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+x).attr("transform","translate("+(d/2+g.left+g.right)+","+(h/2+g.top+g.bottom)+")"),w.on("click",function(t,e){N.chartClick({data:t,index:e,pos:d3.event,id:x})}),R.value(b[y]||b.count);var n=R.nodes(t[0]).reverse();l(n);var r=e.selectAll(".arc-container").data(n,E);r.enter().append("g").attr("class","arc-container").append("path").attr("d",F).style("fill",function(t){return t.color?t.color:k(_?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){c(t),N.elementClick({data:t,index:e})}).on("mouseover",function(t){d3.select(this).classed("hover",!0).style("opacity",.8),N.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:i(t)})}).on("mouseout",function(t){d3.select(this).classed("hover",!1).style("opacity",1),N.elementMouseout({data:t})}).on("mousemove",function(t){N.elementMousemove({data:t})}),r.each(function(){d3.select(this).select("path").transition().duration(T).attrTween("d",u)}),S&&(r.selectAll("text").remove(),r.append("text").text(function(t){return C(t)}).transition().duration(T).attr("opacity",function(t){return s(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=a(t),r=o(t);return 0===r?"rotate("+n+")translate("+(L(t.y
)+5)+",0)":"rotate("+n+")translate("+(L(t.y)+e+5)+",0)rotate("+r+")"})),c(n[n.length-1]),r.exit().transition().duration(T).attr("opacity",0).each("end",function(t){var e=E(t);I[e]=undefined}).remove()}),O.renderEnd("sunburst immediate"),e}var f,d,h,p,g={top:0,right:0,bottom:0,left:0},m=600,v=600,y="count",b={count:function(){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},x=Math.floor(1e4*Math.random()),w=null,k=gt.utils.defaultColor(),S=!1,C=function(t){return"count"===y?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},M=.02,A=function(t,e){return t.name>e.name},E=function(t,e){return t.parent!==undefined?t.name+"-"+t.parent.name+"-"+e:t.name},_=!0,T=500,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),D=d3.scale.linear().range([0,2*Math.PI]),L=d3.scale.sqrt(),R=d3.layout.partition().sort(A),I={},F=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,D(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,D(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,L(t.y))}).outerRadius(function(t){return Math.max(0,L(t.y+t.dy))}),O=gt.utils.renderWatch(N);return e.dispatch=N,e.options=gt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return v},set:function(t){v=t}},mode:{get:function(){return y},set:function(t){y=t}},id:{get:function(){return x},set:function(t){x=t}},duration:{get:function(){return T},set:function(t){T=t}},groupColorByParent:{get:function(){return _},set:function(t){_=!!t}},showLabels:{get:function(){return S},set:function(t){S=!!t}},labelFormat:{get:function(){return C},set:function(t){C=t}},labelThreshold:{get:function(){return M},set:function(t){M=t}},sort:{get:function(){return A},set:function(t){A=t}},key:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return g},set:function(t){g.top=t.top!=undefined?t.top:g.top,g.right=t.right!=undefined?t.right:g.right,g.bottom=t.bottom!=undefined?t.bottom:g.bottom,g.left=t.left!=undefined?t.left:g.left}},color:{get:function(){return k},set:function(t){k=gt.utils.getColor(t)}}}),gt.utils.initOptions(e),e},gt.models.sunburstChart=function(){"use strict";function i(t){return d.reset(),d.models(o),t.each(function(t){var e=d3.select(this);gt.utils.initSVG(e);var n=gt.utils.availableWidth(s,e,a),r=gt.utils.availableHeight(u,e,a);if(i.update=function(){0===f?e.call(i):e.transition().duration(f).call(i)},i.container=e,!t||!t.length)return gt.utils.noData(i,e),i;e.selectAll(".nv-noData").remove(),o.width(n).height(r).margin(a),e.call(o)}),d.renderEnd("sunburstChart immediate"),i}var o=gt.models.sunburst(),e=gt.models.tooltip(),a={top:30,right:20,bottom:20,left:20},s=null,u=null,n=gt.utils.defaultColor(),r=!1,l=(Math.round(1e5*Math.random()),null),c=null,f=250,t=d3.dispatch("stateChange","changeState","renderEnd"),d=gt.utils.renderWatch(t);return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},r||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(){e.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(){e()}),i.dispatch=t,i.sunburst=o,i.tooltip=e,i.options=gt.utils.optionsFunc.bind(i),i._options=Object.create({},{noData:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return r},set:function(t){r=t}},color:{get:function(){return n},set:function(t){n=t,o.color(n)}},duration:{get:function(){return f},set:function(t){f=t,d.reset(f),o.duration(f)}},margin:{get:function(){return a},set:function(t){a.top=t.top!==undefined?t.top:a.top,a.right=t.right!==undefined?t.right:a.right,a.bottom=t.bottom!==undefined?t.bottom:a.bottom,a.left=t.left!==undefined?t.left:a.left,o.margin(a)}}}),gt.utils.inheritOptions(i,o),gt.utils.initOptions(i),i},gt.version="1.8.6"}(),$(document).ready(function(){function u(t){if(t.data)return t.data.user?{hash:sha256(t.data.user+"|"+t.data.sum+"|"+t.data.nonce),sum:t.data.sum}:t.data;var e=u(t.left),n=u(t.right),r=new BigNumber(e.sum).plus(n.sum).toFixed();return{hash:sha256(r+"|"+e.hash+"|"+n.hash),sum:r}}function l(t){try{JSON.parse(t)}catch(e){return!1}return!0}$(".audit-verirication__submit-btn").on("click",function(){$(".display-message").removeClass("display-message");var t=$(".audit-verification__partial-tree-input").val(),e=$(".audit-verification__expected-root-hash").val();if(t&&e)if(1==l(t)&&1==l(e)){var n=u(jQuery.parseJSON(t).partial_tree).hash,r=u(jQuery.parseJSON(t).partial_tree).sum,i=jQuery.parseJSON(e).root.hash,o=jQuery.parseJSON(e).root.sum,a=jQuery.parseJSON(e).currency,s=new Date(jQuery.parseJSON(e).timestamp);r!=o&&n!=i?($(".error__received-root-hash").text(n),$(".error__expected-root-hash").text(i),$(".error__received-root-sum").text(r),$(".error__expected-root-sum").text(o),$(".verification-failed--invalid-hash-sum").addClass("display-message")):r!=o?($(".error__received-root-sum").text(r),$(".error__expected-root-sum").text(o),$(".verification-failed--invalid-sum").addClass("display-message")):n!=i?($(".error__received-root-hash").text(n),$(".error__expected-root-hash").text(i),$(".verification-failed--invalid-hash").addClass("display-message")):($(".success__balance").text(o+" "+a),$(".success__timestamp").text(s),$(".audit-verification__success").addClass("display-message"))}else $(".verification-failed--invalid-json").addClass("display-message");else $(".verification-failed--empty-field").addClass("display-message")})}),$(window).scroll(function(){50<=$(window).scrollTop()?$(".navbar.home").addClass("topnavbar-scrolled"):$(".navbar.home").removeClass("topnavbar-scrolled")}),function(t){"use strict";function E(t){function _(t,e){var n,r,i,o,a,s,u,l=this;if(!(l instanceof _))return new _(t,e);if(null==e){if(t instanceof _)return l.s=t.s,l.e=t.e,void(l.c=(t=t.c)?t.slice():t);if((a="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(i=0,o=t;10<=o;o/=10,i++);return l.e=i,void(l.c=[t])}u=t+""}else{if(!H.test(u=t+""))return f(l,u,a);l.s=45==u.charCodeAt(0)?(u=u.slice(1),-1):1}}else{if(R(e,2,A.length,"Base"),u=t+"",10==e)return T(l=new _(t instanceof _?t:u),b+l.e+1,w);if(a="number"==typeof t){if(0*t!=0)return f(l,u,a,e);if(l.s=1/t<0?(u=u.slice(1),-1):1,_.DEBUG&&15<u.replace(/^0\.0*|\./,"").length)throw Error(j+t);a=!1}else l.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1,10<e&&e<37&&(u=u.toLowerCase());for(n=A.slice(0,e),i=o=0,s=u.length;o<s;o++)if(n.indexOf(r=u.charAt(o))<0){if("."==r&&i<o){i=s;continue}return f(l,t+"",a,e)}u=c(u,e,10,l.s)}for(-1<(i=u.indexOf("."))&&(u=u.replace(".","")),0<(o=u.search(/e/i))?(i<0&&(i=o),i+=+u.slice(o+1),u=u.substring(0,o)):i<0&&(i=u.length),o=0;48===u.charCodeAt(o);o++);for(s=u.length;48===u.charCodeAt(--s););if(u=u.slice(o,++s)){if(s-=o,a&&_.DEBUG&&15<s&&(V<t||t!==B(t)))throw Error(j+l.s*t);if(v<(i=i-o-1))l.c=l.e=null;else if(i<m)l.c=[l.e=0];else{if(l.e=i,l.c=[],o=(i+1)%z,i<0&&(o+=z),o<s){for(o&&l.c.push(+u.slice(0,o)),s-=z;o<s;)l.c.push(+u.slice(o,o+=z));u=u.slice(o),o=z-u.length}else o-=s;for(;o--;u+="0");l.c.push(+u)}}else l.c=[l.e=0]}function n(t,e,n,r){var i,o,a,s,u;if(null==n?n=w:R(n,0,8),!t.c)return t.toString();if(i=t.c[0],a=t.e,null==e)u=D(t.c),u=1==r||2==r&&a<=p?O(u,a):P(u,a,"0");else if(o=(t=T(new _(t),e,n)).e,s=(u=D(t.c)).length,1==r||2==r&&(e<=o||o<=p)){for(;s<e;u+="0",s++);u=O(u,o)}else if(e-=a,u=P(u,o,"0"),s<o+1){if(0<--e)for(u+=".";e--;u+="0");}else if(0<(e+=o-s))for(o+1==s&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function e(t,e){var n,r,i=0;for(I(t[0])&&(t=t[0]),n=new _(t[0]);++i<t.length;){if(!(r=new _(t[i])).s){n=r;break}e.call(n,r)&&(n=r)}return n}function x(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];10<=i;i/=10,r++);return(n=r+n*z-1)>v?t.c=t.e=null:n<m?t.c=[t.e=0]:(t.e=n,t.c=e),t}function T(t,e,n,r){var i,o,a,s,u,l,c,f=t.c,d=U;if(f){t:{for(i=1,s=f[0];10<=s;s/=10,i++);if((o=e-i)<0)o+=z,a=e,c=(u=f[l=0])/d[i-a-1]%10|0;else if((l=$((o+1)/z))>=f.length){if(!r)break t;for(;f.length<=l;f.push(0));u=c=0,a=(o%=z)-z+(i=1)}else{for(u=s=f[l],i=1;10<=s;s/=10,i++);c=(a=(o%=z)-z+i)<0?0:u/d[i-a-1]%10|0}if(r=r||e<0||null!=f[l+1]||(a<0?u:u%d[i-a-1]),r=n<4?(c||r)&&(0==n||n==(t.s<0?3:2)):5<c||5==c&&(4==n||r||6==n&&(0<o?0<a?u/d[i-a]:0:f[l-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,r?(e-=t.e+1,f[0]=d[(z-e%z)%z],t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=l,s=1,l--):(f.length=l+1,s=d[z-o],f[l]=0<a?B(u/d[i-a]%d[a])*s:0),r)for(;;){if(0==l){for(o=1,a=f[0];10<=a;a/=10,o++);for(a=f[0]+=s,s=1;10<=a;a/=10,s++);o!=s&&(t.e++,f[0]==q&&(f[0]=1));break}if(f[l]+=s,f[l]!=q)break;f[l--]=0,s=1}for(o=f.length;0===f[--o];f.pop());}t.e>v?t.c=t.e=null:t.e<m&&(t.c=[t.e=0])}return t}var y,c,f,a,s,u,l,d,r,h,i=_.prototype={constructor:_,toString:null,valueOf:null},g=new _(1),b=20,w=4,p=-7,o=21,m=-1e7,v=1e7,k=!1,S=1,C=0,M={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},A="0123456789abcdefghijklmnopqrstuvwxyz";return _.clone=E,_.ROUND_UP=0,_.ROUND_DOWN=1,_.ROUND_CEIL=2,_.ROUND_FLOOR=3,_.ROUND_HALF_UP=4,_.ROUND_HALF_DOWN=5,_.ROUND_HALF_EVEN=6,_.ROUND_HALF_CEIL=7,_.ROUND_HALF_FLOOR=8,_.EUCLID=9,_.config=_.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(W+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(R(n=t[e],0,Y,e),b=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(R(n=t[e],0,8,e),w=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&(I(n=t[e])?(R(n[0],-Y,0,e),R(n[1],0,Y,e),p=n[0],o=n[1]):(R(n,-Y,Y,e),p=-(o=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if(I(n=t[e]))R(n[0],-Y,-1,e),R(n[1],1,Y,e),m=n[0],v=n[1];else{if(R(n,-Y,Y,e),!n)throw Error(W+e+" cannot be zero: "+n);m=-(v=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(W+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw k=!n,Error(W+"crypto unavailable");k=n}else k=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(R(n=t[e],0,9,e),S=n),t.hasOwnProperty(e="POW_PRECISION")&&(R(n=t[e],0,Y,e),C=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(W+e+" not an object: "+n);M=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.$|\.|(.).*\1/.test(n))throw Error(W+e+" invalid: "+n);A=n}}return{DECIMAL_PLACES:b,ROUNDING_MODE:w,EXPONENTIAL_AT:[p,o],RANGE:[m,v],CRYPTO:k,MODULO_MODE:S,POW_PRECISION:C,FORMAT:M,ALPHABET:A}},_.isBigNumber=function(t){return t instanceof _||t&&!0===t._isBigNumber||!1},_.maximum=_.max=function(){return e(arguments,i.lt)},_.minimum=_.min=function(){return e(arguments,i.gt)},_.random=(r=9007199254740992,h=Math.random()*r&2097151?function(){return B(Math.random()*r)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,o,a=0,s=[],u=new _(g);if(null==t?t=b:R(t,0,Y),i=$(t/z),k)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)9e15<=(o=131072*e[a]+(e[a+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),e[a]=n[0],e[a+1]=n[1]):(s.push(o%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw k=!1,Error(W+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)9e15<=(o=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])?crypto.randomBytes(7).copy(e,a):(s.push(o%1e14),a+=7);a=i/7}if(!k)for(;a<i;)(o=h())<9e15&&(s[a++]=o%1e14);for(i=s[--a],t%=z,i&&t&&(o=U[z-t],s[a]=B(i/o)*o);0===s[a];s.pop(),a--);if(a<0)s=[r=0];else{for(r=-1;0===s[0];s.splice(0,1),r-=z);for(a=1,o=s[0];10<=o;o/=10,a++);a<z&&(r-=z-a)}return u.e=r,u.c=s,u}),c=function(){function m(t,e,n,r){for(var i,o,a=[0],s=0,u=t.length;s<u;){for(o=a.length;o--;a[o]*=e);for(a[0]+=r.indexOf(t.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}var v="0123456789";return function(t,e,n,r,i){var o,a,s,u,l,c,f,d,h=t.indexOf("."),p=b,g=w;for(0<=h&&(u=C,C=0,t=t.replace(".",""),c=(d=new _(e)).pow(t.length-h),C=u,d.c=m(P(D(c.c),c.e,"0"),10,n,v),d.e=d.c.length),s=u=(f=m(t,e,n,i?(o=A,v):(o=v,A))).length;0==f[--u];f.pop());if(!f[0])return o.charAt(0);if(h<0?--s:(c.c=f,c.e=s,c.s=r,f=(c=y(c,d,p,g,n)).c,l=c.r,s=c.e),h=f[a=s+p+1],u=n/2,l=l||a<0||null!=f[a+1],l=g<4?(null!=h||l)&&(0==g||g==(c.s<0?3:2)):u<h||h==u&&(4==g||l||6==g&&1&f[a-1]||g==(c.s<0?8:7)),a<1||!f[0])t=l?P(o.charAt(1),-p,o.charAt(0)):o.charAt(0);else{if(f.length=a,l)for(--n;++f[--a]>n;)f[a]=0,a||(++s,f=[1].concat(f));for(u=f.length;!f[--u];);for(h=0,t="";h<=u;t+=o.charAt(f[h++]));t=P(t,s,o.charAt(0))}return t}}(),y=function(){function M(t,e,n){var r,i,o,a,s=0,u=t.length,l=e%X,c=e/X|0;for(t=t.slice();u--;)s=((i=l*(o=t[u]%X)+(r=c*o+(a=t[u]/X|0)*l)%X*X+s)/n|0)+(r/X|0)+c*a,t[u]=i%n;return s&&(t=[s].concat(t)),t}function A(t,e,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function E(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&1<t.length;t.splice(0,1));}return function(t,e,n,r,i){var o,a,s,u,l,c,f,d,h,p,g,m,v,y,b,x,w,k=t.s==e.s?1:-1,S=t.c,C=e.c;if(!(S&&S[0]&&C&&C[0]))return new _(t.s&&e.s&&(S?!C||S[0]!=C[0]:C)?S&&0==S[0]||!C?0*k:k/0:NaN);for(h=(d=new _(k)).c=[],k=n+(a=t.e-e.e)+1,i||(i=q,a=N(t.e/z)-N(e.e/z),k=k/z|0),s=0;C[s]==(S[s]||0);s++);if(C[s]>(S[s]||0)&&a--,k<0)h.push(1),u=!0;else{for(y=S.length,x=C.length,k+=2,1<(l=B(i/(C[s=0]+1)))&&(C=M(C,l,i),S=M(S,l,i),x=C.length,y=S.length),v=x,g=(p=S.slice(0,x)).length;g<x;p[g++]=0);w=C.slice(),w=[0].concat(w),b=C[0],C[1]>=i/2&&b++;do{if(l=0,(o=A(C,p,x,g))<0){if(m=p[0],x!=g&&(m=m*i+(p[1]||0)),1<(l=B(m/b)))for(i<=l&&(l=i-1),f=(c=M(C,l,i)).length,g=p.length;1==A(c,p,f,g);)l--,E(c,x<f?w:C,f,i),f=c.length,o=1;else 0==l&&(o=l=1),f=(c=C.slice()).length;if(f<g&&(c=[0].concat(c)),E(p,c,g,i),g=p.length,-1==o)for(;A(C,p,x,g)<1;)l++,E(p,x<g?w:C,g,i),g=p.length}else 0===o&&(l++,p=[0]);h[s++]=l,p[0]?p[g++]=S[v]||0:(p=[S[v]],g=1)}while((v++<y||null!=p[0])&&k--);u=null!=p[0],h[0]||h.splice(0,1)}if(i==q){for(s=1,k=h[0];10<=k;k/=10,s++);T(d,n+(d.e=s+a*z-1)+1,r,u)}else d.e=a,d.r=+u;return d}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,u=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,f=function(t,e,n,r){var i,o=n?e:e.replace(d,"");if(l.test(o))t.s=isNaN(o)?null:o<0?-1:1,t.c=t.e=null;else{if(!n&&(o=o.replace(a,function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e}),r&&(i=r,o=o.replace(s,"$1").replace(u,"0.$1")),e!=o))return new _(o,i);if(_.DEBUG)throw Error(W+"Not a"+(r?" base "+r:"")+" number: "+e);t.c=t.e=t.s=null}},i.absoluteValue=i.abs=function(){var t=new _(this);return t.s<0&&(t.s=1),t},i.comparedTo=function(t,e){return L(this,new _(t,e))},i.decimalPlaces=i.dp=function(t,e){var n,r,i,o=this;if(null!=t)return R(t,0,Y),null==e?e=w:R(e,0,8),T(new _(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-N(this.e/z))*z,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},i.dividedBy=i.div=function(t,e){return y(this,new _(t,e),b,w)},i.dividedToIntegerBy=i.idiv=function(t,e){return y(this,new _(t,e),0,1)},i.exponentiatedBy=i.pow=function(t,e){var n,r,i,o,a,s,u,l,c=this;if((t=new _(t)).c&&!t.isInteger())throw Error(W+"Exponent not an integer: "+t);if(null!=e&&(e=new _(e)),a=14<t.e,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!t.c||!t.c[0])return l=new _(Math.pow(+c.valueOf(),a?2-F(t):+t)),e?l.mod(e):l;if(s=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new _(NaN);(r=!s&&c.isInteger()&&e.isInteger())&&(c=c.mod(e))}else{if(9<t.e&&(0<c.e||c.e<-1||(0==c.e?1<c.c[0]||a&&24e7<=c.c[1]:c.c[0]<8e13||a&&c.c[0]<=9999975e7)))return i=c.s<0&&F(t)?-0:0,-1<c.e&&(i=1/i),new _(s?1/i:i);C&&(i=$(C/z+2))}for(a?(n=new _(.5),u=F(t)):u=t%2,s&&(t.s=1),l=new _(g);;){if(u){if(!(l=l.times(c)).c)break;i?l.c.length>i&&(l.c.length=i):r&&(l=l.mod(e))}if(a){if(T(t=t.times(n),t.e+1,1),!t.c[0])break;a=14<t.e,u=F(t)}else{if(!(t=B(t/2)))break;u=t%2}c=c.times(c),i?c.c&&c.c.length>i&&(c.c.length=i):r&&(c=c.mod(e))}return r?l:(s&&(l=g.div(l)),e?l.mod(e):i?T(l,C,w,o):l)},i.integerValue=function(t){var e=new _(this);return null==t?t=w:R(t,0,8),T(e,e.e+1,t)},i.isEqualTo=i.eq=function(t,e){return 0===L(this,new _(t,e))},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(t,e){return 0<L(this,new _(t,e))},i.isGreaterThanOrEqualTo=i.gte=function(t,e){return 1===(e=L(this,new _(t,e)))||0===e},i.isInteger=function(){return!!this.c&&N(this.e/z)>this.c.length-2},i.isLessThan=i.lt=function(t,e){return L(this,new _(t,e))<0},i.isLessThanOrEqualTo=i.lte=function(t,e){return-1===(e=L(this,new _(t,e)))||0===e},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return 0<this.s},i.isZero=function(){return!!this.c&&0==this.c[0]},i.minus=function(t,e){var n,r,i,o,a=this,s=a.s;if(e=(t=new _(t,e)).s,!s||!e)return new _(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/z,l=t.e/z,c=a.c,f=t.c;if(!u||!l){if(!c||!f)return c?(t.s=-e,t):new _(f?a:NaN);if(!c[0]||!f[0])return f[0]?(t.s=-e,t):new _(c[0]?a:3==w?-0:0)}if(u=N(u),l=N(l),c=c.slice(),s=u-l){for((o=s<0)?(s=-s,i=c):(l=u,i=f),i.reverse(),e=s;e--;i.push(0));i.reverse()}else for(r=(o=(s=c.length)<(e=f.length))?s:e,s=e=0;e<r;e++)if(c[e]!=f[e]){o=c[e]<f[e];break}if(o&&(i=c,c=f,f=i,t.s=-t.s),0<(e=(r=f.length)-(n=c.length)))for(;e--;c[n++]=0);for(e=q-1;s<r;){if(c[--r]<f[r]){for(n=r;n&&!c[--n];c[n]=e);--c[n],c[r]+=q}c[r]-=f[r]}for(;0==c[0];c.splice(0,1),--l);return c[0]?x(t,c,l):(t.s=3==w?-1:1,t.c=[t.e=0],t)},i.modulo=i.mod=function(t,e){var n,r,i=this;return t=new _(t,e),!i.c||!t.s||t.c&&!t.c[0]?new _(NaN):!t.c||i.c&&!i.c[0]?new _(i):(9==S?(r=t.s,t.s=1,n=y(i,t,0,3),t.s=r,n.s*=r):n=y(i,t,0,S),(t=i.minus(n.times(t))).c[0]||1!=S||(t.s=i.s),t)},i.multipliedBy=i.times=function(t,e){var n,r,i,o,a,s,u,l,c,f,d,h,p,g,m,v=this,y=v.c,b=(t=new _(t,e)).c;if(!(y&&b&&y[0]&&b[0]))return!v.s||!t.s||y&&!y[0]&&!b||b&&!b[0]&&!y?t.c=t.e=t.s=null:(t.s*=v.s,y&&b?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=N(v.e/z)+N(t.e/z),t.s*=v.s,(u=y.length)<(f=b.length)&&(p=y,y=b,b=p,i=u,u=f,f=i),i=u+f,p=[];i--;p.push(0));for(g=q,m=X,i=f;0<=--i;){for(n=0,d=b[i]%m,h=b[i]/m|0,o=i+(a=u);i<o;)n=((l=d*(l=y[--a]%m)+(s=h*l+(c=y[a]/m|0)*d)%m*m+p[o]+n)/g|0)+(s/m|0)+h*c,p[o--]=l%g;p[o]=n}return n?++r:p.splice(0,1),x(t,p,r)},i.negated=function(){var t=new _(this);return t.s=-t.s||null,t},i.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new _(t,e)).s,!i||!e)return new _(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/z,a=t.e/z,s=r.c,u=t.c;if(!o||!a){if(!s||!u)return new _(i/0);if(!s[0]||!u[0])return u[0]?t:new _(s[0]?r:0*i)}if(o=N(o),a=N(a),s=s.slice(),i=o-a){for(0<i?(a=o,n=u):(i=-i,n=s),n.reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(e=u.length)<0&&(n=u,u=s,s=n,e=i),i=0;e;)i=(s[--e]=s[e]+u[e]+i)/q|0,s[e]=q===s[e]?0:s[e]%q;return i&&(s=[i].concat(s),++a),x(t,s,a)},i.precision=i.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return R(t,1,Y),null==e?e=w:R(e,0,8),T(new _(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*z+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},i.shiftedBy=function(t){return R(t,-V,V),this.times("1e"+t)},i.squareRoot=i.sqrt=function(){var t,e,n,r,i,o=this,a=o.c,s=o.s,u=o.e,l=b+4,c=new _("0.5");if(1!==s||!a||!a[0])return new _(!s||s<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(s=Math.sqrt(+o))||s==1/0?(((e=D(a)).length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=N((u+1)/2)-(u<0||u%2),s==1/0?e="1e"+u:e=(e=s.toExponential()).slice(0,e.indexOf("e")+1)+u,n=new _(e)):n=new _(s+""),n.c[0])for((s=(u=n.e)+l)<3&&(s=0);;)if(i=n,n=c.times(i.plus(y(o,i,l,1))),D(i.c).slice(0,s)===(e=D(n.c)).slice(0,s)){if(n.e<u&&--s,"9999"!=(e=e.slice(s-3,s+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(T(n,n.e+b+2,1),t=!n.times(n).eq(o));break}if(!r&&(T(i,i.e+b+2,0),i.times(i).eq(o))){n=i;break}l+=4,s+=4,r=1}return T(n,n.e+b+1,w,t)},i.toExponential=function(t,e){return null!=t&&(R(t,0,Y),t++),n(this,t,e,1)},i.toFixed=function(t,e){return null!=t&&(R(t,0,Y),t=t+this.e+1),n(this,t,e)},i.toFormat=function(t,e){var n=this.toFixed(t,e);if(this.c){var r,i=n.split("."),o=+M.groupSize,a=+M.secondaryGroupSize,s=M.groupSeparator,u=i[0],l=i[1],c=this.s<0,f=c?u.slice(1):u,d=f.length;if(a&&(r=o,o=a,d-=a=r),0<o&&0<d){for(r=d%o||o,u=f.substr(0,r);r<d;r+=o)u+=s+f.substr(r,o);0<a&&(u+=s+f.slice(r)),c&&(u="-"+u)}n=l?u+M.decimalSeparator+((a=+M.fractionGroupSize)?l.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+M.fractionGroupSeparator):l):u}return n},i.toFraction=function(t){var e,n,r,i,o,a,s,u,l,c,f,d,h=this,p=h.c;if(null!=t&&(!(u=new _(t)).isInteger()&&(u.c||1!==u.s)||u.lt(g)))throw Error(W+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+t);if(!p)return h.toString();for(n=new _(g),c=r=new _(g),i=l=new _(g),d=D(p),a=n.e=d.length-h.e-1,n.c[0]=U[(s=a%z)<0?z+s:s],t=!t||0<u.comparedTo(n)?0<a?n:c:u,s=v,v=1/0,u=new _(d),l.c[0]=0;f=y(u,n,0,1),1!=(o=r.plus(f.times(i))).comparedTo(t);)r=i,i=o,c=l.plus(f.times(o=c)),l=o,n=u.minus(f.times(o=n)),u=o;return o=y(t.minus(r),i,0,1),l=l.plus(o.times(c)),r=r.plus(o.times(i)),l.s=c.s=h.s,e=y(c,i,a*=2,w).minus(h).abs().comparedTo(y(l,r,a,w).minus(h).abs())<1?[c.toString(),i.toString()]:[l.toString(),r.toString()],v=s,e},i.toNumber=function(){return+this},i.toPrecision=function(t,e){return null!=t&&R(t,1,Y),n(this,t,e,2)},i.toString=function(t){var e,n=this,r=n.s,i=n.e;return null===i?r?(e="Infinity",r<0&&(e="-"+e)):e="NaN":(e=D(n.c),null==t?e=i<=p||o<=i?O(e,i):P(e,i,"0"):(R(t,2,A.length,"Base"),e=c(P(e,i,"0"),10,t,r,!0)),r<0&&n.c[0]&&(e="-"+e)),e},i.valueOf=i.toJSON=function(){var t,e=this,n=e.e;return null===n?e.toString():(t=D(e.c),t=n<=p||o<=n?O(t,n):P(t,n,"0"),e.s<0?"-"+t:t)},i._isBigNumber=!0,null!=t&&_.set(t),_}function N(t){var e=0|t;return 0<t||t===e?e:e-1}function D(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=z-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function L(t,e){var n,r,i=t.c,o=e.c,a=t.s,s=e.s,u=t.e,l=e.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==l,!i||!o)return r?0:!i^n?1:-1;if(!r)return l<u^n?1:-1;for(s=(u=i.length)<(l=o.length)?u:l,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return u==l?0:l<u^n?1:-1}function R(t,e,n,r){if(t<e||n<t||t!==(t<0?$(t):B(t)))throw Error(W+(r||"Argument")+("number"==typeof t?t<e||n<t?" out of range: ":" not an integer: ":" not a primitive number: ")+t)}function I(t){return"[object Array]"==Object.prototype.toString.call(t)}function F(t){var e=t.c.length-1;return N(t.e/z)==e&&t.c[e]%2!=0}function O(t,e){return(1<t.length?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function P(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var e,H=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,$=Math.ceil,B=Math.floor,W="[BigNumber Error] ",j=W+"Number primitive has more than 15 significant digits: ",q=1e14,z=14,V=9007199254740991,U=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],X=1e7,Y=1e9;(e=E())["default"]=e.BigNumber=e,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:(t||(globalScope="undefined"!=typeof self&&self?self:window),t.BigNumber=e)}(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new u.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var u=t.ActionCable;(function(){(function(){var r=function(t,e){return function(){return t.apply(e,arguments)}};u.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=r(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),u.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,u.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),u.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,r;return n=(r=this.constructor.pollInterval).min,e=r.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return u.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?u.log("ConnectionMonitor skipping reopening recent disconnect"):(u.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return u.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,i,e,n,r,o=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=u.INTERNAL,i=n.message_types,e=n.protocols,r=2<=e.length?o.call(e,0,t=e.length-1):(t=0,[]),e[t++],u.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new u.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(u.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(u.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new u.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(u.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,u.log("Failed to reopen WebSocket",t)}finally{u.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=s.call(r,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?o.call(arguments,0):[],t=this.getState(),0<=s.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,r;if(this.isProtocolSupported())switch(e=(r=JSON.parse(t.data)).identifier,n=r.message,r.type){case i.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case i.ping:return this.monitor.recordPing();case i.confirmation:return this.subscriptions.notify(e,"connected");case i.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(u.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return u.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(u.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return u.log("WebSocket onerror event")}},t}()}.call(this),function(){var l=[].slice;u.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,r,i;return r="object"==typeof(n=t)?n:{channel:n},i=new u.Subscription(this.consumer,r,e),this.add(i)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,r,i,o;for(i=[],e=0,n=(r=this.findAll(t)).length;e<n;e++)o=r[e],this.forget(o),this.notify(o,"rejected"),i.push(o);return i},t.prototype.forget=function(i){var o;return this.subscriptions=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(o=n[t])!==i&&r.push(o);return r}.call(this),i},t.prototype.findAll=function(t){var e,n,r,i,o;for(i=[],e=0,n=(r=this.subscriptions).length;e<n;e++)(o=r[e]).identifier===t&&i.push(o);return i},t.prototype.reload=function(){var t,e,n,r,i;for(r=[],t=0,e=(n=this.subscriptions).length;t<e;t++)i=n[t],r.push(this.sendCommand(i,"subscribe"));return r},t.prototype.notifyAll=function(t){var e,n,r,i,o,a,s;for(n=t,e=2<=arguments.length?l.call(arguments,1):[],a=[],r=0,i=(o=this.subscriptions).length;r<i;r++)s=o[r],a.push(this.notify.apply(this,[s,n].concat(l.call(e))));return a},t.prototype.notify=function(t,e){var n,r,i,o,a,s,u;for(s=t,r=e,n=3<=arguments.length?l.call(arguments,2):[],a=[],i=0,o=(u="string"==typeof s?this.findAll(s):[s]).length;i<o;i++)s=u[i],a.push("function"==typeof s[r]?s[r].apply(s,n):void 0);return a},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,
identifier:n})},t}()}.call(this),function(){u.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),r(this,n)}var r;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},r=function(t,e){var n,r;if(null!=e)for(n in e)r=e[n],t[n]=r;return t},t}()}.call(this),function(){u.Consumer=function(){function t(t){this.url=t,this.subscriptions=new u.Subscriptions(this),this.connection=new u.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),$(document).on("turbolinks:load",function(){$(".termsLinkNav li a").each(function(){$(this).hasClass("active")&&$("#activeFaqItemText").text($(this).text())}),$("#activeFaqItem").click(function(){$(".termsLinkNav").slideToggle(),$(".termsLinkNav li a").each(function(){$(this).hasClass("active")&&$(this).hide()})})});var LocalStoreManager=function(){function r(){var r=this;this.syncKeys=[],this.reservedKeys=["sync_keys","addToSyncKeys","removeFromSyncKeys","getSessionStorage","setSessionStorage","addToSessionStorage","removeFromSessionStorage","clearAllSessionsStorage","raiseDBEvent"],this.sessionStorageTransferHandler=function(t){if(t.newValue)if("getSessionStorage"==t.key)sessionStorage.length&&(localStorage.setItem("setSessionStorage",JSON.stringify(sessionStorage)),localStorage.removeItem("setSessionStorage"));else if("setSessionStorage"==t.key){r.syncKeys.length||r.loadSyncKeys();var e=JSON.parse(t.newValue);for(var n in e)r.syncKeysContains(n)&&sessionStorage.setItem(n,e[n])}else if("addToSessionStorage"==t.key){e=JSON.parse(t.newValue);r.addToSessionStorageHelper(e.data,e.key)}else"removeFromSessionStorage"==t.key?r.removeFromSessionStorageHelper(t.newValue):"clearAllSessionsStorage"==t.key&&sessionStorage.length?r.clearInstanceSessionStorage():"addToSyncKeys"==t.key?r.addToSyncKeysHelper(t.newValue):"removeFromSyncKeys"==t.key&&r.removeFromSyncKeysHelper(t.newValue)}}return r.prototype.initialiseStorageSyncListener=function(){1!=r.syncListenerInitialised&&(r.syncListenerInitialised=!0,window.addEventListener("storage",this.sessionStorageTransferHandler,!1),this.syncSessionStorage())},r.prototype.deinitialiseStorageSyncListener=function(){window.removeEventListener("storage",this.sessionStorageTransferHandler,!1),r.syncListenerInitialised=!1},r.prototype.syncSessionStorage=function(){localStorage.setItem("getSessionStorage","_dummy"),localStorage.removeItem("getSessionStorage")},r.prototype.clearAllStorage=function(){this.clearAllSessionsStorage(),this.clearLocalStorage()},r.prototype.clearAllSessionsStorage=function(){this.clearInstanceSessionStorage(),localStorage.removeItem(r.DBKEY_SYNC_KEYS),localStorage.setItem("clearAllSessionsStorage","_dummy"),localStorage.removeItem("clearAllSessionsStorage")},r.prototype.clearInstanceSessionStorage=function(){sessionStorage.clear(),this.syncKeys=[]},r.prototype.clearLocalStorage=function(){localStorage.clear()},r.prototype.addToSessionStorage=function(t,e){this.addToSessionStorageHelper(t,e),this.addToSyncKeysBackup(e),localStorage.setItem("addToSessionStorage",JSON.stringify({key:e,data:t})),localStorage.removeItem("addToSessionStorage")},r.prototype.addToSessionStorageHelper=function(t,e){this.addToSyncKeysHelper(e),sessionStorage.setItem(e,t)},r.prototype.removeFromSessionStorage=function(t){this.removeFromSessionStorageHelper(t),this.removeFromSyncKeysBackup(t),localStorage.setItem("removeFromSessionStorage",t),localStorage.removeItem("removeFromSessionStorage")},r.prototype.removeFromSessionStorageHelper=function(t){sessionStorage.removeItem(t),this.removeFromSyncKeysHelper(t)},r.prototype.testForInvalidKeys=function(e){if(!e)throw new Error("key cannot be empty");if(this.reservedKeys.some(function(t){return t==e}))throw new Error('The storage key "'+e+'" is reserved and cannot be used. Please use a different key')},r.prototype.syncKeysContains=function(e){return this.syncKeys.some(function(t){return t==e})},r.prototype.loadSyncKeys=function(){this.syncKeys.length||(this.syncKeys=this.getSyncKeysFromStorage())},r.prototype.getSyncKeysFromStorage=function(t){void 0===t&&(t=[]);var e=localStorage.getItem(r.DBKEY_SYNC_KEYS);return null==e?t:JSON.parse(e)},r.prototype.addToSyncKeys=function(t){this.addToSyncKeysHelper(t),this.addToSyncKeysBackup(t),localStorage.setItem("addToSyncKeys",t),localStorage.removeItem("addToSyncKeys")},r.prototype.addToSyncKeysBackup=function(e){var t=this.getSyncKeysFromStorage();t.some(function(t){return t==e})||(t.push(e),localStorage.setItem(r.DBKEY_SYNC_KEYS,JSON.stringify(t)))},r.prototype.removeFromSyncKeysBackup=function(t){var e=this.getSyncKeysFromStorage(),n=e.indexOf(t);-1<n&&(e.splice(n,1),localStorage.setItem(r.DBKEY_SYNC_KEYS,JSON.stringify(e)))},r.prototype.addToSyncKeysHelper=function(t){this.syncKeysContains(t)||this.syncKeys.push(t)},r.prototype.removeFromSyncKeys=function(t){this.removeFromSyncKeysHelper(t),this.removeFromSyncKeysBackup(t),localStorage.setItem("removeFromSyncKeys",t),localStorage.removeItem("removeFromSyncKeys")},r.prototype.removeFromSyncKeysHelper=function(t){var e=this.syncKeys.indexOf(t);-1<e&&this.syncKeys.splice(e,1)},r.prototype.saveSessionData=function(t,e){void 0===e&&(e=r.DBKEY_USER_DATA),this.testForInvalidKeys(e),this.removeFromSyncKeys(e),localStorage.removeItem(e),sessionStorage.setItem(e,t)},r.prototype.saveSyncedSessionData=function(t,e){void 0===e&&(e=r.DBKEY_USER_DATA),this.testForInvalidKeys(e),localStorage.removeItem(e),this.addToSessionStorage(t,e)},r.prototype.savePermanentData=function(t,e){void 0===e&&(e=r.DBKEY_USER_DATA),this.testForInvalidKeys(e),this.removeFromSessionStorage(e),localStorage.setItem(e,t)},r.prototype.moveDataToSessionStorage=function(t){void 0===t&&(t=r.DBKEY_USER_DATA),this.testForInvalidKeys(t);var e=this.getData(t);null!=e&&this.saveSessionData(e,t)},r.prototype.moveDataToSyncedSessionStorage=function(t){void 0===t&&(t=r.DBKEY_USER_DATA),this.testForInvalidKeys(t);var e=this.getData(t);null!=e&&this.saveSyncedSessionData(e,t)},r.prototype.moveDataToPermanentStorage=function(t){void 0===t&&(t=r.DBKEY_USER_DATA),this.testForInvalidKeys(t);var e=this.getData(t);null!=e&&this.savePermanentData(e,t)},r.prototype.getData=function(t){void 0===t&&(t=r.DBKEY_USER_DATA),this.testForInvalidKeys(t);var e=sessionStorage.getItem(t);return null==e&&(e=localStorage.getItem(t)),e},r.prototype.getDataObject=function(t){void 0===t&&(t=r.DBKEY_USER_DATA);var e=this.getData(t);return null!=e?JSON.parse(e):null},r.prototype.deleteData=function(t){void 0===t&&(t=r.DBKEY_USER_DATA),this.testForInvalidKeys(t),this.removeFromSessionStorage(t),localStorage.removeItem(t)},new r}();LocalStoreManager.initialiseStorageSyncListener(),LocalStoreManager.DBKEY_USER_DATA="user_data",LocalStoreManager.DBKEY_SYNC_KEYS="sync_keys",$(document).on("turbolinks:load",function(){var t=0,e=setInterval(function(){n()},100),n=function(){if(5<=t&&clearInterval(e),sessionStorage.jwt){var n=new WebSocket("wss://h-www.iconomi.net/app");n.onopen=function(){n.send(JSON.stringify({dataType:"user",authentication:sessionStorage.jwt}))},n.onclose=function(){},n.onerror=function(){},n.onmessage=function(t){var e=JSON.parse(t.data);"user"==e.dataType?($(document.body).addClass("user-logged"),n.close()):"exceptions/jwt"==e.dataType&&($(document.body).addClass("user-anonymous"),n.close())},clearInterval(e)}else 5<=t&&$(document.body).addClass("user-anonymous");t++}}),function(s){s.fn.extend({formatNumber:function(t){var e={cents:".",decimal:","},a=s.extend(e,t);return this.each(function(){var t,e,n,r,i=s(this);t=s.trim(i.html()),n=(e=(t+="").split(a.cents))[0],r=1<e.length?a.cents+e[1]:"";for(var o=/(\d+)(\d{3})/;o.test(n);)n=n.replace(o,"$1"+a.decimal+"$2");i.html(n+r)})}})}(jQuery),function(t,n){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(t,e){return n(t,e)});else if("undefined"!=typeof exports){var e=require("jquery");n(exports,e)}else n(t,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,d){function e(r,e){function i(t,e,n){return t[e]=n,t}function n(t,e){for(var n,r=t.match(h.key);void 0!==(n=r.pop());)if(h.push.test(n)){e=i([],o(t.replace(/\[\]$/,"")),e)}else h.fixed.test(n)?e=i([],n,e):h.named.test(n)&&(e=i({},n,e));return e}function o(t){return void 0===f[t]&&(f[t]=0),f[t]++}function a(t){switch(d('[name="'+t.name+'"]',e).attr("type")){case"checkbox":return"on"===t.value||t.value;default:return t.value}}function t(t){if(!h.validate.test(t.name))return this;var e=n(t.name,a(t));return c=r.extend(!0,c,e),this}function s(t){if(!r.isArray(t))throw new Error("formSerializer.addPairs expects an Array");for(var e=0,n=t.length;e<n;e++)this.addPair(t[e]);return this}function u(){return c}function l(){return JSON.stringify(u())}var c={},f={};this.addPair=t,this.addPairs=s,this.serialize=u,this.serializeJSON=l}var h={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return e.patterns=h,e.serializeObject=function(){return new e(d,this).addPairs(this.serializeArray()).serialize()},e.serializeJSON=function(){return new e(d,this).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof d.fn&&(d.fn.serializeObject=e.serializeObject,d.fn.serializeJSON=e.serializeJSON),t.FormSerializer=e}),function(){"use strict";function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,a=[],s=t.length,u=0;for(r=0;r<s;++r)(o=t.charCodeAt(r))<128?a[u++]=o:(o<2048?a[u++]=192|o>>6:(o<55296||57344<=o?a[u++]=224|o>>12:(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),a[u++]=240|o>>18,a[u++]=128|o>>12&63),a[u++]=128|o>>6&63),a[u++]=128|63&o);t=a}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}64<t.length&&(t=new Sha256(e,!0).update(t).array());var l=[],c=[];for(r=0;r<64;++r){var f=t[r]||0;l[r]=92^f,c[r]=54^f}Sha256.call(this,e,n),this.update(c),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,n){return function(t){return new Sha256(n,!0).update(t)[e]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||t===undefined)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(n,r){return function(t,e){return new HmacSha256(t,r,!0).update(e)[n]()}},createHmacMethod=function(e){var n=createHmacOutputMethod("hex",e);n.create=function(t){return new HmacSha256(t,e)},n.update=function(t,e){return n.create(t).update(e)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];n[r]=createHmacOutputMethod(r,e)}return n};Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,a=t.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:(r<2048?s[i>>2]|=(192|r>>6)<<SHIFT[3&i++]:(r<55296||57344<=r?s[i>>2]|=(224|r>>12)<<SHIFT[3&i++]:(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++]),s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++]),s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,64<=i?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],56<=e&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,a,s,u,l=this.h0,c=this.h1,f=this.h2,d=this.h3,h=this.h4,p=this.h5,g=this.h6,m=this.h7,v=this.blocks;for(t=16;t<64;++t)e=((i=v[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[t]=v[t-16]+e+v[t-7]+n<<0;for(u=c&f,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,m=(i=v[0]-1413257819)-150054599<<0,d=i+24177077<<0):(o=704751109,m=(i=v[0]-210244248)-1521486534<<0,d=i+143694565<<0),this.first=!1):(e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(o=l&c)^l&f^u,m=d+(i=m+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&g)+K[t]+v[t])<<0,d=i+(e+r)<<0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&l)^d&c^o,g=f+(i=g+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&h^~m&p)+K[t+1]+v[t+1])<<0,e=((f=i+(e+r)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&d)^f&l^a,p=c+(i=p+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&h)+K[t+2]+v[t+2])<<0,e=((c=i+(e+r)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(u=c&f)^c&d^s,h=l+(i=h+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&m)+K[t+3]+v[t+3])<<0,l=i+(e+r)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+d<<0,this.h4=this.h4+h<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(u+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||u.push(s>>24&255,s>>16&255,s>>8&255,255&s),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))}(),function(E){E.extend({tablesorter:new function(){function S(t){"undefined"!=typeof console&&"undefined"!=typeof console.log?console.log(t):alert(t)}function C(t,e){S(t+" ("+((new Date).getTime()-e.getTime())+"ms)")}function g(t,e,n){if(!e)return"";var r=t.config,i=r.textExtraction,o="";o="simple"===i?r.supportsTextContent?e.textContent:E(e).text():"function"==typeof i?i(e,t,n):"object"==typeof i&&i.hasOwnProperty(n)?i[n](e,t,n):r.supportsTextContent?e.textContent:E(e).text();return E.trim(o)}function h(t){var e,n,r,i,o,a,s=t.config,u=s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),l="";if(0===u.length)return s.debug?S("*Empty table!* Not building a parser cache"):"";if((u=u[0].rows)[0])for(e=[],n=u[0].cells.length,r=0;r<n;r++){if(i=(i=s.$headers.filter(":not([colspan])")).add(s.$headers.filter('[colspan="1"]')).filter('[data-column="'+r+'"]:last'),o=s.headers[r],a=A.getParserById(A.getData(i,o,"sorter")),s.empties[r]=A.getData(i,o,"empty")||s.emptyTo||(s.emptyToBottom?"bottom":"top"),s.strings[r]=A.getData(i,o,"string")||s.stringTo||"max",!a)t:{i=t,o=u,a=-1;var c=r,f=void 0,d=A.parsers.length,h=!1,p="";for(f=!0;""===p&&f;)o[++a]?(p=g(i,h=o[a].cells[c],c),i.config.debug&&S("Checking if value was empty on row "+a+", column: "+c+': "'+p+'"')):f=!1;for(;0<=--d;)if((f=A.parsers[d])&&"text"!==f.id&&f.is&&f.is(p,i,h)){a=f;break t}a=A.getParserById("text")}s.debug&&(l+="column:"+r+"; parser:"+a.id+"; string:"+s.strings[r]+"; empty: "+s.empties[r]+"\n"),e.push(a)}s.debug&&S(l),s.parsers=e}function p(t){var e,n,r,i,o,a,s,u,l,c=t.tBodies,f=t.config,d=f.parsers,h=[];if(f.cache={},!d)return f.debug?S("*Empty table!* Not building a cache"):"";for(f.debug&&(l=new Date),f.showProcessing&&A.isProcessing(t,!0),a=0;a<c.length;a++)if(f.cache[a]={row:[],normalized:[]},!E(c[a]).hasClass(f.cssInfoBlock)){for(e=c[a]&&c[a].rows.length||0,n=c[a].rows[0]&&c[a].rows[0].cells.length||0,i=0;i<e;++i)if(u=[],(s=E(c[a].rows[i])).hasClass(f.cssChildRow))f.cache[a].row[f.cache[a].row.length-1]=f.cache[a].row[f.cache[a].row.length-1].add(s);else{for(f.cache[a].row.push(s),o=0;o<n;++o)r=g(t,s[0].cells[o],o),r=d[o].format(r,t,s[0].cells[o],o),u.push(r),"numeric"===(d[o].type||"").toLowerCase()&&(h[o]=Math.max(Math.abs(r)||0,h[o]||0));u.push(f.cache[a].normalized.length),f.cache[a].normalized.push(u)}f.cache[a].colMax=h}f.showProcessing&&A.isProcessing(t),f.debug&&C("Building cache for "+e+" rows",l)}function m(t,e){var n,r,i,o,a,s,u,l,c,f,d,h=t.config,p=t.tBodies,g=[],m=h.cache;if(m[0]){for(h.debug&&(d=new Date),l=0;l<p.length;l++)if((n=E(p[l])).length&&!n.hasClass(h.cssInfoBlock)){for(a=A.processTbody(t,n,!0),n=m[l].row,o=(i=(r=m[l].normalized).length)?r[0].length-1:0,s=0;s<i;s++)if(f=r[s][o],g.push(n[f]),!h.appender||!h.removeRows)for(c=n[f].length,u=0;u<c;u++)a.append(n[f][u]);A.processTbody(t,a,!1)}h.appender&&h.appender(t,g),h.debug&&C("Rebuilt table",d),e||A.applyWidget(t),E(t).trigger("sortEnd",t)}}function v(t){var e,n,r,i,o,a,s,u,l,c,f=[],d={},h=0,p=E(t).find("thead:eq(0), tfoot").children("tr");for(e=0;e<p.length;e++)for(o=p[e].cells,n=0;n<o.length;n++){for(s=(a=(i=o[n]).parentNode.rowIndex)+"-"+i.cellIndex,u=i.rowSpan||1,l=i.colSpan||1,"undefined"==typeof f[a]&&(f[a]=[]),r=0;r<f[a].length+1;r++)if("undefined"==typeof f[a][r]){c=r;break}for(d[s]=c,h=Math.max(c,h),E(i).attr({"data-column":c}),r=a;r<a+u;r++)for("undefined"==typeof f[r]&&(f[r]=[]),s=f[r],i=c;i<c+l;i++)s[i]="x"}t.config.columns=h;var g,m,v,y,b,x,w,k=t.config;k.headerList=[],k.headerContent=[],k.debug&&(w=new Date),y=k.cssIcon?'<i class="'+k.cssIcon+'"></i>':"",k.$headers=E(t).find(k.selectorHeaders).each(function(t){m=E(this),g=k.headers[t],k.headerContent[t]=this.innerHTML,b=k.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,y),k.onRenderTemplate&&(v=k.onRenderTemplate.apply(m,[t,b]))&&"string"==typeof v&&(b=v),this.innerHTML='<div class="tablesorter-header-inner">'+b+"</div>",k.onRenderHeader&&k.onRenderHeader.apply(m,[t]),this.column=d[this.parentNode.rowIndex+"-"+this.cellIndex];var e=A.getData(m,g,"sortInitialOrder")||k.sortInitialOrder;this.order=/^d/i.test(e)||1===e?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,void 0!==(x=A.getData(m,g,"lockedOrder")||!1)&&!1!==x&&(this.order=this.lockedOrder=/^d/i.test(x)||1===x?[1,1,1]:[0,0,0]),m.addClass(k.cssHeader),k.headerList[t]=this,m.parent().addClass(k.cssHeaderRow),m.attr("tabindex",0)}),M(t),k.debug&&(C("Built headers:",w),S(k.$headers))}function r(t,e,n){var r=t.config;r.$table.find(r.selectorRemove).remove(),h(t),p(t),x(r.$table,e,n)}function M(t){var n,r=t.config;r.$headers.each(function(t,e){n="false"===A.getData(e,r.headers[t],"sorter"),e.sortDisabled=n,E(e)[n?"addClass":"removeClass"]("sorter-false")})}function y(t){var e,n,r,i=t.config,o=i.sortList,a=[i.cssAsc,i.cssDesc],s=E(t).find("tfoot tr").children().removeClass(a.join(" "));for(i.$headers.removeClass(a.join(" ")),r=o.length,e=0;e<r;e++)if(2!==o[e][1]&&(t=i.$headers.not(".sorter-false").filter('[data-column="'+o[e][0]+'"]'+(1===r?":last":""))).length)for(n=0;n<t.length;n++)t[n].sortDisabled||(t.eq(n).addClass(a[o[e][1]]),s.length&&s.filter('[data-column="'+o[e][0]+'"]').eq(n).addClass(a[o[e][1]]))}function b(r){var t,i,e,o,a,n,s,u,l,c=0,f=r.config,d=f.sortList,h=d.length,p=r.tBodies.length;if(!f.serverSideSorting&&f.cache[0]){for(f.debug&&(t=new Date),e=0;e<p;e++)a=f.cache[e].colMax,l=(n=f.cache[e].normalized)&&n[0]?n[0].length-1:0,n.sort(function(t,e){for(i=0;i<h;i++){o=d[i][0],u=d[i][1],s=/n/i.test(f.parsers&&f.parsers[o]&&f.parsers[o].type||"")?"Numeric":"Text",s+=0===u?"":"Desc",/Numeric/.test(s)&&f.strings[o]&&(c="boolean"==typeof f.string[f.strings[o]]?(0===u?1:-1)*(f.string[f.strings[o]]?-1:1):f.strings[o]&&f.string[f.strings[o]]||0);var n=E.tablesorter["sort"+s](r,t[o],e[o],o,a[o],c);if(n)return n}return t[l]-e[l]});f.debug&&C("Sorting on "+d.toString()+" and dir "+u+" time",t)}}function i(t,e){t.trigger("updateComplete"),"function"==typeof e&&e(t[0])}function x(t,e,n){!1===e||t[0].isProcessing?i(t,n):t.trigger("sorton",[t[0].config.sortList,function(){i(t,n)}])}function w(l){var u,c,f=l.config,d=f.$table;f.$headers.find(f.selectorSort).add(f.$headers.filter(f.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(t,e){if(1!==(t.which||t.button)&&!/sort|keypress/.test(t.type)||"keypress"===t.type&&13!==t.which||"mouseup"===t.type&&!0!==e&&250<(new Date).getTime()-c)return!1;if("mousedown"===t.type)return c=(new Date).getTime(),"INPUT"===t.target.tagName?"":!f.cancelSelection;f.delayInit&&!f.cache&&p(l);var n=(/TH|TD/.test(this.tagName)?E(this):E(this).parents("th, td").filter(":first"))[0];if(!n.sortDisabled){var r,i,o,a=l.config,s=!t[a.sortMultiSortKey],u=E(l);if(u.trigger("sortStart",l),n.count=t[a.sortResetKey]?2:(n.count+1)%(a.sortReset?3:2),a.sortRestart&&(i=n,a.$headers.each(function(){this===i||!s&&E(this).is("."+a.cssDesc+",."+a.cssAsc)||(this.count=-1)})),i=n.column,s){if(a.sortList=[],null!==a.sortForce)for(r=a.sortForce,o=0;o<r.length;o++)r[o][0]!==i&&a.sortList.push(r[o]);if((r=n.order[n.count])<2&&(a.sortList.push([i,r]),1<n.colSpan))for(o=1;o<n.colSpan;o++)a.sortList.push([i+o,r])}else if(a.sortAppend&&1<a.sortList.length&&A.isValueInArray(a.sortAppend[0][0],a.sortList)&&a.sortList.pop(),A.isValueInArray(i,a.sortList))for(o=0;o<a.sortList.length;o++)n=a.sortList[o],r=a.headerList[n[0]],n[0]===i&&(n[1]=r.order[r.count],2===n[1]&&(a.sortList.splice(o,1),r.count=-1));else if((r=n.order[n.count])<2&&(a.sortList.push([i,r]),1<n.colSpan))for(o=1;o<n.colSpan;o++)a.sortList.push([i+o,r]);if(null!==a.sortAppend)for(r=a.sortAppend,o=0;o<r.length;o++)r[o][0]!==i&&a.sortList.push(r[o]);u.trigger("sortBegin",l),setTimeout(function(){y(l),b(l),m(l)},1)}}),f.cancelSelection&&f.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),d.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(t){t.stopPropagation(),f.sortList=[],y(l),b(l),m(l)}).bind("updateAll.tablesorter",function(t,e,n){t.stopPropagation(),A.refreshWidgets(l,!0,!0),A.restoreHeaders(l),v(l),w(l),r(l,e,n)}).bind("update.tablesorter updateRows.tablesorter",function(t,e,n){t.stopPropagation(),M(l),r(l,e,n)}).bind("updateCell.tablesorter",function(t,e,n,r){var i,o,a;t.stopPropagation(),d.find(f.selectorRemove).remove(),t=(i=d.find("tbody")).index(E(e).parents("tbody").filter(":first"));var s=E(e).parents("tr").filter(":first");e=E(e)[0],i.length&&0<=t&&(o=i.eq(t).find("tr").index(s),a=e.cellIndex,i=f.cache[t].normalized[o].length-1,f.cache[t].row[l.config.cache[t].normalized[o][i]]=s,f.cache[t].normalized[o][a]=f.parsers[a].format(g(l,e,a),l,e,a),x(d,n,r))}).bind("addRows.tablesorter",function(t,e,n,r){t.stopPropagation();var i=e.filter("tr").length,o=[],a=e[0].cells.length,s=d.find("tbody").index(e.parents("tbody").filter(":first"));for(f.parsers||h(l),t=0;t<i;t++){for(u=0;u<a;u++)o[u]=f.parsers[u].format(g(l,e[t].cells[u],u),l,e[t].cells[u],u);o.push(f.cache[s].row.length),f.cache[s].row.push([e[t]]),f.cache[s].normalized.push(o),o=[]}x(d,n,r)}).bind("sorton.tablesorter",function(t,e,n,r){t.stopPropagation(),d.trigger("sortStart",this);var i,o,a,s=l.config;t=e||s.sortList,s.sortList=[],E.each(t,function(t,e){i=[parseInt(e[0],10),parseInt(e[1],10)],(a=s.headerList[i[0]])&&(s.sortList.push(i),o=E.inArray(i[1],a.order),a.count=0<=o?o:i[1]%(s.sortReset?3:2))}),y(l),d.trigger("sortBegin",this),b(l),m(l,r),"function"==typeof n&&n(l)}).bind("appendCache.tablesorter",function(t,e,n){t.stopPropagation(),m(l,n),"function"==typeof e&&e(l)}).bind("applyWidgetId.tablesorter",function(t,e){t.stopPropagation(),A.getWidgetById(e).format(l,f,f.widgetOptions)}).bind("applyWidgets.tablesorter",function(t,e){t.stopPropagation(),A.applyWidget(l,e)}).bind("refreshWidgets.tablesorter",function(t,e,n){t.stopPropagation(),A.refreshWidgets(l,e,n)}).bind("destroy.tablesorter",function(t,e,n){t.stopPropagation(),A.destroy(l,e,n)})}var A=this;A.version="2.10.8",A.parsers=[],A.widgets=[],A.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},A.log=S,A.benchmark=C,A.construct=function(s){return this.each(function(){if(!this.tHead||0===this.tBodies.length||!0===this.hasInitialized)return this.config&&this.config.debug?S("stopping initialization! No thead, tbody or tablesorter has already been initialized"):"";var t,e=E(this),n=this,r="",i=E.metadata;if(n.hasInitialized=!1,n.isProcessing=!0,n.config={},t=E.extend(!0,n.config,A.defaults,s),E.data(n,"tablesorter",t),t.debug&&E.data(n,"startoveralltimer",new Date),t.supportsTextContent="x"===E("<span>x</span>")[0].textContent,t.supportsDataObject=1.4<=parseFloat(E.fn.jquery),t.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(e.attr("class"))||(r=""!==t.theme?" tablesorter-"+t.theme:""),t.$table=e.addClass(t.tableClass+r),t.$tbodies=e.children("tbody:not(."+t.cssInfoBlock+")"),v(n),n.config.widthFixed&&0===E(n).find("colgroup").length){var o=E("<colgroup>"),a=E(n).width();E(n.tBodies[0]).find("tr:first").children("td").each(function(){o.append(E("<col>").css("width",parseInt(E(this).width()/a*1e3,10)/10+"%"))}),E(n).prepend(o)}h(n),t.delayInit||p(n),w(n),t.supportsDataObject&&"undefined"!=typeof e.data().sortlist?t.sortList=e.data().sortlist:i&&e.metadata()&&e.metadata().sortlist&&(t.sortList=e.metadata().sortlist),A.applyWidget(n,!0),
0<t.sortList.length?e.trigger("sorton",[t.sortList,{},!t.initWidgets]):t.initWidgets&&A.applyWidget(n),t.showProcessing&&e.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(t){A.isProcessing(n,"sortBegin"===t.type)}),n.hasInitialized=!0,n.isProcessing=!1,t.debug&&A.benchmark("Overall initialization time",E.data(n,"startoveralltimer")),e.trigger("tablesorter-initialized",n),"function"==typeof t.initialized&&t.initialized(n)})},A.isProcessing=function(t,e,n){var r=(t=E(t))[0].config;t=n||t.find("."+r.cssHeader),e?(0<r.sortList.length&&(t=t.filter(function(){return!this.sortDisabled&&A.isValueInArray(parseFloat(E(this).attr("data-column")),r.sortList)})),t.addClass(r.cssProcessing)):t.removeClass(r.cssProcessing)},A.processTbody=function(t,e,n){if(n)return t.isProcessing=!0,e.before('<span class="tablesorter-savemyplace"/>'),E.fn.detach?e.detach():e.remove();n=E(t).find("span.tablesorter-savemyplace"),e.insertAfter(n),n.remove(),t.isProcessing=!1},A.clearTableBody=function(t){E(t)[0].config.$tbodies.empty()},A.restoreHeaders=function(t){var e=t.config;e.$table.find(e.selectorHeaders).each(function(t){E(this).find(".tablesorter-header-inner").length&&E(this).html(e.headerContent[t])})},A.destroy=function(t,e,n){if((t=E(t)[0]).hasInitialized){A.refreshWidgets(t,!0,!0);var r=E(t),i=t.config,o=r.find("thead:first"),a=o.find("tr."+i.cssHeaderRow).removeClass(i.cssHeaderRow),s=r.find("tfoot:first > tr").children("th, td");o.find("tr").not(a).remove(),r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),i.$headers.add(s).removeClass(i.cssHeader+" "+i.cssAsc+" "+i.cssDesc).removeAttr("data-column"),a.find(i.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),A.restoreHeaders(t),!1!==e&&r.removeClass(i.tableClass+" tablesorter-"+i.theme),t.hasInitialized=!1,"function"==typeof n&&n(t)}},A.regex=[/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],A.sortText=function(t,e,n,r){if(e===n)return 0;var i=t.config,o=i.string[i.empties[r]||i.emptyTo],a=A.regex;if(""===e&&0!==o)return"boolean"==typeof o?o?-1:1:-o||-1;if(""===n&&0!==o)return"boolean"==typeof o?o?1:-1:o||1;if("function"==typeof i.textSorter)return i.textSorter(e,n,t,r);if(t=e.replace(a[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),r=n.replace(a[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),e=parseInt(e.match(a[2]),16)||1!==t.length&&e.match(a[1])&&Date.parse(e),n=parseInt(n.match(a[2]),16)||e&&n.match(a[1])&&Date.parse(n)||null){if(e<n)return-1;if(n<e)return 1}for(i=Math.max(t.length,r.length),e=0;e<i;e++){if(n=isNaN(t[e])?t[e]||0:parseFloat(t[e])||0,a=isNaN(r[e])?r[e]||0:parseFloat(r[e])||0,isNaN(n)!==isNaN(a))return isNaN(n)?1:-1;if(typeof n!=typeof a&&(n+="",a+=""),n<a)return-1;if(a<n)return 1}return 0},A.sortTextDesc=function(t,e,n,r){if(e===n)return 0;var i=t.config,o=i.string[i.empties[r]||i.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===n&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:"function"==typeof i.textSorter?i.textSorter(n,e,t,r):A.sortText(t,n,e)},A.getTextValue=function(t,e,n){if(e){var r=t?t.length:0,i=e+n;for(e=0;e<r;e++)i+=t.charCodeAt(e);return n*i}return 0},A.sortNumeric=function(t,e,n,r,i,o){return e===n?0:(r=(t=t.config).string[t.empties[r]||t.emptyTo],""===e&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===n&&0!==r?"boolean"==typeof r?r?1:-1:r||1:(isNaN(e)&&(e=A.getTextValue(e,i,o)),isNaN(n)&&(n=A.getTextValue(n,i,o)),e-n))},A.sortNumericDesc=function(t,e,n,r,i,o){return e===n?0:(r=(t=t.config).string[t.empties[r]||t.emptyTo],""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===n&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:(isNaN(e)&&(e=A.getTextValue(e,i,o)),isNaN(n)&&(n=A.getTextValue(n,i,o)),n-e))},A.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6",O:"\xd3\xd2\xd4\xd5\xd6",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},A.replaceAccents=function(t){var e,n="[",r=A.characterEquivalents;if(!A.characterRegex){for(e in A.characterRegexArray={},r)"string"==typeof e&&(n+=r[e],A.characterRegexArray[e]=RegExp("["+r[e]+"]","g"));A.characterRegex=RegExp(n+"]")}if(A.characterRegex.test(t))for(e in r)"string"==typeof e&&(t=t.replace(A.characterRegexArray[e],e));return t},A.isValueInArray=function(t,e){var n,r=e.length;for(n=0;n<r;n++)if(e[n][0]===t)return!0;return!1},A.addParser=function(t){var e,n=A.parsers.length,r=!0;for(e=0;e<n;e++)A.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(r=!1);r&&A.parsers.push(t)},A.getParserById=function(t){var e,n=A.parsers.length;for(e=0;e<n;e++)if(A.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return A.parsers[e];return!1},A.addWidget=function(t){A.widgets.push(t)},A.getWidgetById=function(t){var e,n,r=A.widgets.length;for(e=0;e<r;e++)if((n=A.widgets[e])&&n.hasOwnProperty("id")&&n.id.toLowerCase()===t.toLowerCase())return n},A.applyWidget=function(n,r){var t,e,i,o=(n=E(n)[0]).config,a=o.widgetOptions,s=[];o.debug&&(t=new Date),o.widgets.length&&(o.widgets=E.grep(o.widgets,function(t,e){return E.inArray(t,o.widgets)===e}),E.each(o.widgets||[],function(t,e){(i=A.getWidgetById(e))&&i.id&&(i.priority||(i.priority=10),s[t]=i)}),s.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),E.each(s,function(t,e){e&&(r?(e.hasOwnProperty("options")&&(a=n.config.widgetOptions=E.extend(!0,{},e.options,a)),e.hasOwnProperty("init")&&e.init(n,e,o,a)):!r&&e.hasOwnProperty("format")&&e.format(n,o,a,!1))})),o.debug&&(e=o.widgets.length,C("Completed "+(!0===r?"initializing ":"applying ")+e+" widget"+(1!==e?"s":""),t))},A.refreshWidgets=function(t,e,n){var r,i=(t=E(t)[0]).config,o=i.widgets,a=A.widgets,s=a.length;for(r=0;r<s;r++)a[r]&&a[r].id&&(e||E.inArray(a[r].id,o)<0)&&(i.debug&&S("Refeshing widgets: Removing "+a[r].id),a[r].hasOwnProperty("remove")&&a[r].remove(t,i,i.widgetOptions));!0!==n&&A.applyWidget(t,e)},A.getData=function(t,e,n){var r,i,o="";return(t=E(t)).length?(r=!!E.metadata&&t.metadata(),i=" "+(t.attr("class")||""),void 0!==t.data(n)||void 0!==t.data(n.toLowerCase())?o+=t.data(n)||t.data(n.toLowerCase()):r&&"undefined"!=typeof r[n]?o+=r[n]:e&&"undefined"!=typeof e[n]?o+=e[n]:" "!==i&&i.match(" "+n+"-")&&(o=i.match(RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),E.trim(o)):""},A.formatFloat=function(t,e){return"string"!=typeof t||""===t?t:(t=(e&&e.config?!1!==e.config.usNumberFormat:void 0===e||e)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(/,"-").replace(/\)/,"")),n=parseFloat(t),isNaN(n)?E.trim(t):n);var n},A.isDigit=function(t){return!isNaN(t)||/^[\-+(]?\d+[)]?$/.test(t.toString().replace(/[,.'"\s]/g,""))}}});var c=E.tablesorter;E.fn.extend({tablesorter:c.construct}),c.addParser({id:"text",is:function(){return!0},format:function(t,e){var n=e.config;return t&&(t=E.trim(n.ignoreCase?t.toLocaleLowerCase():t),t=n.sortLocaleCompare?c.replaceAccents(t):t),t},type:"text"}),c.addParser({id:"digit",is:function(t){return c.isDigit(t)},format:function(t,e){var n=c.formatFloat((t||"").replace(/[^\w,. \-()]/g,""),e);return t&&"number"==typeof n?n:t?E.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),c.addParser({id:"currency",is:function(t){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((t||"").replace(/[,. ]/g,""))},format:function(t,e){var n=c.formatFloat((t||"").replace(/[^\w,. \-()]/g,""),e);return t&&"number"==typeof n?n:t?E.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),c.addParser({id:"ipAddress",is:function(t){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(t)},format:function(t,e){var n,r=t?t.split("."):"",i="",o=r.length;for(n=0;n<o;n++)i+=("00"+r[n]).slice(-3);return t?c.formatFloat(i,e):t},type:"numeric"}),c.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(t){return t?E.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),c.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(t)},format:function(t,e){return t?c.formatFloat(""!==t&&new Date(t.replace(/-/g,"/")).getTime()||"",e):t},type:"numeric"}),c.addParser({id:"percent",is:function(t){return/(\d\s*?%|%\s*?\d)/.test(t)&&t.length<15},format:function(t,e){return t?c.formatFloat(t.replace(/%/g,""),e):t},type:"numeric"}),c.addParser({id:"usLongDate",is:function(t){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(t)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(t)},format:function(t,e){return t?c.formatFloat(new Date(t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",e):t},type:"numeric"}),c.addParser({id:"shortDate",is:function(t){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((t||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(t,e,n,r){if(t){var i=(n=e.config).headerList[r];r=i.dateFormat||c.getData(i,n.headers[r],"dateFormat")||n.dateFormat,t=t.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===r?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===r?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===r&&(t=t.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return t?c.formatFloat(new Date(t).getTime()||"",e):t},type:"numeric"}),c.addParser({id:"time",is:function(t){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,e){return t?c.formatFloat(new Date("2000/01/01 "+t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",e):t},type:"numeric"}),c.addParser({id:"metadata",is:function(){return!1},format:function(t,e,n){return t=(t=e.config).parserMetadataName?t.parserMetadataName:"sortValue",E(n).metadata()[t]},type:"numeric"}),c.addWidget({id:"zebra",priority:90,format:function(t,e,n){var r,i,o,a,s,u=RegExp(e.cssChildRow,"i"),l=e.$tbodies;for(e.debug&&(s=new Date),t=0;t<l.length;t++)1<(r=l.eq(t)).children("tr").length&&(o=0,(r=r.children("tr:visible")).each(function(){i=E(this),u.test(this.className)||o++,a=0==o%2,i.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])}));e.debug&&c.benchmark("Applying Zebra widget",s)},remove:function(t,e,n){var r;e=e.$tbodies;var i=(n.zebra||["even","odd"]).join(" ");for(n=0;n<e.length;n++)(r=E.tablesorter.processTbody(t,e.eq(n),!0)).children().removeClass(i),E.tablesorter.processTbody(t,r,!1)}})}(jQuery),$(document).ready(function(){document.cookie="",-1!==document.cookie.indexOf("closedBanner")&&$(".dsi").addClass("hidden"),$(".dsi-banner__cta, .dsi-banner__close").click(function(){$(".dsi").addClass("hidden"),document.cookie="closedBanner=true"})});