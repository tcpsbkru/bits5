!function(){"use strict";angular.module("GVB",["app.core","app.routes","app.navsearch","app.filters","app.loadingbar","app.translate","app.settings","app.utils","app.pages","app.dashboard","app.portfolio","app.myDaa","app.buyAndSell","app.depositAndWithdraw","app.twoFa","app.componentresolver","app.componenthelper","app.backend","app.account","app.audit","app.services","app.eventbus","app.websockethelper","app.oauth","app.directives","bcherny/formatAsCurrency","vcRecaptcha","angularMoment","internationalPhoneNumber","localytics.directives","angulartics","angulartics.piwik"]).config(["ipnConfig","$analyticsProvider",function(e,t){t.settings.pageTracking.basePath="/dashboard",e.skipUtilScriptDownload=!0,t.settings.pageTracking.autoTrackFirstPage=!1}])}(),function(){"use strict";angular.module("app.account",[])}(),function(){"use strict";angular.module("app.audit",[])}(),function(){"use strict";angular.module("app.buyAndSell",[])}(),function(){"use strict";angular.module("app.backend",[])}(),function(){"use strict";angular.module("app.colors",[])}(),function(){"use strict";angular.module("app.core",["ngRoute","ngAnimate","ngStorage","ngCookies","pascalprecht.translate","ui.bootstrap","ui.router","oc.lazyLoad","cfp.loadingBar","ngSanitize","ngResource","ui.utils"])}(),function(){"use strict";angular.module("app.dashboard",[])}(),function(){"use strict";angular.module("app.lazyload",[])}(),function(){"use strict";angular.module("app.loadingbar",[])}(),function(){"use strict";angular.module("app.depositAndWithdraw",[])}(),function(){"use strict";angular.module("app.myDaa",[])}(),function(){"use strict";angular.module("app.navsearch",[])}(),function(){"use strict";angular.module("app.portfolio",[])}(),function(){"use strict";angular.module("app.pages",[])}(),function(){"use strict";angular.module("app.preloader",[])}(),function(){"use strict";angular.module("app.routes",["app.lazyload"])}(),function(){"use strict";angular.module("app.settings",[])}(),function(){"use strict";angular.module("app.translate",[])}(),function(){"use strict";angular.module("app.twoFa",[])}(),function(){"use strict";angular.module("app.utils",["app.colors"])}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("account"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i(),void 0}angular.module("app.account").controller("AccountController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("audit"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!0),r.showSubNavigation(!1)}i()}angular.module("app.audit").controller("AuditController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.daaCurrencyTicker=e.daaCurrencyTicker}var c=this;i()}angular.module("app.buyAndSell").controller("BuyController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("popup__overlay"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.offerId=e.offerId}var c=this;i()}angular.module("app.buyAndSell").controller("BuyPreviewController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.formatAsCurrency=e():"undefined"!=typeof global?global.formatAsCurrency=e():"undefined"!=typeof self&&(self.formatAsCurrency=e())}(function(){return function e(t,n,o){function a(i,c){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(r)return r(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return a(n?n:e)},u,u.exports,e,t,n,o)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(e,t,n){t.exports="bcherny/formatAsCurrency",angular.module("bcherny/formatAsCurrency",[]).service("formatAsCurrencyUtilities",function(){this.occurrences=function(e,t){if(!angular.isString(e))throw new TypeError("formatAsCurrencyUtilities#occurrences expects its 1st argument to be a String, but was given "+e);if(!angular.isArray(t))throw new TypeError("formatAsCurrencyUtilities#occurrences expects its 2nd argument to be an Array, but was given "+t);return t.forEach(function(e,t){if(!angular.isString(e))throw new TypeError("formatAsCurrencyUtilities#occurrences expects needles to be Strings, but needle #"+t+" is "+e)}),t.map(function(t){var n=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return(e.match(new RegExp("["+n+"]","g"))||[]).length}).reduce(function(e,t){return e+t},0)},this.toFloat=function(e){if(!angular.isString(e))throw new TypeError("formatAsCurrencyUtilities#toFloat expects its 1st argument to be a String, but was given "+e);return parseFloat(e.replace(/(\$|\,)+/g,""),10)},this.uniq=function(e){return e.reduce(function(e,t){return e.indexOf(t)>-1?e:e.concat(t)},[])},this.uniqueChars=function(e,t){if(!angular.isString(e))throw new TypeError("formatAsCurrencyUtilities#uniqueChars expects its 1st argument to be a String, but was given "+e);if(!angular.isString(t))throw new TypeError("formatAsCurrencyUtilities#uniqueChars expects its 2nd argument to be a String, but was given "+t);var n=e.split("");return this.uniq(t.split("").sort().reduce(function(e,t){return n.indexOf(t)<0?e.concat(t):e},[]))}}).directive("formatAsCurrency",["$filter","$locale","formatAsCurrencyUtilities",function(e,t,n){var o=n;return{require:"ngModel",restrict:"A",link:function(t,n,a,r){function i(){c=JSON.parse(a.currency);var i=e("currency");t.$watch(function(){return t.$eval(a.currencyFilter)},function(t){i=e(t?t:"currency")}),r.$formatters.push(function(e){return i(e,c)}),r.$parsers.push(function(e){e=e.replace(/[a-zA-Z!\?>:;\|<@#%\^&\*\)\(\+\/\\={}\[\]_]/g,"");var t=(Math.floor(100*o.toFloat(e))/100).toFixed(2);if(r.$validators.currency(t)){var a=i(t,c),s=o.uniqueChars(t,a),u=[e,a].map(function(e){return o.occurrences(e,s)}).reduce(function(e,t){return t-e}),l=[n[0].selectionStart,n[0].selectionEnd].map(function(e){return e+u});r.$setViewValue(a),r.$render(),n[0].setSelectionRange(l[0],l[1])}return t}),r.$validators.currency=function(e){return!isNaN(e)}}var c="";a.$observe("currency",function(){a.currency&&i()})}}}])},{}]},{},[1])(1)}),function(){"use strict";function e(){return function(e,t){return"fiat"==t.type?t.currencySymbol+e:"crypto"==t.type||"fund"==t.type?e+" "+t.ticker:void 0}}angular.module("app.buyAndSell").filter("currencyFilter",e)}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.daaCurrencyTicker=e.daaCurrencyTicker}var c=this;i()}angular.module("app.buyAndSell").controller("SellController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("popup__overlay"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.offerId=e.offerId}var c=this;i()}angular.module("app.buyAndSell").controller("SellPreviewController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("layout-buy-and-sell popup__overlay"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),e.transactionId&&(c.transactionId=e.transactionId),e.flow&&(c.completed=!0)}var c=this;i()}angular.module("app.buyAndSell").controller("TransactionController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("layout-deposit-and-withdraw"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.currency=e.currency}var c=this;i()}angular.module("app.backend").controller("backend",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";angular.module("app.colors").constant("APP_COLORS",{primary:"#5d9cec",success:"#27c24c",info:"#23b7e5",warning:"#ff902b",danger:"#d55161",inverse:"#131e26",green:"#37bc9b",pink:"#f532e5",purple:"#7266ba",dark:"#3a3f51",yellow:"#fad732","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"})}(),function(){"use strict";function e(e){function t(t){return e[t]||"#fff"}this.byName=t}angular.module("app.colors").service("Colors",e),e.$inject=["APP_COLORS"]}(),function(){"use strict";function e(e,t,n,o,a){var r=angular.module("app.core");r.controller=e.register,r.directive=t.directive,r.filter=n.register,r.factory=o.factory,r.service=o.service,r.constant=o.constant,r.value=o.value,a.classNameFilter(/^((?!(ng-no-animation)).)*$/)}angular.module("app.core").config(e),e.$inject=["$controllerProvider","$compileProvider","$filterProvider","$provide","$animateProvider"]}(),function(){"use strict";angular.module("app.core").constant("APP_MEDIAQUERY",{desktopLG:1200,desktop:992,tablet:768,mobile:480})}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s,u,l){e.$state=t,e.$stateParams=n,e.$storage=o.localStorage;var d=r.search();null!=d.ref&&localStorage.setItem("refCode",d.ref);var p=function(e,n,o,a){return!!s.isStateAllowed(e.allow)||(s.needsAuthorization(e.allow)?(o&&"page.login"==o.name||(s.setRouteBeforeLogin(e.name,n),t.go("page.login")),!1):o.name&&s.isStateAllowed(o.allow)?(t.go(o.name,a),!1):(t.go("app.dashboard"),!1))},m=function(e){return(e||t.current).title?"GVB - "+(e||t.current).title:"GVB"};e.$on("$stateChangeStart",function(e,t,n,o,a){return s.shouldAuthBeKnown()?(p(t,n,o,a)||e.preventDefault(),void(document.title=m(t))):void u(function(){p(t,n,o,a)},1e3)}),e.colorByName=i.byName,e.cancel=function(e){e.stopPropagation()},e.$on("$stateNotFound",function(e,t,n){void 0,void 0,void 0,document.title=m(n)}),e.$on("$stateChangeError",function(e,t,n,o,a,r){void 0,document.title=m(o)}),e.$on("$stateChangeSuccess",function(n,a,r){o.scrollTo(0,0),e.currTitle=t.current.title,c.reset(),s.isAuthorized()||t.current.redirectionDisabled||(s.setRouteBeforeLogin(a.name,r),void 0)}),e.$watch("$state.current.title",function(t,n){t&&e.pageTitle()}),e.currTitle=t.current.title,e.pageTitle=function(){return document.title=m(),m()},e.$watch("$state.current.description",function(t,n){t&&e.pageDescription()}),e.pageDescription=function(){if(void 0!=t.current.description)var e=t.current.description;else var e="Your connection to the distributed economy";return document.description=e,e}}angular.module("app.core").run(e),e.$inject=["$rootScope","$state","$stateParams","$window","$templateCache","$location","Colors","LayoutService","OAuth","$timeout","AssetService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,a.setDynamicBodyClassName("layout-dashboard-activity"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}i()}angular.module("app.dashboard").controller("ActivityEmptyController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService","$timeout"]}(),function(){"use strict";function e(e,t,n,o){function a(){void 0,n.setDynamicBodyClassName("layout-dashboard-activity"),n.showUserInfoBanner(!0),n.showSubNavigation(!0)}a()}angular.module("app.dashboard").controller("ActivitySimpleController",e),e.$inject=["$scope","$state","LayoutService","$timeout"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-dashboard alpha"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("AlphaDashboardController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-compare"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("CompareDaasController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-daa"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("DaaController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-dashboard"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("DashboardController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-dashboard ICNL"),a.showUserInfoBanner(!0),a.showSubNavigation(!0),t.coin="ICNL",i.coin="ICNL",i.currency="ICNL",i.from=14779584e5,i.to=moment().utc().valueOf(),i.chartGranulation="HOURLY",i.currency="ICNL",i.childLoaded=!1}var i=this;r()}angular.module("app.dashboard").controller("DashboardICNLController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-dashboard CCP"),a.showUserInfoBanner(!0),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("DashboardCCPController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-dashboard-detailed"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.childLoaded=!1,a.coin?c.coin=a.coin:o.go("app.dashboard")}var c=this;i()}angular.module("app.dashboard").controller("DetailedPageFundController",e),e.$inject=["$rootScope","$scope","$http","$state","$stateParams","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-dashboard-detailed"),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.childLoaded=!1,a.coin?c.coin=a.coin:o.go("app.dashboard")}var c=this;i()}angular.module("app.dashboard").controller("DetailedPageTokenController",e),e.$inject=["$rootScope","$scope","$http","$state","$stateParams","LayoutService"]}(),function(){"use strict";angular.module("app.componentresolver",[])}(),function(){"use strict";function e(e,t,n,o){var a=TAFFY();return{AddComponent:function(e){return a.insert(e),_.first(a(e).get()).___id},RemoveComponent:function(e){e&&a(e).remove()},handleResponse:function(e){e.$resolve.then(function(e){})},handleWSResponse:function(e){if("user-logout"==e.dataType&&(n.logout(),o.location.href=config.oauth_site),"error"==e.dataType)void 0;else{var r=this.QueryStringToHash(e.filter||"");t.popReqQueueItem(e.dataType);var i=[{_componentType:e.dataType,_componentFilter:r},function(){if(void 0===this._responseMessage)return!1;var t=this._responseMessage;if(t._componentType!=e.dataType)return!1;var n=_.pick(r,_.keys(t._componentFilter));return _.isEqual(t._componentFilter||{},n)}];a(i).each(function(t){t.render(e)})}},handleWSTimeout:function(e){var t=this.QueryStringToHash(e.filter||"");a({_componentType:e.dataType,_componentFilter:t}).each(function(e){e.hasOwnProperty("timeout")&&e.timeout()})},QueryStringToHash:function(e){if(""==e)return{};for(var t={},n=e.split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]=decodeURIComponent(a[0]),a[1]=decodeURIComponent(a[1]),"undefined"==typeof t[a[0]])t[a[0]]=a[1];else if("string"==typeof t[a[0]]){var r=[t[a[0]],a[1]];t[a[0]]=r}else t[a[0]].push(a[1])}return t},refreshAll:function(){a({}).each(function(e){e.hasOwnProperty("refresh")&&e.refresh()})}}}angular.module("app.componentresolver").service("ComponentResolver",e),e.$inject=["$rootScope","WebSocketHelper","OAuth","$window"]}(),function(){"use strict";angular.module("app.componenthelper",[])}(),function(){"use strict";function e(){return{generateRequestData:function(e){var t={dataType:e._componentType,filter:$.param(e._componentFilter,!0)};for(var n in e._componentFilter)t[n]=e._componentFilter[n];return e._responseMessage?t.response={dataType:e._responseMessage._componentType,filter:$.param(e._responseMessage._componentFilter,!0)}:t.response={dataType:t.dataType,filter:t.filter},t},generateSubscriptionRequestData:function(e,t,n){var o={dataType:t?"subscribe-message":"unsubscribe-message",subscriptionDataType:e._componentType,subscriptionFilter:$.param(e._componentFilter,!0),subscriptionPeriod:n};return e._responseMessage?o.response={dataType:e._responseMessage._componentType,filter:$.param(e._responseMessage._componentFilter,!0)}:o.response={dataType:o.subscriptionDataType,filter:o.subscriptionFilter},o},checkComponent:function(e){var t=[];e.hasOwnProperty("_componentType")||t.push("Missing _componentType property"),e.hasOwnProperty("_componentFilter")||t.push("Missing _componentFilter property"),e.hasOwnProperty("render")||t.push("Missing render function"),e.hasOwnProperty("refresh")||t.push("Missing refresh function"),e.hasOwnProperty("$onInit")||t.push("Missing $onInit function"),e.hasOwnProperty("$onDestroy")||t.push("Missing $onDestroy function"),t.length&&void 0}}}angular.module("app.componenthelper").service("ComponentHelper",e),e.$inject=[]}(),function(){"use strict";angular.module("app.eventbus",[])}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){return e(function(e,t){void 0;var a=new WebSocket(config.ws_url);return a.readyState==WebSocket.CLOSED?(void 0,t()):(a.onopen=function(){e(a),void 0},a.onclose=function(e){t(),void 0},a.onerror=function(e){void 0},void(a.onmessage=function(e){C=Date.now(),$=Date.now();var t=JSON.parse(e.data);o.handleWSResponse(t),n.$apply(function(){n.$broadcast("userMessage",t),"exceptions/jwt"==t.dataType&&r.isStateAllowed(i.current.allow)&&(r.logout(),i.go("app.dashboard"))})}))})}function u(){return s().then(function(e){return h=f,y&&(y=null,o.refreshAll()),e})["catch"](function(){v&&t.cancel(v),y=Date.now()+h;var n=e.defer();return v=t(function(){return v=null,h=Math.min(g,2*h),u().then(function(e){n.resolve(e)},function(){n.reject()})},h),n.promise})}function l(){return m||(m=u()),m.then(function(e){return e.readyState===WebSocket.OPEN?e:(m=null,t(h).then(l))})}function d(){return Date.now()-C>5e3}function p(){return Date.now()-$>3e4}var m=null,f=1e3,g=32e3,h=f,y=null,v=null,$=null,w=Date.now(),C=Date.now();c(function(){l().then(function(){C=Date.now()})},1e3),n.hasLastMessageExpired=p,n.hasSocketConnection=function(){return Date.now()-w<5e3||!d()&&!p()},n.getReconnectingTime=function(){return Math.round((y-Date.now())/1e3)},n.reconnectMessage=function(){if(!d())return"Reconnecting ...";var e=n.getReconnectingTime();return e>0?"Connecting in "+e+"s":"Reconnecting ..."},n.reconnectNow=function(){v&&t.cancel(v),h=f,y=Date.now(),m=null,l()};var D={get:function(e){o.handleResponse(ChartService.get(e))},getSocket:function(n,o){e(function(e){D.sendSocket(_.omit(n,"response"),e)}).then(function(){var e=o||3e3;a.pushReqQueueItem({component:n,cb:t(function(){D.WSTimeout(n)},e)})})},sendEvent:function(n,o,r){e(function(e){o.dataType=n,D.sendSocket(_.omit(o,"response"),e)}).then(function(){var e=r||3e3;void 0,a.pushReqQueueItem({component:o,cb:t(function(){D.WSTimeout(o)},e)})})},sendSocket:function(e,t){l().then(function(n){r.get()&&(e.authentication=r.get()),n.send(JSON.stringify(e)),t(e)})},WSunsubscription:function(e){e&&e.unsubscribe()},WSTimeout:function(e){o.handleWSTimeout(e)}};return D}angular.module("app.eventbus").service("EventBus",e),e.$inject=["$q","$timeout","$rootScope","ComponentResolver","WebSocketHelper","OAuth","$state","$interval"]}(),function(){"use strict";angular.module("app.oauth",[])}(),function(){"use strict";function e(e,t,n){var o=Date.now(),a={setToken:function(e){n.userIsAuthorized=!0,LocalStoreManager.saveSyncedSessionData(e,"jwt")},login:function(){t.go("page.login")},logout:function(){n.userIsAuthorized=!1,LocalStoreManager.saveSyncedSessionData("","jwt")},isAuthorized:function(){return n.userIsAuthorized=!!LocalStoreManager.getData("jwt")},isStateAllowed:function(e){if("all"==e)return!0;e=e||"authorized";var t=a.isAuthorized()?"authorized":"anonymous";return e==t},setRouteBeforeLogin:function(t,n){e.sessionStorage.setItem("route",t+";"+JSON.stringify(n))},getRouteBeforeLogin:function(){var t=e.sessionStorage.getItem("route"),n=null;return null!==t&&(n={name:t.substr(0,t.indexOf(";")),params:JSON.parse(t.substr(t.indexOf(";")+1))}),n},removeRouteBeforeLogin:function(){e.sessionStorage.removeItem("route")},shouldAuthBeKnown:function(){return Date.now()-o>1e3},needsAuthorization:function(e){return"authorized"==(e||"authorized")},get:function(){return this.isAuthorized()?LocalStoreManager.getData("jwt"):null},getRedirectParams:function(t){var n=e.sessionStorage.getItem(t);return n?JSON.parse(n):null},clearRedirectParams:function(t){e.sessionStorage.removeItem(t)}};a.isAuthorized(),n.$on("userMessage",function(e,n){"exceptions/jwt"==n.dataType&&(a.logout(),a.login()),"identity/jwt"==n.dataType&&a.setToken(n.data.jwtToken),"identity/logout/success"==n.dataType&&(a.logout(),t.go("app.dashboard"))});var r=setInterval(function(){a.isAuthorized()&&clearTimeout(r)},250);return a}angular.module("app.oauth").service("OAuth",e),e.$inject=["$window","$state","$rootScope"]}(),function(){"use strict";angular.module("app.websockethelper",[])}(),function(){"use strict";function e(e,t,n,o){var a={create:function(){return new o(function(e,t){var n=new WebSocket(config.ws_url);n.onopen=function(t){e(n)}})},popReqQueueItem:function(n){"undefined"==typeof t.reqQueue&&(t.reqQueue=[]);for(var o=0;o<t.reqQueue.length;o++)t.reqQueue[o].component.response&&t.reqQueue[o].component.response.dataType==n&&(e.cancel(t.reqQueue[o].cb),t.reqQueue.splice(o,1))},pushReqQueueItem:function(e){"undefined"==typeof t.reqQueue&&(t.reqQueue=[]),t.reqQueue.push(e)}};return a}angular.module("app.websockethelper").service("WebSocketHelper",e),e.$inject=["$timeout","$rootScope","OAuth","$q"]}(),function(){"use strict";function e(e,t){e.config({debug:!1,events:!0,modules:t.modules})}angular.module("app.lazyload").config(e),e.$inject=["$ocLazyLoadProvider","APP_REQUIRES"]}(),function(){"use strict";angular.module("app.lazyload").constant("APP_REQUIRES",{scripts:{modernizr:["vendor/modernizr/modernizr.custom.b0f07aa9.js"],icons:["vendor/fontawesome/css/font-awesome.min.930cba75.css","vendor/simple-line-icons/css/simple-line-icons.434e6c3a.css"],d3:["vendor/d3/d3.3c080d65.js?v=develop"],taffydb:["vendor/taffydb/taffy-min.2d2fee9d.js"],underscore:["vendor/underscore/underscore-min.9ee398e7.js"],sprintf:["vendor/sprintf/src/sprintf.61c23cce.js"],moment:["vendor/moment/min/moment-with-locales.min.64df0631.js"],qrcodejs:["vendor/qrcodejs/qrcode.bbd1d77f.js"]},modules:[{name:"nvd3",files:["vendor/nvd3/build/nv.d3.94a8b3de.js?v=develop","vendor/nvd3/build/nv.d3.d7e1a352.css?v=develop","vendor/angular-nvd3/dist/angular-nvd3.359360a9.js?v=develop"]},{name:"query-string",files:["vendor/query-string/query-string.610d4287.js"]},{name:"jScrollPane",files:["vendor/jScrollPane/script/jquery.mousewheel.0679d645.js","vendor/jScrollPane/script/jquery.jscrollpane.831ab5d3.js"]},{name:"toArrayFilter",files:["vendor/angular-toArrayFilter/toArrayFilter.457d8571.js"]}]})}(),function(){"use strict";function e(e){e.includeBar=!0,e.includeSpinner=!1,e.latencyThreshold=500,e.parentSelector="header"}angular.module("app.loadingbar").config(e),e.$inject=["cfpLoadingBarProvider"]}(),function(){"use strict";function e(e,t,n){var o;e.$on("$stateChangeStart",function(e){if($("header").length){if(e.defaultPrevented)return;o=t(function(){n.start()},0)}}),e.$on("$stateChangeSuccess",function(e){e.targetScope.$watch("$viewContentLoaded",function(){t.cancel(o),n.complete()})})}angular.module("app.loadingbar").run(e),e.$inject=["$rootScope","$timeout","cfpLoadingBar"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.currency=e.currency}var c=this;i()}angular.module("app.depositAndWithdraw").controller("DepositCryptoToAddress",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-deposit-and-withdraw"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i()}angular.module("app.depositAndWithdraw").controller("DepositFiat",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}var c=this;c.depositOrWithdraw=e.depositOrWithdraw,i()}angular.module("app.depositAndWithdraw").controller("DepositWithdrawOTC",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0),36==e.currency_or_offer.length?c.offerId=e.currency_or_offer:c.currency=e.currency_or_offer}var c=this;i()}angular.module("app.depositAndWithdraw").controller("WithdrawAmount",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-deposit-and-withdraw"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i()}angular.module("app.depositAndWithdraw").controller("WithdrawFiatComplete",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-deposit-and-withdraw"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i()}angular.module("app.depositAndWithdraw").controller("WithdrawFiat",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("layout-deposit-and-withdraw"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i()}angular.module("app.depositAndWithdraw").controller("WithdrawFiatSummary",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0),c.offerId=e.offerId}var c=this;i()}angular.module("app.depositAndWithdraw").controller("WithdrawReview",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){void 0,r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0),e.transactionId&&(c.transactionId=e.transactionId)}var c=this;i()}angular.module("app.depositAndWithdraw").controller("WithdrawVerification",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.setDynamicBodyClassName("layout-manager"),a.showUserInfoBanner(!0),a.showSubNavigation(!0),a.showNotificationBanner(!1)}r()}angular.module("app.dashboard").controller("ManagerProfileController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("my-daa"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!0),r.showSubNavigation(!0)}i(),void 0}angular.module("app.myDaa").controller("MyDaaController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(){var e={controller:n,restrict:"A"};return e}function t(){var e={controller:o,restrict:"A"};return e}function n(e,t,n){t.on("click",function(e){e.stopPropagation()}).on("click",n.toggle)}function o(e,t,n){var o='.navbar-form input[type="text"]';$(o).on("click",function(e){e.stopPropagation()}).on("keyup",function(e){27===e.keyCode&&n.dismiss()}),$(document).on("click",n.dismiss),t.on("click",function(e){e.stopPropagation()}).on("click",n.dismiss)}angular.module("app.navsearch").directive("searchOpen",e).directive("searchDismiss",t),n.$inject=["$scope","$element","NavSearch"],o.$inject=["$scope","$element","NavSearch"]}(),function(){"use strict";function e(){function e(){var e=$(n);e.toggleClass("open");var t=e.hasClass("open");e.find("input")[t?"focus":"blur"]()}function t(){$(n).removeClass("open").find('input[type="text"]').blur().val("")}this.toggle=e,this.dismiss=t;var n="form.navbar-form"}angular.module("app.navsearch").service("NavSearch",e)}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("portfolio"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!0),r.showSubNavigation(!0)}i(),void 0}angular.module("app.portfolio").controller("PortfolioController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o){function a(){void 0}a()}angular.module("app.pages").controller("checkYourEmailController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){void 0,a.setDynamicBodyClassName("popup__overlay"),a.showDepositAndWithdrawBanner(!1),a.showUserInfoBanner(!1),a.showSubNavigation(!0)}r()}angular.module("app.dashboard").controller("DeactivateAccountEmailVerifyController",e),e.$inject=["$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o){}angular.module("app.pages").controller("DisclaimerController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n,o){}angular.module("app.pages").controller("ForgottenPasswordFormController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n,o){}angular.module("app.pages").controller("LoginFormController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n,o){}angular.module("app.pages").controller("SetNewPasswordController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n,o){function a(){void 0}a()}angular.module("app.pages").controller("TwoFaFormController",e),e.$inject=["$rootScope","$scope","$http","$state"]}(),function(){"use strict";function e(e,t,n){function o(o,a){function r(){var e=100-u;u+=.015*Math.pow(1-Math.sqrt(e),2),
o.loadCounter=parseInt(u,10),s=t(r,20)}function i(){t.cancel(s),o.loadCounter=100,t(function(){e.addClass(a,"preloader-hidden"),angular.element("body").css("overflow","")},300)}function c(){var e=n.defer(),a=0,r=o.$on("$viewContentLoaded",function(){a++,2===a&&(t(function(){e.resolve()},3e3),r())});return e.promise}o.loadCounter=0;var s,u=0;angular.element("body").css("overflow","hidden"),a.addClass("preloader"),c().then(i),s=t(r)}var a={restrict:"EAC",template:'<div class="preloader-progress"><div class="preloader-progress-bar" ng-style="{width: loadCounter + \'%\'}"></div></div>',link:o};return a}angular.module("app.preloader").directive("preloader",e),e.$inject=["$animate","$timeout","$q"]}(),function(){"use strict";function e(e){function t(e){return"app/views/"+e}function n(){var t=arguments;return{deps:["$ocLazyLoad","$q",function(n,o){function a(e){return"function"==typeof e?i.then(e):i.then(function(){var t=r(e);return t?n.load(t):$.error("Route resolve: Bad resource name ["+e+"]")})}function r(t){if(e.modules)for(var n in e.modules)if(e.modules[n].name&&e.modules[n].name===t)return e.modules[n];return e.scripts&&e.scripts[t]}for(var i=o.when(1),c=0,s=t.length;c<s;c++)i=a(t[c]);return i}]}}return{basepath:t,resolveFor:n,$get:function(){return{basepath:t,resolveFor:n}}}}angular.module("app.routes").provider("RouteHelpers",e),e.$inject=["APP_REQUIRES"]}(),function(){"use strict";function e(e,t,n,o,a){t.html5Mode(!1),n.otherwise("/"),e.state("app",{"abstract":!0,templateUrl:"app/views/app.004baca9.html",resolve:a.resolveFor("modernizr","icons","query-string","d3","nvd3","taffydb","underscore","sprintf","jScrollPane","moment","toArrayFilter")}).state("app.dashboard",{url:"/",title:"Dashboard",description:"Digital GVB Assets on the GVB Platform",controller:"AlphaDashboardController",controllerAs:"ctrl",activeType:"home",templateUrl:"app/views/dashboard/alpha_dashboard.62e161bf.html",allow:"all"}).state("app.daa",{url:"/daa/:currency",title:"GVB",description:"GVB",controller:"DaaController",controllerAs:"ctrl",activeType:"home",templateUrl:"app/views/daa/daa.2b492aa2.html",allow:"all"}).state("app.compareDaas",{url:"/compare/:currencyOne/:currencyTwo",title:"Compare GVBs",description:"Select two GVBs to compare structure and performance.",controller:"CompareDaasController",controllerAs:"ctrl",activeType:"compareDaas",templateUrl:"app/views/dashboard/compare_daas.d5b4aaaa.html",allow:"all"}).state("app.portfolio",{url:"/portfolio",title:"Portfolio",controller:"PortfolioController",controllerAs:"ctrl",activeType:"portfolio",templateUrl:"app/views/portfolio/portfolio.ea0cb82e.html"}).state("app.managerProfile",{url:"/manager/:managerAddress",title:"Manager Profile",controller:"ManagerProfileController",controllerAs:"ctrl",activeType:"home",templateUrl:"app/views/manager_profile/manager_profile.992c11ba.html",allow:"all"}).state("app.myDaa",{url:"/my-daa/:currency?/:activePage?",title:"My GVB",controller:"MyDaaController",controllerAs:"ctrl",activeType:"myDaa",templateUrl:"app/views/myDaa/myDaa.54860fe4.html"}).state("app.activitySimple",{url:"/activity",title:"Activity",controller:"ActivitySimpleController",controllerAs:"ctrl",activeType:"activity",templateUrl:"app/views/dashboard/activity_simple.5107229a.html"}).state("app.buy",{url:"/buy/:daaCurrencyTicker",title:"Buy",controller:"BuyController",controllerAs:"ctrl",activeType:"buy",templateUrl:"app/views/buy_and_sell/buy.5128583a.html"}).state("app.buyPreview",{url:"/buy-preview/:offerId",title:"Buy Preview",controller:"BuyPreviewController",controllerAs:"ctrl",activeType:"buy",templateUrl:"app/views/buy_and_sell/buy_preview.0b6c7bbf.html"}).state("app.sell",{url:"/sell/:daaCurrencyTicker",title:"Sell",controller:"SellController",controllerAs:"ctrl",activeType:"sell",templateUrl:"app/views/buy_and_sell/sell.6b68e765.html"}).state("app.sellPreview",{url:"/sell-preview/:offerId",title:"Sell Preview",controller:"SellPreviewController",controllerAs:"ctrl",activeType:"sell",templateUrl:"app/views/buy_and_sell/sell_preview.0f50cdd0.html"}).state("app.transaction",{url:"/transaction/:transactionId/:flow?",title:"Transaction",controller:"TransactionController",controllerAs:"ctrl",activeType:"activity",templateUrl:"app/views/buy_and_sell/transaction.1cd6c3ee.html"}).state("app.depositCryptoToAddress",{url:"/deposit-crypto-to-address/:currency?",title:"Deposit",controller:"DepositCryptoToAddress",controllerAs:"ctrl",activeType:"deposit",templateUrl:"app/views/deposit_and_withdraw/deposit_crypto_to_address.6ee87d2f.html",resolve:a.resolveFor("qrcodejs")}).state("app.withdrawAmount",{url:"/withdraw/:currency_or_offer?",title:"Withdraw",controller:"WithdrawAmount",controllerAs:"ctrl",activeType:"withdraw",templateUrl:"app/views/deposit_and_withdraw/withdraw_amount.e2aad73c.html"}).state("app.withdrawReview",{url:"/withdraw-review/:offerId",title:"Withdraw review",controller:"WithdrawReview",controllerAs:"ctrl",activeType:"withdraw",templateUrl:"app/views/deposit_and_withdraw/withdraw_review.f611f3ea.html"}).state("page.withdrawVerify",{url:"/withdraw/verify",title:"Withdraw verify",template:"<withdraw-email-solve></withdraw-email-solve>",allow:"all",redirectionDisabled:!0}).state("app.otcDeposit",{url:"/otc/deposit",params:{depositOrWithdraw:"deposit"},title:"Deposit",controller:"DepositWithdrawOTC",controllerAs:"ctrl",templateUrl:"app/views/deposit_and_withdraw/deposit_withdraw_otc.852423c1.html"}).state("app.otcWithdraw",{url:"/otc/withdraw",params:{depositOrWithdraw:"withdraw"},title:"Withdraw",controller:"DepositWithdrawOTC",controllerAs:"ctrl",templateUrl:"app/views/deposit_and_withdraw/deposit_withdraw_otc.852423c1.html"}).state("app.twoFaLogin",{url:"/login-2fa",title:"Login Two-Factor Authentication",controller:"TwoFaController",controllerAs:"ctrl",twoFaType:"PRIMARY",activeType:"account",templateUrl:"app/views/two_factor_authentication/twoFa.08877f42.html",resolve:a.resolveFor("qrcodejs")}).state("app.twoFaWithdrawal",{url:"/withdrawal-2fa",title:"Withdrawal Two-Factor Authentication",controller:"TwoFaController",controllerAs:"ctrl",twoFaType:"WITHDRAWAL",activeType:"account",templateUrl:"app/views/two_factor_authentication/twoFa.08877f42.html",resolve:a.resolveFor("qrcodejs")}).state("app.twoFaVerify",{url:"/two-factor-authentication/verify",title:"Two-Factor Authentication verify",template:"<two-fa-verify-redirect></two-fa-verify-redirect>",allow:"all",activeType:"account",loggedOutStatusType:"logIn",redirectionDisabled:!0}).state("app.twoFaLostVerify",{url:"/two-factor-lost/verify",title:"Two-Factor lost device verify",template:"<two-fa-lost-verify-redirect></two-fa-lost-verify-redirect>",allow:"all",loggedOutStatusType:"logIn",redirectionDisabled:!0}).state("app.account",{url:"/account",title:"Account",controllerAs:"ctrl",controller:"AccountController",activeType:"account",templateUrl:"app/views/account/account.d440194b.html"}).state("app.audit",{url:"/proof-of-solvency",title:"Audit",controllerAs:"ctrl",controller:"AuditController",activeType:"account",templateUrl:"app/views/audit/audit.da24b8a2.html"}).state("app.deactivateAccountEmailVerify",{url:"/account/deactivate",title:"Deactivate account email verify",controllerAs:"ctrl",controller:"DeactivateAccountEmailVerifyController",template:"<deactivate-account-email-verify></deactivate-account-email-verify>",redirectionDisabled:!0,allow:"all"}).state("page",{url:"/page",templateUrl:"app/views/pages/page.317269e3.html",resolve:a.resolveFor("modernizr","taffydb","query-string","underscore","sprintf","moment","toArrayFilter"),controller:["$rootScope","$scope","$location",function(e,t,n){t.currentPath=n.url()}]}).state("page.login",{url:"/login",title:"Login",description:"Login into your account",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/login.9c1345e2.html",allow:"anonymous",redirectionDisabled:!0}).state("page.register",{url:"/register",title:"Registration",description:"Register on the GVB platform.",loggedOutStatusType:"register",templateUrl:"app/views/pages/register.00eb9c2d.html",allow:"anonymous",redirectionDisabled:!0}).state("page.twoFa",{url:"/2fa",title:"Two Factor Authentication",controller:"TwoFaFormController",controllerAs:"ctrl",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/twoFa.d4e448b5.html",redirectionDisabled:!0}).state("page.forgottenPassword",{url:"/forgotten-password/:user?",title:"Forgot your password?",controller:"ForgottenPasswordFormController",controllerAs:"ctrl",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/forgottenPassword.74a1a220.html",allow:"anonymous",redirectionDisabled:!0}).state("page.setNewPassword",{url:"/set-new-password",title:"Set new password",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/setNewPassword.b4e3ec6a.html",allow:"anonymous",redirectionDisabled:!0}).state("app.register-verify",{url:"/register/verify",title:"Email verification",allow:"all",loggedOutStatusType:"register",template:"<email-verification></email-verification>",redirectionDisabled:!0}).state("app.register-verify-redirect",{url:"/register/verify/:challengeId/:solution",title:"Email verification",allow:"all",loggedOutStatusType:"register",controller:"EmailChallengeController",redirectionDisabled:!0}).state("app.forgottenPasswordRedirect",{url:"/forgotPassword/solve/:challengeId/:secret",title:"Email verification",allow:"all",controllerAs:"ctrl",controller:["$state",function(e){this.resetParams=e.params}],loggedOutStatusType:"logIn",template:"Params: {{ ctrl.resetParams }}",redirectionDisabled:!0}).state("page.checkYourEmail",{url:"/check-your-email",title:"Password reset request submitted",confirmationType:"checkYourEmail",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/actionConfirmation.1de1ca17.html",allow:"anonymous",redirectionDisabled:!0}).state("page.passwordChangedReset",{url:"/password-reset",title:"Password changed",confirmationType:"passwordChanged",loggedOutStatusType:"logIn",templateUrl:"app/views/pages/actionConfirmation.1de1ca17.html",allow:"anonymous",redirectionDisabled:!0}).state("page.passwordChanged",{url:"/password-changed",title:"Password changed",confirmationType:"passwordChanged",activeType:"account",templateUrl:"app/views/pages/actionConfirmation.1de1ca17.html",redirectionDisabled:!0}).state("page.changePassword",{url:"/change-password",title:"Change password",activeType:"account",template:"<change-password></change-password>",redirectionDisabled:!0}).state("page.checkEmailRegister",{url:"/register/check-email",title:"Confirm your email",confirmationType:"checkEmailRegister",loggedOutStatusType:"register",templateUrl:"app/views/pages/actionConfirmation.1de1ca17.html",allow:"anonymous",redirectionDisabled:!0}).state("page.disclaimer",{url:"/identity-verification/disclaimer",title:"Disclaimer",controllerAs:"ctrl",activeType:"account",templateUrl:"app/views/pages/disclaimer.8f81f8cc.html"}).state("page.idNowVerification",{url:"/identity-verification/tier-2",title:"Tier 2 Verification",controllerAs:"ctrl",activeType:"account",templateUrl:"app/views/pages/idNowVerification.69276bb6.html"}).state("page.tierOneVerification",{url:"/identity-verification",title:"Identity verification",activeType:"account",templateUrl:"app/views/pages/tierOneVerification.b4070afb.html"}).state("page.tierOneVerificationRedirect",{url:"/identity-verification-redirect",title:"Identity verification",controller:["$state",function(e){e.go("page.tierOneVerification")}]})}angular.module("app.routes").config(e),e.$inject=["$stateProvider","$locationProvider","$urlRouterProvider","$routeProvider","RouteHelpersProvider"]}(),function(){"use strict";function e(e,t){e.app={name:"GVB",description:"GVB",year:(new Date).getFullYear(),layout:{isFixed:!0,isCollapsed:!0,isBoxed:!1,isRTL:!1,horizontal:!1,isFloat:!1,asideHover:!1,theme:null,asideScrollbar:!1,isStaticPage:!1,isDashboard:!0,dynamicClassName:""},useFullLayout:!1,hiddenFooter:!1,offsidebarOpen:!1,asideToggled:!1,viewAnimation:!1,showUserInfoBanner:!1,showSubNavigation:!1,config:config},e.$on("$stateChangeStart",function(t,n,o,a,r){t.defaultPrevented||(e.app.layout.isStaticPage=/^page\./.test(n.name))}),e.app.layout.horizontal="app-h"===e.$stateParams.layout,e.$watch("app.layout.isCollapsed",function(t){t===!1&&e.$broadcast("closeSidebarMenu")})}angular.module("app.settings").run(e),e.$inject=["$rootScope","$localStorage"]}(),function(){"use strict";function e(e){e.useLoader("translateFileMapLoader",{fileMap:{en:"app/i18n/en.4176bba4.json",es_AR:"app/i18n/es_AR.f65088d3.json"}}),e.preferredLanguage("en"),e.useLocalStorage(),e.usePostCompiling(!0),e.useSanitizeValueStrategy("sanitizeParameters")}angular.module("app.translate").factory("translateFileMapLoader",["$http","$q",function(e,t){return function(n){return e(angular.extend({url:n.fileMap[n.key],method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return t.reject(n.key)})}}]),angular.module("app.translate").config(e),e.$inject=["$translateProvider"]}(),function(){"use strict";function e(e,t){e.language={listIsOpen:!1,available:{en:"English",es_AR:"Espa√±ol"},init:function(){var n=t.proposedLanguage()||t.use(),o=t.preferredLanguage();e.language.selected=e.language.available[n||o]},set:function(n){t.use(n),e.language.selected=e.language.available[n],e.language.listIsOpen=!e.language.listIsOpen}},e.language.init()}angular.module("app.translate").run(e),e.$inject=["$rootScope","$translate"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName("popup__overlay"),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i(),void 0}angular.module("app.twoFa").controller("TwoFaController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName(""),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i(),void 0}angular.module("app.twoFa").controller("TwoFaLostVerifyRedirectController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.setDynamicBodyClassName(""),r.showDepositAndWithdrawBanner(!1),r.showUserInfoBanner(!1),r.showSubNavigation(!0)}i(),void 0}angular.module("app.twoFa").controller("TwoFaVerifyRedirectController",e),e.$inject=["$stateParams","$rootScope","$scope","$http","$state","LayoutService"]}(),function(){"use strict";function e(e){function t(t,n,o){t.$watch(function(){return t.$eval(o.animateEnabled,t)},function(t){e.enabled(!!t,n)})}var n={link:t,restrict:"A"};return n}angular.module("app.utils").directive("animateEnabled",e),e.$inject=["$animate"]}(),function(){"use strict";function e(e){return e.jQBrowser}angular.module("app.utils").service("Browser",e),e.$inject=["$window"]}(),function(){"use strict";function e(e,t){function n(n,o){o.on("click",function(o){o.preventDefault(),n.resetKey?(delete t[n.resetKey],e.go(e.current,{},{reload:!0})):$.error("No storage key specified for reset.")})}var o={link:n,restrict:"A",scope:{resetKey:"@"}};return o}angular.module("app.utils").directive("resetKey",e),e.$inject=["$state","$localStorage"]}(),function(){"use strict";function e(e){function t(t,n){e.msie?n.addClass("hide"):n.on("click",function(e){e.preventDefault(),screenfull.enabled?(screenfull.toggle(),screenfull.isFullscreen?$(this).children("em").removeClass("fa-expand").addClass("fa-compress"):$(this).children("em").removeClass("fa-compress").addClass("fa-expand")):$.error("Fullscreen not enabled")})}var n={link:t,restrict:"A"};return n}angular.module("app.utils").directive("toggleFullscreen",e),e.$inject=["Browser"]}(),function(){"use strict";function e(){function e(e,n,o){n.on("click",function(e){n.is("a")&&e.preventDefault();var a,r=o.loadCss;r?(a=t(r),a||$.error("Error creating stylesheet link element.")):$.error("No stylesheet location defined.")})}function t(e){var t="autoloaded-stylesheet",n=$("#"+t).attr("id",t+"-old");return $("head").append($("<link/>").attr({id:t,rel:"stylesheet",href:e})),n.length&&n.remove(),$("#"+t)}var n={link:e,restrict:"A"};return n}angular.module("app.utils").directive("loadCss",e)}(),function(){"use strict";function e(e,t){function n(n,o,a){function r(){var t=e(new Date,i);o.text(t)}var i=a.format;r();var c=t(r,1e3);n.$on("$destroy",function(){t.cancel(c)})}var o={link:n,restrict:"EA"};return o}angular.module("app.utils").directive("now",e),e.$inject=["dateFilter","$interval"]}(),function(){"use strict";function e(){function e(e,t){t.on("change",function(){var e=$(this),t=e.index()+1,n=e.find('input[type="checkbox"]'),o=e.parents("table");o.find("tbody > tr > td:nth-child("+t+') input[type="checkbox"]').prop("checked",n[0].checked)})}var t={link:e,restrict:"A"};return t}angular.module("app.utils").directive("checkAll",e)}(),function(){"use strict";function e(e,t){function n(n,o){o.on("click",function(){t(function(){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,e,0),e.dispatchEvent(t)})})}var o={link:n,restrict:"A"};return o}angular.module("app.utils").directive("triggerResize",e),e.$inject=["$window","$timeout"]}(),function(){"use strict";function e(e,t){var n=angular.element("html"),o=angular.element(e),a=angular.element("body");return{support:{transition:function(){var e=function(){var e,t=document.body||document.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),animation:function(){var e=function(){var e,t=document.body||document.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}(),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},touch:"ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,mutationobserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null},isInView:function(e,t){var n=$(e);if(!n.is(":visible"))return!1;var a=o.scrollLeft(),r=o.scrollTop(),i=n.offset(),c=i.left,s=i.top;return t=$.extend({topoffset:0,leftoffset:0},t),s+n.height()>=r&&s-t.topoffset<=r+o.height()&&c+n.width()>=a&&c-t.leftoffset<=a+o.width()},langdirection:"rtl"===n.attr("dir")?"right":"left",isTouch:function(){return n.hasClass("touch")},isSidebarCollapsed:function(){return a.hasClass("aside-collapsed")},isSidebarToggled:function(){return a.hasClass("aside-toggled")},isMobile:function(){return o.width()<t.tablet}}}angular.module("app.utils").service("Utils",e),e.$inject=["$window","APP_MEDIAQUERY"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(l),l._componentFilter.targetCurrency=l.key,l._targetAmount={target:l.key},l.amountTarget={},l.amountSource={},u(0),$("#amountSource").numberMask({type:"float",afterPoint:6,decimalMark:"."}),$("#amountTarget").numberMask({type:"float",afterPoint:6,decimalMark:"."})}function u(e){e=e||"",t(function(){l.amountTarget={currency:{type:"crypto",currencySymbol:l.key},value:e},l.amountSource={currency:{type:"crypto",currencySymbol:""},value:e},$("#amountTarget").keyup()})}var l=this;l._componentType="buy/offer",l._componentFilter={},l._componentSoftFilter={},l._data={};var d=null;l.changeTargetAmount=function(){l._componentFilter.value=Number(l.amountTarget.value).toString(),l._componentFilter.amountOf="target",void 0,l.refresh(),t(function(){l.submitted=!0})},l.changeSourceAmount=function(){l._componentFilter.value=Number(l.amountSource.value).toString(),l._componentFilter.amountOf="source",void 0,l.refresh(),t(function(){l.submitted=!0})},l.setInputValue=function(e,n){t(function(){switch(n){case"target":l.amountTarget.value=e,$("#amountTarget").keyup();break;case"source":l.amountSource.value=e,$("#amountSource").keyup()}l._componentFilter.value=Number(e).toString(),l._componentFilter.amountOf=n,l.refresh()})},l.buyPreview=function(){t(function(){l.formAmountToBuy.$valid&&null==l.errorMessage?(n.offer=l._data,e.go("app.buyPreview",{targetCurrency:l.key})):void 0})},o.$on("buy/list",function(e,n){0!=n.length&&t(function(){l.balance=_.first(n),l._componentFilter.sourceCurrency=_.first(n).currency.ticker,l._targetAmount.source=_.first(n).currency.ticker,l.sourceCurrency=_.first(n).currency,l.amountSource.currency.currencySymbol=l._targetAmount.source,$("#amountSource").keyup()})}),l.generateRequestData=function(){return i.generateRequestData(l)},l.render=function(e){return l._data=e.data,void 0,l.errorMessage=null,e.data.error?void t(function(){l.errorMessage=e.data.error}):void t(function(){"target"==l._componentFilter.amountOf?(l.amountSource.value=l._data.source.value.toFixed(6),t(function(){$("#amountSource").keyup()},200)):"source"==l._componentFilter.amountOf&&(l.amountTarget.value=l._data.target.value.toFixed(6),t(function(){$("#amountTarget").keyup()},200))})},l.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},l.refresh=function(){r.getSocket(l.generateRequestData())},l.$onInit=function(){d=a.AddComponent(l)},l.$onDestroy=function(){a.RemoveComponent(d)},s()}angular.module("app.dashboard").component("buyV2",{templateUrl:"app/views/components/buy/v2/buy.806533c2.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.checkComponent(i),i._componentFilter.targetCurrency=i.target,i.loaded=!1}var i=this;i._componentType="buy/list",i._componentFilter={},i._componentSoftFilter={},i._data={};var c=null;i.setCurrency=function(n,o){n.preventDefault(),e(function(){i.select(o),void 0,t.$emit(i._componentType,_.filter(i.currenciesList,function(e){return e.selected}))})},i.select=function(e){_.each(i.currenciesList,function(e){e.selected=!1}),_.each(i.currenciesList,function(t){t.currency.ticker==e&&(t.selected=!0)})},i.generateRequestData=function(){return a.generateRequestData(i)},i.render=function(n){i._data=n.data;var o=_.keys(i._data.amountRestList);i.currenciesList=[];var a=[],r=0;_.each(o,function(e){var t=_.each(i._data.amountRestList[e],function(t){t.type=e,0==r?t.selected=!0:t.selected=!1,r++});a=_.union(i.currenciesList,t)}),e(function(){i.currenciesList=a,void 0,i.preselected&&i.selectAmount(i.preselected),t.$emit(i._componentType,_.filter(i.currenciesList,function(e){return e.selected})),i.loaded=!0})},i.selectAmount=function(e){_.each(i.currenciesList,function(e){e.selected=!1}),_.each(i.currenciesList,function(t){t.currency.ticker==e&&(t.selected=!0)})},i.refresh=function(){o.getSocket(i.generateRequestData())},i.$onInit=function(){c=n.AddComponent(i),o.getSocket(i.generateRequestData())},i.$onDestroy=function(){n.RemoveComponent(c)},r()}angular.module("app.dashboard").component("buyList",{templateUrl:"app/views/components/buy/v2/buyList.17f8d231.html",controller:e,bindings:{target:"=",preselected:"="}}),e.$inject=["$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.checkComponent(i),i._componentFilter.type="buy",i.loaded=!1}var i=this;i._componentType="ticker",i._componentFilter={},i._componentSoftFilter={},i._data={},i._subscription=null,i._subscriptionPath="";var c=null;t.$watch("$ctrl.source",function(e,t){e&&(i._componentFilter.sourceCurrency=e,i.initData())}),t.$watch("$ctrl.target",function(e,t){e&&(i._componentFilter.targetCurrency=e,i.initData())}),i.initData=function(){i._componentFilter.sourceCurrency&&i._componentFilter.targetCurrency&&(i._subscription&&o.WSunsubscription(i._subscription),i.refresh())},i.generateRequestData=function(){return a.generateRequestData(i)},i.render=function(t){e(function(){void 0,i._data=t.data,i.loaded=!0})},i.refresh=function(){o.getSocket(i.generateRequestData())},i.$onInit=function(){c=n.AddComponent(i)},i.$onDestroy=function(){n.RemoveComponent(c),o.WSunsubscription(i._subscription)},r()}angular.module("app.dashboard").component("buyRate",{templateUrl:"app/views/components/buy/v2/buyRate.2b62eeb1.html",controller:e,bindings:{source:"=",target:"="}}),e.$inject=["$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(l),l._componentFilter.targetCurrency=l.key,l._componentFilter.amountOf="target",l._targetAmount={target:l.key},l.amountToBuy={},l.convertedAmountToBuy=0,l._componentFilter.value=0;var e=0;n.offer&&(e=n.offer.target.value,l.convertedAmountToBuy=n.offer.source,l.targetCurrencyPreselected=n.offer.source.currency.ticker,l._componentFilter.value=Number(e).toString()),l.formAmountToBuy={},l.submitted=!1,t(function(){$("#amountToBuy").keyup(),u(e)},200).then(function(){l.refresh()}),$("#amountToBuy").numberMask({type:"float",afterPoint:6,decimalMark:"."})}function u(e){e=e||"",t(function(){"target"==l._componentFilter.amountOf?l.amountToBuy={currency:{type:"crypto",currencySymbol:l.key},value:e}:l.amountToBuy={currency:l.sourceCurrency,value:e}})}var l=this;l.currentState=e.current,l._componentType="buy/offer",l._componentFilter={},l._componentSoftFilter={},l._data={};var d=null;l.buyPreview=function(){t(function(){l.formAmountToBuy.$valid&&0==l.formAmountToBuy.amountToBuy.invalide?(n.offer=l._data,e.go("app.buyPreview",{targetCurrency:l.key})):(void 0,l.formAmountToBuy.amountToBuy.invalide=!0)})},l.changeAmount=function(){l._componentFilter.value=Number(l.amountToBuy.value).toString(),l.refresh(),t(function(){l.submitted=!0})},l.SwapGetAmount=function(){"target"==l._componentFilter.amountOf?l._componentFilter.amountOf="source":l._componentFilter.amountOf="target",l.refresh(),u()},o.$on("buy/list",function(e,n){t(function(){l._componentFilter.sourceCurrency=_.first(n).currency.ticker,l._targetAmount.source=_.first(n).currency.ticker,l.sourceCurrency=_.first(n).currency})}),l.generateRequestData=function(){return i.generateRequestData(l)},l.render=function(e){return l._data=e.data,e.data.error?void t(function(){l.errorMessage=e.data.error,l.formAmountToBuy.amountToBuy.invalide=!0}):void t(function(){if("target"==l._componentFilter.amountOf){l._data.target;l.convertedAmountToBuy=l._data.source}else if("source"==l._componentFilter.amountOf){l._data.source;l.convertedAmountToBuy=l._data.target}l.formAmountToBuy.amountToBuy.invalide=!1})},l.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},l.refresh=function(){l.amountToBuy.value>0&&r.getSocket(l.generateRequestData())},l.$onInit=function(){d=a.AddComponent(l)},l.$onDestroy=function(){a.RemoveComponent(d)},s()}angular.module("app.dashboard").component("buyV1",{templateUrl:"app/views/components/buy/v1/buy.becfb574.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c._componentFilter.targetCurrency=c.target,c._componentFilter.type="buy",c.loaded=!1}var c=this;c._componentType="ticker",c._componentFilter={},c._componentSoftFilter={},c._data={},c._subscription=null,c._subscriptionPath="";var s=_.template("/topic/ticker/<%= source %>/<%= target %>/buy"),u=null;n.$watch("$ctrl.source",function(e,t){e&&(c._componentFilter.sourceCurrency=e,c.initData())}),c.initData=function(){c._subscriptionPath=s({source:c._componentFilter.sourceCurrency,target:c._componentFilter.targetCurrency}),c._subscription&&a.WSunsubscription(c._subscription),c._subscription=a.WSsubscription(c._subscriptionPath),c.refresh()},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){t(function(){c._data=e.data,c.loaded=!0})},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){u=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(u),a.WSunsubscription(c._subscription)},i()}angular.module("app.dashboard").component("buyAmount",{templateUrl:"app/views/components/buy/v1/buyAmount.a4a48d43.html",controller:e,bindings:{source:"=",target:"="}}),e.$inject=["$filter","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){i.checkComponent(s)}var s=this;s.submitting=!1,s._componentType="trade-confirm",s._componentFilter={};var u=null;s.$onChanges=function(){s._componentFilter.offerId=s.key},s.submit=function(){s.disable||(s.submitting=!0,s.refresh())},s.generateRequestData=function(){return i.generateRequestData(s)},s.render=function(e){s.submitting=!1,t.go("app.transaction",{transactionId:e.data.transaction.transactionId,flow:"buy"})},o.$on("userMessage",function(e,t){"exceptions"==t.dataType&&(s.submitting=!1)}),s.refresh=function(){r.getSocket(s.generateRequestData())},s.$onInit=function(){u=a.AddComponent(s)},s.$onDestroy=function(){a.RemoveComponent(u)},c()}angular.module("app.dashboard").component("buyConfirm",{templateUrl:"app/views/components/buy/v1/buyConfirm.5e779957.html",controller:e,bindings:{key:"<",disable:"=",submitting:"="}}),e.$inject=["$rootScope","$state","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){o.checkComponent(u),u.disableSubmit=!1,u.countdown="1:00"}var u=this;u.loaded=!1,u.daaServiceEnabled=!0,u._componentType="get-trade-offer-info",u._componentFilter={};var l=null,d=null;u.goEdit=function(){u._data?(i.tradeOffer=u._data,r.go("app.buy",{daaCurrencyTicker:u._data.daaCurrencyTicker})):r.go("app.buy",{daaCurrencyTicker:"BLX"})},u.setCountdown=function(){var t=function(){var t=moment(1e3*u._data.validTo+u._clockSkew).diff(moment());if(t<0)return u.timeEnd(),void clearInterval(l);var n=moment.duration(t);e(function(){u.countdown=sprintf("%d:%02d",n.minutes(),n.seconds())})};l=setInterval(t,1e3),t()},u.timeEnd=function(){void 0,e(function(){u.disableSubmit=!0})},u.generateRequestData=function(){return o.generateRequestData(u)},c.$on("userMessage",function(e,t){var o=t.data;"trade-offer"==t.dataType&&t.data.offerId==u.offerId&&(u._data=o,o.serverTime?u._clockSkew=Date.now()-1e3*o.serverTime:u._clockSkew=0,u.setCountdown(),n.getSocket({dataType:"daa/get-basic-info",daaTicker:u._data.daaCurrencyTicker,response:{dataType:"daa/get-basic-info"}})),"daa/basic-info"==t.dataType&&t.data.ticker==u._data.daaCurrencyTicker&&(u.currencyName=t.data.name,u.daaId=t.data.id,u.loaded=!0),"daa-investments-disabled"==t.dataType&&t.data.daaTicker==u._data.daaCurrencyTicker&&(u.daaServiceEnabled=!1,a.showNotificationBanner(!0,"warning","Buy "+u._data.daaCurrencyTicker,t.data.message,void 0,!1)),"fund/set-status"==t.dataType&&t.data.daaId==u.daaId&&1==t.data.tradingEnabled&&(u.daaServiceEnabled=!0,a.showNotificationBanner(!1))}),u.render=function(e){},u.refresh=function(){n.getSocket(u.generateRequestData())},u.$onInit=function(){d=t.AddComponent(u)},u.$onDestroy=function(){t.RemoveComponent(d),clearInterval(l)},u.$onChanges=function(){u._componentFilter.offerId=u.offerId,u.refresh()},s()}angular.module("app.dashboard").component("buyPreview",{templateUrl:"app/views/components/buy/v3/buyPreview.1350a3cc.html",controller:e,bindings:{offerId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$state","$rootScope","$scope"];
}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c._componentFilter.targetCurrency=c.key,c.loaded=!1}var c=this;c._componentType="buy/list",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.setTargetCurrency=function(e,o){e.preventDefault(),t(function(){c.selectAmount(o),n.$emit(c._componentType,_.filter(c.amountsList,function(e){return e.selected}))})},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){c._data=e.data;var o=_.keys(c._data.amountRestList);c.amountsList=[];var a=[],r=0;_.each(o,function(e){var t=_.each(c._data.amountRestList[e],function(t){t.type=e,0==r?t.selected=!0:t.selected=!1,r++});a=_.union(c.amountsList,t)}),t(function(){c.amountsList=a,c.preselected&&c.selectAmount(c.preselected),n.$emit(c._componentType,_.filter(c.amountsList,function(e){return e.selected})),c.loaded=!0})},c.selectAmount=function(e){_.each(c.amountsList,function(e){e.selected=!1}),_.each(c.amountsList,function(t){t.currency.ticker==e&&(t.selected=!0)})},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c),a.getSocket(c.generateRequestData())},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("sourceCurrency",{templateUrl:"app/views/components/buy/v1/sourceCurrency.8ecb8f33.html",controller:e,bindings:{key:"=",preselected:"=",selected:"="}}),e.$inject=["$filter","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){i.checkComponent(l),l.daaCurrencyTicker=l.key,l._componentFilter.tradeCurrencyTicker=l.key,l._targetAmount={target:l.key},l.daaVolume=null,l.tradeVolume=null,n.tradeOffer&&(t(function(){l.loaded=!0},300),l.daaVolume=n.tradeOffer.daaVolume,l.tradeVolume=n.tradeOffer.tradeVolume,l.daaCurrencyTicker=n.tradeOffer.daaCurrencyTicker,l.tradeCurrencyTicker=n.tradeOffer.tradeCurrencyTicker,n.tradeOffer=null,s.comparePrecision(l.tradeVolume,l.daaVolume)>0?l.changeDaaAmount():l.changeTradeAmount())}var l=this,d=null;l.daaServiceEnabled=!0,l.daaId=null,l.lastOffer=null,l.lastAnyOffer=null,l.loaded=!1,l.transactionType="buy",l._componentType="trade-offer",l._componentFilter={type:"buy"},l._componentSoftFilter={},l._data={},l.daaCurrencyTicker="",l.tradeCurrencyTicker="",l.selectedCurrencyWallet={},l.goToPreview=!1,l.serviceEnabled="",l.goBack=function(){1==l.nonZero.length&&e.go("app.daa",{currency:l.key}),l.tradeCurrencyTicker="",l.loaded=!1},o.$on("userMessage",function(e,t){if("trade/list"==t.dataType){l.selectedCurrencyWallet=_.find(t.data.list,function(e){return e.currency.ticker==l.tradeCurrencyTicker});var n={type:"float",afterPoint:6,decimalMark:".",defaultValueInput:null};$("#daaVolume").numberMask(n),$("#tradeVolume").numberMask(n)}}),l.changeTradeAmount=function(){Number(l.tradeVolume)>0&&(l._componentFilter.volumeOf="TRADE",l.refresh(),t(function(){l.submitted=!0}))},l.changeDaaAmount=function(){Number(l.daaVolume)>0&&(l._componentFilter.volumeOf="GVB",l.refresh(),t(function(){l.submitted=!0}))},l.buyPreview=function(){l.goToPreview=!0,l.refresh()},o.$on("userMessage",function(n,o){var a=o.data;if("trade-offer"==o.dataType&&o.data.offerId==l._componentFilter.offerId){if(l.lastAnyOffer=a,a.error)l.errorMessage=a.error;else if(l.lastOffer=a,l.errorMessage=null,l.goToPreview)return void e.go("app.buyPreview",{offerId:l.lastOffer.offerId});t(function(){$("#tradeVolume").keyup()},200),"TRADE"==l._componentFilter.volumeOf?(l.daaVolume=a.daaVolume.toFixed(6),t(function(){$("#daaVolume").keyup()},200)):"GVB"==l._componentFilter.volumeOf&&(l.tradeVolume=a.tradeVolume.toFixed(6),t(function(){$("#tradeVolume").keyup()},200))}"trade/list"==o.dataType&&o.data.currency==l.key&&(l.sourceCurrencyName=o.data.source.currency.name),"trade/list"==o.dataType&&o.data.list.length&&(l.nonZero=o.data.list.filter(function(e){return e.value>=1e-6}),l.refresh(),t(function(){l.loaded=!0},200)),"daa/basic-info"==o.dataType&&o.data.ticker==l.key&&(l.daaId=o.data.id),"service/status"==o.dataType&&(l.serviceEnabled=_.find(o.data.list,function(e){return e.type==l.transactionType.toUpperCase()}).enable),"fund/set-status"==o.dataType&&o.data.daaId==l.daaId&&1==o.data.tradingEnabled&&(l.daaServiceEnabled=!0,c.showNotificationBanner(!1)),"daa-investments-disabled"==o.dataType&&o.data.daaTicker==l.key&&l.serviceEnabled&&(l.daaServiceEnabled=!1,c.showNotificationBanner(!0,"warning",l.transactionType+" "+l.key,o.data.message,void 0,!1))}),l.render=function(e){},l.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},l.refresh=function(){return l.tradeCurrencyTicker&&l.daaCurrencyTicker&&l._componentFilter.volumeOf?(l._componentFilter.offerId=UUID.generate(),void r.sendEvent("generate-trade-offer",{offerId:l._componentFilter.offerId,daaCurrencyTicker:l.daaCurrencyTicker,tradeCurrencyTicker:l.tradeCurrencyTicker,volumeOf:l._componentFilter.volumeOf,daaVolume:Number(l.daaVolume)||0,tradeVolume:Number(l.tradeVolume)||0,type:"buy"})):(l.lastOffer=null,l.lastAnyOffer=null,void t(function(){l.errorMessage=null,l._data={}}))},l.$onInit=function(){d=a.AddComponent(l),r.getSocket({dataType:"daa/get-basic-info",daaTicker:l.key,response:{dataType:"daa/get-basic-info"}})},l.$onDestroy=function(){a.RemoveComponent(d)},l.canSubmit=function(){return!!l.lastOffer},u()}angular.module("app.dashboard").component("buyV3",{templateUrl:"app/views/components/buy/v3/buy.0046ff44.html",controller:e,bindings:{key:"=",loaded:"<",transactionType:"<"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService","NumberService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){i.loaded=!1}var i=this,c=null;i.$onChanges=function(){i.refresh(),i.offer&&i.offer.type&&(i.value=i.offer.exchangeRate)},i.render=function(e){},t.$on("userMessage",function(t,n){if("trade-exchange-rate"==n.dataType&&n.data.daaCurrencyTicker==i.daaCurrencyTicker&&n.data.tradeCurrencyTicker==i.tradeCurrencyTicker){if(i.offer&&i.offer.type)return;i.value=n.data.price,e(function(){i.loaded=!0},100)}}),i.refresh=function(){c&&(n.RemoveComponent(c),c=n.AddComponent(i)),i.tradeCurrencyTicker&&i.daaCurrencyTicker&&o.getSocket({dataType:"get-trade-exchange-rate",daaCurrencyTicker:i.daaCurrencyTicker,tradeCurrencyTicker:i.tradeCurrencyTicker})},i.$onInit=function(){c=n.AddComponent(i),i.refresh()},i.$onDestroy=function(){n.RemoveComponent(c)},r()}angular.module("app.dashboard").component("exchangeRate",{templateUrl:"app/views/components/buy/v3/exchangeRate.43016626.html",controller:e,bindings:{daaCurrencyTicker:"<",tradeCurrencyTicker:"<",offer:"<",loaded:"="}}),e.$inject=["$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){var u=this,l=null;u._componentType="generate-trade-offer",u._componentFilter={},u.$onChanges=function(){var e,t=u.offer;t&&t.offerId&&(e=s.comparePrecision(t.tradeVolume,t.daaVolume)<0?"TRADE":"GVB",u._componentFilter=_.extend(_.pick(t,["daaCurrencyTicker","tradeCurrencyTicker","tradeVolume","daaVolume"]),{offerId:UUID.generate(),type:u.type,volumeOf:e}))},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){},u.refresh=function(){},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},u.submit=function(){r.getSocket(u.generateRequestData())},o.$on("userMessage",function(t,n){"trade-offer"==n.dataType&&u.offer&&u.offer.offerId&&n.data.offerId!=u.offer.offerId&&("buy"==u.type?e.go("app.buyPreview",{offerId:n.data.offerId}):"sell"==u.type&&e.go("app.sellPreview",{offerId:n.data.offerId}))})}angular.module("app.dashboard").component("refreshTrade",{template:'<a class="refresh-trade" ng-click="$ctrl.submit()">Refresh the order</a>',controller:e,bindings:{offer:"<",type:"@"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService","NumberService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c._componentFilter.currency=c.currency,c.dropDownData=[]}var c=this;c._componentType="trade/list",c._componentFilter={},c.currentState=e.current;var s=null;c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){t(function(){c.dropDownData=e.data.list,t(function(){c.loaded=!0},300)})},n.$on("userMessage",function(t,n){if("trade/list"==n.dataType&&n.data.list.length){var o=n.data.list.filter(function(e){return e.value>=1e-6});1!==o.length||c.selectedCurrency||c.selected||"buy"!=c.transactionType||(c.selected=o[0].currency.ticker,c.selectedCurrency=c.selected)}"exceptions"==n.dataType&&e.go("app.dashboard")}),c.refresh=function(){a.getSocket({dataType:"trade/list",buy:"buy"==c.type,currency:c.currency})},c.$onInit=function(){s=o.AddComponent(c),c.refresh()},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("sourceWallet",{templateUrl:"app/views/components/buy/v3/sourceWallet.8312554b.html",controller:e,bindings:{currency:"<",selected:"=",label:"@",selectedCurrency:"=",loaded:"=",transactionType:"=",type:"@"}}),e.$inject=["$state","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.checkComponent(i),i.dropDownData=[],i._componentFilter.currency=i.currency,i._componentFilter.buy="buy"==i.type}var i=this;i.currencyList=!0,i._componentType="trade/list",i._componentFilter={},i._componentSoftFilter={},i._data={};var c=null;i.generateRequestData=function(){return a.generateRequestData(i)},i.render=function(e){e.data.source&&t(function(){i.dropDownData=[e.data.source],!i.selected&&i.dropDownData.length>0&&(i.selected=i.dropDownData[0].currency.ticker)})},i.refresh=function(){o.getSocket(i.generateRequestData())},i.$onInit=function(){c=n.AddComponent(i),i.refresh()},i.$onDestroy=function(){n.RemoveComponent(c)},r()}angular.module("app.dashboard").component("targetWallet",{templateUrl:"app/views/components/buy/v3/targetWallet.fa53a1fe.html",controller:e,bindings:{currency:"<",selected:"=",label:"@",currencyList:"<",type:"@"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(c),c._componentFilter.currency=c.coin}var c=this;c._componentType="currency/user",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.generateRequestData=function(){return a.generateRequestData(c)},c.render=function(e){void 0,t(function(){c._data=e.data})},c.refresh=function(){o.getSocket(c.generateRequestData())},c.$onInit=function(){s=n.AddComponent(c),c.refresh()},c.$onDestroy=function(){n.RemoveComponent(s)},i()}angular.module("app.dashboard").component("coinUserV2",{templateUrl:"app/views/components/coin/v2/coinUser.47b275d8.html",controller:e,bindings:{coin:"="}}),e.$inject=["$scope","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(l),l._componentFilter.sourceCurrency=l.key,l._componentFilter.amountOf="source",l._targetAmount={source:l.key},l.amountToSell={},l.convertedAmountToSell=0,l._componentFilter.value=0;var e=0;n.offer&&(e=n.offer.source.value,l.convertedAmountToSell=n.offer.target,l.targetCurrencyPreselected=n.offer.target.currency.ticker,l._componentFilter.value=Number(e).toString()),l.formAmountToSell={},l.submitted=!1,t(function(){$("#amountToSell").keyup(),u(e)},200).then(function(){l.refresh()}),$("#amountToSell").numberMask({type:"float",afterPoint:6,decimalMark:"."})}function u(e){e=e||"",t(function(){"source"==l._componentFilter.amountOf?l.amountToSell={currency:{type:"crypto",currencySymbol:l.key},value:e}:l.amountToSell={currency:l.targetCurrency,value:e}})}var l=this;l._componentType="sell/offer",l._componentFilter={},l._componentSoftFilter={},l._data={};var d=null;l.sellPreview=function(){t(function(){l.formAmountToSell.$valid&&0==l.formAmountToSell.amountToSell.invalide?(n.offer=l._data,e.go("app.sellPreview",{sourceCurrency:l.key})):(void 0,l.formAmountToSell.amountToSell.invalide=!0)})},l.changeAmount=function(){l._componentFilter.value=Number(l.amountToSell.value).toString(),l.refresh(),t(function(){l.submitted=!0})},l.SwapGetAmount=function(){"target"==l._componentFilter.amountOf?l._componentFilter.amountOf="source":l._componentFilter.amountOf="target",l.refresh(),u()},o.$on("sell/list",function(e,n){t(function(){l._componentFilter.targetCurrency=_.first(n).currency.ticker,l._targetAmount.target=_.first(n).currency.ticker,l.targetCurrency=_.first(n).currency})}),l.generateRequestData=function(){return i.generateRequestData(l)},l.render=function(e){return l._data=e.data,e.data.error?void t(function(){l.errorMessage=e.data.error,l.formAmountToSell.amountToSell.invalide=!0}):void t(function(){if("target"==l._componentFilter.amountOf){l._data.target;l.convertedAmountToSell=l._data.source}else if("source"==l._componentFilter.amountOf){l._data.source;l.convertedAmountToSell=l._data.target}l.formAmountToSell.amountToSell.invalide=!1})},l.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},l.refresh=function(){l.amountToSell.value>0&&r.getSocket(l.generateRequestData())},l.timeout=function(e){},l.$onInit=function(){d=a.AddComponent(l)},l.$onDestroy=function(){a.RemoveComponent(d)},s()}angular.module("app.dashboard").component("sellV1",{templateUrl:"app/views/components/sell/v1/sell.2645cdcf.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c._componentFilter.sourceCurrency=c.source,c._componentFilter.type="sell",c.loaded=!1}var c=this;c._componentType="ticker",c._componentFilter={},c._componentSoftFilter={},c._data={},c._subscription=null,c._subscriptionPath="";var s=_.template("/topic/ticker/<%= target %>/<%= source%>/sell"),u=null;n.$watch("$ctrl.target",function(e,t){e&&(c._componentFilter.targetCurrency=e,c.initData())}),c.initData=function(){c._subscriptionPath=s({source:c._componentFilter.sourceCurrency,target:c._componentFilter.targetCurrency}),c._subscription&&a.WSunsubscription(c._subscription),c._subscription=a.WSsubscription(c._subscriptionPath),c.refresh()},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){t(function(){c._data=e.data,c.loaded=!0})},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){u=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(u),a.WSunsubscription(c._subscription)},i()}angular.module("app.dashboard").component("sellAmount",{templateUrl:"app/views/components/sell/v1/sellAmount.5d496e7b.html",controller:e,bindings:{source:"=",target:"="}}),e.$inject=["$filter","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){i.checkComponent(s)}var s=this;s.submitting=!1,s._componentType="trade-confirm",s._componentFilter={};var u=null;s.$onChanges=function(){s._componentFilter.offerId=s.key},s.submit=function(){s.disable||s.refresh()},s.generateRequestData=function(){return i.generateRequestData(s)},s.render=function(e){t.go("app.transaction",{transactionId:e.data.transaction.transactionId,flow:"sell"})},o.$on("userMessage",function(e,t){"exceptions"==t.dataType&&(s.submitting=!1)}),s.refresh=function(){r.getSocket(s.generateRequestData())},s.$onInit=function(){u=a.AddComponent(s)},s.$onDestroy=function(){a.RemoveComponent(u)},c()}angular.module("app.dashboard").component("sellConfirm",{templateUrl:"app/views/components/sell/v1/sellConfirm.5e779957.html",controller:e,bindings:{key:"<",disable:"=",submitting:"="}}),e.$inject=["$rootScope","$state","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){a.checkComponent(u),u.disableSubmit=!1,u.countdown="1:00"}var u=this;u.loaded=!1,u.daaServiceEnabled=!0,u._componentType="get-trade-offer-info",u._componentFilter={};var l=null,d=null;u.goEdit=function(){u._data?(t.tradeOffer=u._data,i.go("app.sell",{daaCurrencyTicker:u._data.daaCurrencyTicker})):i.go("app.sell",{daaCurrencyTicker:"BLX"})},u.setCountdown=function(){var t=function(){var t=moment(1e3*u._data.validTo+u._clockSkew).diff(moment());if(t<0)return u.timeEnd(),void clearInterval(l);var n=moment.duration(t);e(function(){u.countdown=sprintf("%d:%02d",n.minutes(),n.seconds())})};l=setInterval(t,1e3),t()},u.timeEnd=function(){void 0,e(function(){u.disableSubmit=!0})},u.generateRequestData=function(){return a.generateRequestData(u)},c.$on("userMessage",function(e,t){var n=t.data;"trade-offer"==t.dataType&&t.data.offerId==u.offerId&&(u._data=n,u.loaded=!0,n.serverTime?u._clockSkew=Date.now()-1e3*n.serverTime:u._clockSkew=0,u.setCountdown(),o.getSocket({dataType:"daa/get-basic-info",daaTicker:u._data.daaCurrencyTicker,response:{dataType:"daa/get-basic-info"}})),"daa/basic-info"==t.dataType&&t.data.ticker==u._data.daaCurrencyTicker&&(u.currencyName=t.data.name,u.daaId=t.data.id,u.loaded=!0),"daa-investments-disabled"==t.dataType&&t.data.daaTicker==u._data.daaCurrencyTicker&&(u.daaServiceEnabled=!1,r.showNotificationBanner(!0,"warning","Sell "+u._data.daaCurrencyTicker,t.data.message,void 0,!1)),"fund/set-status"==t.dataType&&t.data.daaId==u.daaId&&(u.daaServiceEnabled=!0,r.showNotificationBanner(!1))}),u.render=function(e){},u.refresh=function(){o.getSocket(u.generateRequestData())},u.$onInit=function(){d=n.AddComponent(u)},u.$onDestroy=function(){n.RemoveComponent(d),clearInterval(l)},u.$onChanges=function(){u._componentFilter.offerId=u.offerId,u.refresh()},s()}angular.module("app.dashboard").component("sellPreview",{templateUrl:"app/views/components/sell/v1/sellPreview.b3cd64f0.html",controller:e,bindings:{offerId:"<"}}),e.$inject=["$timeout","$rootScope","ComponentResolver","EventBus","ComponentHelper","LayoutService","$state","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c._componentFilter.sourceCurrency=c.key,c.loaded=!1}var c=this;c._componentType="sell/list",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.setTargetCurrency=function(e,o){e.preventDefault(),t(function(){c.selectAmount(o),n.$emit(c._componentType,_.filter(c.amountsList,function(e){return e.selected}))})},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){c._data=e.data;var o=_.keys(c._data.amountRestList);c.amountsList=[];var a=[],r=0;_.each(o,function(e){var t=_.each(c._data.amountRestList[e],function(t){t.type=e,0==r?t.selected=!0:t.selected=!1,r++});a=_.union(c.amountsList,t)}),t(function(){c.amountsList=a,c.preselected&&c.selectAmount(c.preselected),n.$emit(c._componentType,_.filter(c.amountsList,function(e){return e.selected})),c.loaded=!0})},c.selectAmount=function(e){_.each(c.amountsList,function(e){e.selected=!1}),_.each(c.amountsList,function(t){t.currency.ticker==e&&(t.selected=!0)})},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c),a.getSocket(c.generateRequestData())},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("targetCurrency",{templateUrl:"app/views/components/sell/v1/targetCurrency.b8fa53ca.html",controller:e,bindings:{key:"=",preselected:"="}}),e.$inject=["$filter","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){i.checkComponent(l),l.daaCurrencyTicker=l.key,l.tradeVolume=null,l.daaVolume=null,n.tradeOffer&&(t(function(){l.loaded=!0},300),l.daaVolume=n.tradeOffer.daaVolume,l.tradeVolume=n.tradeOffer.tradeVolume,l.daaCurrencyTicker=n.tradeOffer.daaCurrencyTicker,l.tradeCurrencyTicker=n.tradeOffer.tradeCurrencyTicker,n.tradeOffer=null,s.comparePrecision(l.tradeVolume,l.daaVolume)>0?l.changeDaaAmount():l.changeTradeAmount())}var l=this,d=null;l.daaServiceEnabled=!0,l.daaId=null,l.lastOffer=null,l.lastAnyOffer=null,l.loaded=!1,l.transactionType="sell",l._componentType="trade-offer",l._componentFilter={type:"sell"},l._componentSoftFilter={},l._data={},l.daaCurrencyTicker="",l.tradeCurrencyTicker="",l.selectedCurrencyWallet={},l.goToPreview=!1,o.$watch("$ctrl.tradeCurrencyTicker",function(){l.refresh()}),o.$on("userMessage",function(n,o){if("trade/list"==o.dataType){var a={type:"float",afterPoint:6,decimalMark:".",defaultValueInput:null};$("#daaVolume").numberMask(a),$("#tradeVolume").numberMask(a)}if("trade/list"==o.dataType&&o.data.currency==l.key&&(l.sourceWallet=o.data.source),"trade-offer"==o.dataType&&o.data.offerId==l._componentFilter.offerId){if(l._data=o.data,l.errorMessage=null,l.lastAnyOffer=o.data,o.data.error)l.errorMessage=o.data.error;else if(l.lastOffer=o.data,l.goToPreview)return void e.go("app.sellPreview",{offerId:l.lastOffer.offerId});"GVB"==l._componentFilter.volumeOf?(l.tradeVolume=l._data.tradeVolume.toFixed(6),t(function(){$("#tradeVolume").keyup()},200)):"TRADE"==l._componentFilter.volumeOf&&(l.daaVolume=l._data.daaVolume.toFixed(6),t(function(){$("#daaVolume").keyup()},200))}"daa/basic-info"==o.dataType&&o.data.ticker==l.key&&(l.daaId=o.data.id),"service/status"==o.dataType&&(l.serviceEnabled=_.find(o.data.list,function(e){return e.type==l.transactionType.toUpperCase()}).enable),"daa-investments-disabled"==o.dataType&&o.data.daaTicker==l.key&&l.serviceEnabled&&(l.daaServiceEnabled=!1,c.showNotificationBanner(!0,"warning",l.transactionType+" "+l.key,o.data.message,void 0,!1)),"fund/set-status"==o.dataType&&o.data.daaId==l.daaId&&1==o.data.tradingEnabled&&(l.daaServiceEnabled=!0,c.showNotificationBanner(!1))}),l.changeTradeAmount=function(){Number(l.tradeVolume)>0&&(l._componentFilter.volumeOf="TRADE",l.refresh(),t(function(){l.submitted=!0}))},l.changeDaaAmount=function(){Number(l.daaVolume)>0&&(l._componentFilter.volumeOf="GVB",l.refresh(),t(function(){l.submitted=!0}))},l.sellPreview=function(){l.goToPreview=!0,l.refresh()},l.render=function(e){},l.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},l.refresh=function(){return l.tradeCurrencyTicker&&l.daaCurrencyTicker&&l._componentFilter.volumeOf?(l._componentFilter.offerId=UUID.generate(),void r.sendEvent("generate-trade-offer",{offerId:l._componentFilter.offerId,daaCurrencyTicker:l.daaCurrencyTicker,tradeCurrencyTicker:l.tradeCurrencyTicker,volumeOf:l._componentFilter.volumeOf,daaVolume:Number(l.daaVolume)||0,tradeVolume:Number(l.tradeVolume)||0,type:"sell"})):(l.lastOffer=null,l.lastAnyOffer=null,void t(function(){l.errorMessage=null,l._data={}}))},l.$onInit=function(){d=a.AddComponent(l),r.getSocket({dataType:"daa/get-basic-info",daaTicker:l.key,response:{dataType:"daa/get-basic-info"}})},l.$onDestroy=function(){a.RemoveComponent(d)},l.canSubmit=function(){return!!l.lastOffer},u()}angular.module("app.dashboard").component("sellV3",{templateUrl:"app/views/components/sell/v3/sell.2c60ebbb.html",controller:e,bindings:{key:"=",loaded:"<",transactionType:"<"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService","NumberService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(u),u._componentFilter={pageSize:4,pageNumber:0}}var s,u=this,l=0;u.currency="",u.type="",u.daaList=[],u.totalPage=null,u.pageTotalElement=0,u._componentType="get-daa-list",u._componentFilter={},u._componentSoftFilter={},u._data={},u.loadMore=function(){u.loadInProgress||(u._componentFilter.pageNumber+=1,u._componentFilter.pageNumber>=u.totalPage?void 0:u.refresh())},u.showLoadingMessage=e(function(){u.loadingMessage=!0},5e3),u.generateRequestData=function(){return o.generateRequestData(u)},u.render=function(){},a.$on("userMessage",function(t,n){"daa-list"==n.dataType&&(u.loadInProgress&&(e.cancel(u.loadInProgress),u.loadInProgress=!1),u.showLoadingMessage&&e.cancel(u.showLoadingMessage),u.loadingMessage=!1,_.each(n.data.funds,function(e){_.find(u.daaList,function(t){return t.id==e.id})||u.daaList.push(e)}),u._componentFilter.pageNumber=n.data.page.pageNumber,u.pageSize=n.data.page.pageSize,0===l&&(u.totalPage=n.data.page.totalPage,u.pageTotalElement=n.data.page.totalElement,l++),a.$evalAsync(function(){u.dataReceived=!0,$(window).height()==$(document).height()&&(void 0,u.loadMore())}))}),u.refresh=function(){u.loadInProgress||(u.showLoadingMessage=e(function(){u.loadingMessage=!0},5e3),u.loadInProgress=e(function(){u.loadInProgress=!1},5e3),n.getSocket(u.generateRequestData()))},u.$onInit=function(){s=t.AddComponent(u),n.getSocket(u.generateRequestData())},u.$onDestroy=function(){t.RemoveComponent(s)},c()}angular.module("app.dashboard").component("alphaDashboard",{templateUrl:"app/views/components/dashboard/alphaDashboard.d903d980.html",controller:e,bindings:{key:"=",daaName:"=",daaManager:"=",type:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s),s.dropDownData=[],s._componentFilter.currency=s.currency}var s=this;s._componentType="service/status",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;s.generateRequestData=function(){return a.generateRequestData(s)},s.render=function(e){var t=_.find(e.data.list,function(e){return e.type.toLowerCase()==s.kind});t.enable?(s.serviceEnabled=!0,r.showNotificationBanner(!1)):(s.serviceEnabled=!1,r.showNotificationBanner(!0,"warning",t.type.toLowerCase(),t.reason,void 0,!1))},i.$on("userMessage",function(e,t){"exceptions"==t.dataType&&r.showNotificationBanner(!0,"warning","",t.data.message,void 0,!1)}),s.refresh=function(){o.getSocket(s.generateRequestData())},s.$onInit=function(){u=n.AddComponent(s),s.refresh()},s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.dashboard").component("serviceListener",{templateUrl:"app/views/components/ServiceListener.63a5b508.html",controller:e,bindings:{kind:"@?",serviceEnabled:"=?"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){o.checkComponent(l)}var u,l=this;l.currency=c("uppercase")(i.params.currency),l.childLoaded=!1,l.daaName="",l.daaManager="",l.daaType="",l.coin=l.currency,a.coin=l.currency,l.fallBackGranulation="HOURLY",l.setChartParams=function(e){l.from=1451606400,l.to=moment().utc().unix()},l._componentType="daa/get-basic-info",l._componentFilter={},l._componentSoftFilter={},l._data={},l.generateRequestData=function(){return l._componentFilter.daaTicker=l.currency,o.generateRequestData(l)},l.render=function(){},a.$on("userMessage",function(e,t){"daa/basic-info"==t.dataType&&t.data.ticker==l.currency&&(l.daaName=t.data.name,l.daaManager=t.data.manager,l.daaType=t.data.type,l.daaId=t.data.id),"daa-not-exist"==t.dataType&&t.data.daaTicker==l.currency&&i.go("app.dashboard")}),l.refresh=function(){n.getSocket(l.generateRequestData())},l.$onInit=function(){u=t.AddComponent(l),n.getSocket(l.generateRequestData())},l.$onDestroy=function(){t.RemoveComponent(u)},s()}angular.module("app.dashboard").component("daa",{templateUrl:"app/views/components/daa/daa.6b93f5b6.html",controller:e,bindings:{key:"=",currency:"=",daaType:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$rootScope","$state","$filter"]}(),function(){"use strict";function e(e,t,n,o){function a(){o.checkComponent(r)}var r=this;r._componentType="dashboard",r._componentFilter={},r._componentSoftFilter={},r._data={};var i=null;r.generateRequestData=function(){return o.generateRequestData(r)},r.render=function(t){e(function(){r._data=t.data})},r.refresh=function(){n.getSocket(r.generateRequestData())},r.$onInit=function(){i=t.AddComponent(r),n.getSocket(r.generateRequestData())},r.$onDestroy=function(){t.RemoveComponent(i)},a()}angular.module("app.dashboard").component("dashboard",{templateUrl:"app/views/components/dashboard/dashboard.e7fe59fe.html",controller:e,bindings:{key:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e){function t(){void 0,void 0}var n=this;t(),n.$onInit=function(){void 0,e.AddComponent(n.key)},n.$onDestroy=function(){void 0},n.$onChanges=function(e){void 0,e.data&&(void 0,void 0)},n.clickTest=function(){void 0}}angular.module("app.dashboard").component("helloWorld",{templateUrl:"app/views/components/helloWorld.html",controller:e,bindings:{data:"@",key:"@"}}),e.$inject=["ComponentManager"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){r.checkComponent(l)}var l=this,d=null;l.content=null,l._componentType="",l._componentFilter={},l._componentSoftFilter={},l._data={},l.generateRequestData=function(){return r.generateRequestData(l)},l.render=function(e){},l.refresh=function(){},l.$onInit=function(){d=o.AddComponent(l),t.get(self_home+"/footer").then(function(e){l.content=e.data})},l.$onDestroy=function(){o.RemoveComponent(d)},u()}angular.module("app.dashboard").component("importFooter",{template:'<div ng-bind-html="$ctrl.content"></div>',controller:e,bindings:{key:"="}}),e.$inject=["$rootScope","$http","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$state","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s,u,l){function d(){r.checkComponent(p),p.profile_url=config.profile_url,p.identity_verification=config.identity_verification,p.profile_change_pass=config.profile_change_pass,p.two_factor_auth=config.two_factor_auth,p.showDevEnv=config.is_development,p.devEnv=config.ws_handler_short}var p=this;p._componentType="user",p._componentFilter={},p._componentSoftFilter={},p._data={},p.currentState=s.current,p.showDevEnv=!1;var m=null;e.$on("$stateChangeStart",function(e,t,n,o,a){e.defaultPrevented||(p.currentState=t)}),p.isActive=function(e){return"app.transaction"==p.currentState.name&&u.flow?u.flow==e:p.currentState.activeType==e},p.login=function(){void 0},p.logout=function(){a.getSocket(r.generateRequestData({_componentType:"identity/logout",_componentFilter:{},_data:{}})),setTimeout(function(){c.logout(),s.go("app.dashboard")},1e3)},p.onEnvironmentClick=function(){p.showDevEnv=!1},p.generateRequestData=function(){return r.generateRequestData(p)},p.render=function(t){n(function(){p._data=t.data,e.user=p._data})},l.$on("userMessage",function(e,t){"user"==t.dataType&&(p.isDaaManager=_.contains(t.data.roles,"ROLE_GVB_MANAGER")||_.contains(t.data.roles,"ROLE_GVB_MANAGER_STR"))}),p.errorHandler=function(e){return e.error?(i.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(i.showNotificationBanner(!1),!1)},p.setFirstDaaToCompare=function(){return"app.daa"==p.currentState.name?u.currency:""},p.refresh=function(){a.getSocket(p.generateRequestData())},p.$onInit=function(){m=o.AddComponent(p),p.refresh()},p.$onDestroy=function(){o.RemoveComponent(m)},d()}angular.module("app.dashboard").component("topNavbar",{templateUrl:"app/views/components/topNavbar.4f7416bf.html",controller:e,bindings:{key:"="}}),e.$inject=["$rootScope","$window","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","OAuth","$state","$stateParams","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c=this;c.currentState=e.current,
c.setFirstDaaToCompare=function(){return"app.daa"==e.current.name?t.currency:""}}angular.module("app.dashboard").component("topNavbarPages",{templateUrl:"app/views/partials/top-navbar-pages.20ac6982.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$stateParams","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.loaded=!1,u._componentType="user",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},i.$on("userMessage",function(e,n){"user"==n.dataType&&(u.firstName=n.data.name,u.lastName=n.data.lastName,u.nickName=n.data.nickName,u.email=n.data.email,u.phoneNumber=n.data.phone,t(function(){u.loaded=!0},200))}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.account").component("accountPersonalDetails",{templateUrl:"app/views/components/account/accountPersonalDetails.544a7d7d.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.userLimits=[],u.loaded=!1,u._componentType="user/get-limits",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.updateUserLimits=function(){o.getSocket(u.generateRequestData())},u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},u.isOther=function(e){return!e.currency&&u.userLimits.filter(function(t){return t.type==e.type&&t!==e}).length>0},i.$on("userMessage",function(e,t){"user/limits"==t.dataType?(u.userLimits=t.data.limits,u.loaded=!0,void 0):"verification/attribute"==t.dataType&&u.updateUserLimits()}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.account").component("accountUserLimits",{templateUrl:"app/views/components/account/accountUserLimits.9378c247.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this,l=0;u.tierOneVerification="",u.tierTwoVerification="",u.tierThreeVerification="",u.continueTierOne=!1,u.continueTierTwo=!1,u.tierOneCompleted=!1,u.tierTwoCompleted=!1,u.conversationHighDemand=!1,u.verificationStatus=!1,u.verificationLinkHidden=!1,u.underReviewMessageHidden=!1,u._componentType="verification/info",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData()),o.getSocket({dataType:"second-factor/info",authenticationPurpose:"PRIMARY"}),o.getSocket(a.generateRequestData({_componentType:"verification/tier-two/is-possible",_componentFilter:{},_data:{}}))},i.$on("userMessage",function(e,t){if("verification/info"==t.dataType){var n=_.find(t.data.attributes,function(e){return"FIRST_LEVEL_DOCUMENT"==e.kind}),r=_.find(t.data.attributes,function(e){return"DOCUMENT"==e.kind}),i=_.find(t.data.attributes,function(e){return"CUSTOM"==e.kind});i&&(u.tierThreeVerification=i.status,u.verificationStatus=!0),r&&(u.tierTwoVerification=r.status,u.tierOneCompleted=!0,"VERIFIED"==u.tierTwoVerification?(u.tierTwoCompleted=!0,u.verificationStatus=!0):"READY_FOR_VERIFICATION"==u.tierTwoVerification?(l++,u.conversationHighDemand===!1&&1===l?o.getSocket(a.generateRequestData({_componentType:"verification/info",_componentFilter:{},_data:{}})):(u.continueTierTwo=!0,u.verificationStatus=!0,u.conversationHighDemand=!1)):u.verificationStatus=!0),n&&(u.tierOneVerification=n.status,"VERIFIED"==u.tierOneVerification?(u.tierOneCompleted=!0,u.verificationStatus=!0):"PHONE_IN_VERIFICATION"==u.tierOneVerification||"PHONE_VERIFIED"==u.tierOneVerification?(u.continueTierOne=!0,u.verificationStatus=!0):"IN_PROCESS"==u.tierOneVerification?(u.tierOneInProcess=!0,u.verificationStatus=!0):"DECLINE"==u.tierOneVerification?(u.tierOneDeclined=!0,u.verificationStatus=!0):u.verificationStatus=!0),n||r||(u.verificationStatus=!0),t.data.attributes.length||(u.continueTierOne=!1,u.tierOneVerification=!1)}else"verification/conversation/wait"==t.dataType?(u.conversationHighDemand=!0,u.continueTierTwo=!1,u.verificationStatus=!0,u.verificationLinkHidden=!0):"verification/attribute"==t.dataType?(u.data=t.data,"FIRST_LEVEL_DOCUMENT"!==u.data.kind||"PHONE_IN_VERIFICATION"!==u.data.status&&"PHONE_VERIFIED"!==u.data.status?"FIRST_LEVEL_DOCUMENT"===u.data.kind&&"VERIFIED"===u.data.status?(u.continueTierOne=!1,u.tierOneCompleted=!0):"FIRST_LEVEL_DOCUMENT"===u.data.kind&&"CANCELED"===u.data.status?u.continueTierOne=!1:"FIRST_LEVEL_DOCUMENT"===u.data.kind&&"DECLINE"===u.data.status?(u.continueTierOne=!1,u.tierOneDeclined=!0):"FIRST_LEVEL_DOCUMENT"===u.data.kind&&"IN_PROCESS"===u.data.status?(u.continueTierOne=!1,u.tierOneInProcess=!0):"DOCUMENT"===u.data.kind&&"VERIFIED"===u.data.status?(u.tierTwoCompleted=!0,u.continueTierTwo=!1):"NO_SUPPORTED_COUNTRY"===u.data.status||"NO_SUPPORTED_COUNTRY_US"===u.data.status?u.verificationLinkHidden=!0:"IN_PROCESS"===u.data.status||"VERIFIED_UNDER_REVIEW"===u.data.status?u.continueTierTwo=!1:"DECLINE"===u.data.status?(u.continueTierTwo=!1,u.underReviewMessageHidden=!0):"CUSTOM"===u.data.kind&&(u.tierThreeVerification=i.status,u.verificationStatus=!0):(u.continueTierOne=!0,u.tierOneInProcess=!1)):"verification/conversation-url"==t.dataType&&t.data.url?(u.continueTierTwo=!0,u.conversationHighDemand=!1,u.verificationLinkHidden=!0):"verification/tier-two/possible"==t.dataType?u.tierTwoPossible=t.data.possible:"PRIMARY"!=t.data.authenticationPurpose||"second-factor/enabled"!=t.dataType&&"second-factor/challenge/change"!=t.dataType||(u.twoFaLoginEnabled=!0)}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.account").component("accountVerificationStatus",{templateUrl:"app/views/components/account/accountVerificationStatus.dc10a022.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s),s._componentFilter={pageSize:25,pageNumber:0}}var s=this;s.totalPage=0,s.pageTotalElement=0,s.list=[];var u=0;s._componentType="activity",s._componentFilter={},s._componentSoftFilter={},s._data={};var l=null;s.labels={999909:"In progress",999908:"Today",999907:"Yesterday",999906:"This week",999905:"This month"},s.activityLabel=function(e){var t=_.findKey(s.labels,function(t,n){return n.indexOf(e)>=0})||!1;return t?s.labels[e]:moment(e,"YYYYMM").format("MMMM YYYY")},s.downloadList=function(){o.getSocket({dataType:"activity-export-list"})},s.nextPage=function(){s._componentFilter.pageNumber+=1,s._componentFilter.pageNumber>=s.totalPage?void 0:s.refresh()},s.showLoadingMessage=t(function(){s.loadingMessage=!0},5e3),s.generateRequestData=function(){return a.generateRequestData(s)},s.render=function(e){s.loadInProgress&&(t.cancel(s.loadInProgress),s.loadInProgress=!1),s.showLoadingMessage&&t.cancel(s.showLoadingMessage),s.loadingMessage=!1,t(function(){s.dataReceived=!0,e.data.activityList.sort(function(e,t){var n=e.metaData.date.seconds,o=t.metaData.date.seconds;return n===o&&(n="deposit"==e.type?0:1,o="deposit"==t.type?0:1),n>o?-1:n<o?1:0}),_.each(e.data.activityList,function(e){_.find(s.list,function(t){return t.transactionId==e.transactionId})||(("sell_crypto"==e.type||"sell_fund"==e.type||"internal_transfer"==e.type||"otc_deal"==e.type)&&e.transferData.sourceAmount.value>=1e-6||("buy_crypto"==e.type||"buy_fund"==e.type)&&e.transferData.targetAmount.value>=1e-6||("deposit"==e.type||"withdraw"==e.type||"fee_distribution"==e.type)&&e.transferData.amount.value>=1e-6)&&s.list.push(e)}),_.isEmpty(s.list)?(void 0,s.emptyAvtivity=!0):(s.groupedTransaction=_.groupBy(s.list,function(e){return"IN_PROGRESS"==e.metaData.status||"IN_VERIFICATION"==e.metaData.status?"999909":moment().startOf("day").isBefore(1e3*e.metaData.date.seconds)?"999908":moment().add(-1,"days").startOf("day").isBefore(1e3*e.metaData.date.seconds)?"999907":moment(new Date).startOf("isoWeek").isBefore(1e3*e.metaData.date.seconds)?"999906":moment().startOf("month").isBefore(1e3*e.metaData.date.seconds)?"999905":moment(1e3*e.metaData.date.seconds).format("YYYYMM")}),s.segmentKeys=_.keys(s.groupedTransaction).sort(function(e,t){return t-e}),s._componentFilter.pageNumber=e.data.pageableAttribute.pageNumber,s.pageSize=e.data.pageableAttribute.pageSize,0===u&&(s.totalPage=e.data.pageableAttribute.pageTotalPage,s.pageTotalElement=e.data.pageableAttribute.pageTotalElement,u++))})},s.toTransaction=function(t){e.go("app.transaction",{transactionId:t.transactionId})},i.$on("userMessage",function(e,t){if("downloadable-result"===t.dataType){if(!t.data.data||!t.data.mimeType||!t.data.fileName)return;for(var n=atob(t.data.data),o=new Array(n.length),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);var r=new Uint8Array(o),i=new Blob([r],{type:t.data.mimeType});s.errorMessage=t.data.error,s.errorMessage||saveAs(i,t.data.fileName)}}),s.refresh=function(){s.loadInProgress||(s.showLoadingMessage=t(function(){s.loadingMessage=!0},5e3),s.loadInProgress=t(function(){s.loadInProgress=!1},5e3),o.getSocket(s.generateRequestData()))},s.$onInit=function(){l=n.AddComponent(s),o.getSocket(s.generateRequestData())},s.$onDestroy=function(){n.RemoveComponent(l)},c()}angular.module("app.dashboard").component("activityList",{templateUrl:"app/views/components/activity/activityList.ab4a02f6.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","$rootScope","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s)}var s=this,u=null;s.daaTicker="",s._componentType="get-my-daa-list",s._componentFilter={},s._componentSoftFilter={},s._data={},s.generateRequestData=function(){return a.generateRequestData(s)},s.render=function(e){},s.refresh=function(){},s.$onInit=function(){u=n.AddComponent(s),o.getSocket(s.generateRequestData())},i.$on("userMessage",function(e,t){"user"==t.dataType&&(_.contains(t.data.roles,"ROLE_GVB_MANAGER")||_.contains(t.data.roles,"ROLE_GVB_MANAGER_STR"))&&(s.isDaaManager=!0),"my-daa-list"==t.dataType&&(s.daaList=t.data.daaList)}),s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.dashboard").component("audit",{templateUrl:"app/views/components/audit/audit.e5efcc1b.html",controller:e,bindings:{daaTicker:"<"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){s.setAuditType(),a.checkComponent(s)}var s=this,u=null;s.allInfo={},s.allTree={},s.proofId="24b03310-68cc-4576-97ad-29e592df77c4",s.jsonCode={},s.animated=!1,s.tickerToCopy="",s.loaded=!1,s._componentType="",s._componentFilter={},s._componentSoftFilter={},s._data={},s.setAuditType=function(e){e?(s._componentType="get-daa-liabilities-info",s._componentFilter.daaTicker=e,s.daaTicker=e):(s._componentFilter={},s._componentType="get-user-liabilities-info",s.daaTicker=""),s.allInfo[s.daaTicker]||o.getSocket(s.generateRequestData())},s.generateJson=function(e,t,n,o){var a={data:{user:e,sum:t,nonce:n}},r=sha256(e+"|"+t+"|"+n),i=t;return o.forEach(function(e){var t,n={data:{hash:e.hash,sum:e.sum}};r<e.hash?(t=r+"|"+e.hash,a={left:a,right:n}):(t=e.hash+"|"+r,a={left:n,right:a}),i=new BigNumber(i).plus(e.sum).toFixed(),r=sha256(i+"|"+t)}),a={partial_tree:a},JSON.stringify(a,null,"  ")},s.animate=function(){s.animated=!0,t(function(){s.animated=!1},2e3)},r.$watch("$ctrl.daaTicker",function(e,t){e&&o.getSocket({dataType:"daa/get-basic-info",daaTicker:s.daaTicker})}),s.generateRequestData=function(){return s._componentFilter.proofId=s.proofId,a.generateRequestData(s)},s.render=function(e){},s.refresh=function(){},s.$onInit=function(){u=n.AddComponent(s)},r.$on("userMessage",function(e,t){var n=function(e){return e.indexOf("@")===-1?e:""};if("daa/basic-info"==t.dataType&&t.data.ticker==s.daaTicker&&(s.daaName=t.data.name),"liabilities-partial-tree"==t.dataType){var a=n(t.data.personal);s.allTree[a]=s.allTree[a]||{},s.allTree[a][t.data.ticker]=s.generateJson(t.data.personal,t.data.balance,t.data.salt,t.data.partialTree)}if("liabilities-info"==t.dataType){var a=n(t.data.personal);s.allInfo[a]=t.data,_.each(t.data.balances,function(e){s.allInfo[a][e.ticker]||(a?o.getSocket({dataType:"get-daa-liabilities-partial-tree",proofId:s.proofId,daaTicker:a,currencyTicker:e.ticker}):o.getSocket({dataType:"get-user-liabilities-partial-tree",proofId:s.proofId,currencyTicker:e.ticker}))});var r=t.data.balances.reduce(function(e,t){return e+t.balance},0);r||(s.allInfo[""]=!1)}"liabilities-for-user-unavailable"==t.dataType&&(s.allInfo[""]=!1),"liabilities-for-daa-unavailable"==t.dataType&&(s.allInfo[t.data.daaTicker]=!1)}),s.$onDestroy=function(){n.RemoveComponent(u)},s.isLoaded=function(){return!!s.allInfo[s.daaTicker]},s.isUnavailable=function(){return s.allInfo[s.daaTicker]===!1},c()}angular.module("app.dashboard").component("auditAssetsStructure",{templateUrl:"app/views/components/audit/auditAssetsStructure.00702bfb.html",controller:e,bindings:{daaTicker:"=",setAuditType:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","ngCopy"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s.generateRequestData=function(){return r.generateRequestData(s)},s.refresh=function(){},s.render=function(e){},s.$onInit=function(){return c=o.AddComponent(s),s._componentType="challenge/solve/register",s._componentFilter=i.getRedirectParams("register"),s._componentFilter?(a.getSocket(s.generateRequestData()),i.clearRedirectParams("register"),void n.go("page.login")):n.go("app.dashboard")},s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("emailVerification",{templateUrl:"app/views/components/auth/emailVerification.d41d8cd9.html",controller:e}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s._componentType="identity/forgot-password",s._componentFilter={},s._componentSoftFilter={},s._data={},s.recaptcha_key=config.recaptcha,s.generateRequestData=function(){return s._componentFilter.email=s.account.email,r.generateRequestData(s)},s.refresh=function(){},s.render=function(e){n.go("page.checkYourEmail")},s.sendEmail=function(){a.getSocket(s.generateRequestData())},s.$onInit=function(){c=o.AddComponent(s),s.account={email:i.user}},s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("forgottenPasswordForm",{templateUrl:"app/views/components/auth/forgottenPasswordForm.14614d0e.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","$stateParams"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s,u){var l,d=this,p="app/views/components/auth/loginCredentials.302630b6.html";d._componentType="identity/login",d._componentFilter={},d._componentSoftFilter={},d._data={},d.template=p,d.kind="",d.loginError="",(new Fingerprint2).get(function(e){d._componentFilter.deviceFingerprint=e}),d._responseMessage={_componentType:"identity/jwt",_componentFilter:{},_componentSoftFilter:{},_data:{}},d.account={},d.generateRequestData=function(){return d._componentFilter.email=d.account.email,d._componentFilter.password=d.account.password,d.account.code&&(d._componentFilter.twoFactor=d.account.code+""),r.generateRequestData(d)},d.refresh=function(){},d.render=function(e){var t=e.data.jwtToken,o=i.getRouteBeforeLogin();i.setToken(t),o&&"name"in o?(n.go(o.name,o.params),i.removeRouteBeforeLogin()):n.go("app.dashboard")},d.login=function(){a.getSocket(d.generateRequestData())},d.cancel2fa=function(){d.template=p,d.account={},delete d._componentFilter.twoFactor},d.$onInit=function(){l=o.AddComponent(d)},e.$on("userMessage",function(e,t){"identity/login-second-factor"==t.dataType&&(d.loginError="",d.kind=t.data.kind,d.template="app/views/components/auth/login2fa.33706e47.html"),"identity/login-failed"==t.dataType&&(d.loginError=t.data.message),"web-notification"==t.dataType&&u(function(){s.showNotificationBanner(!0,"info","Verification reminder",t.data.text,void 0,!0)},1e3)}),e.$watchGroup(["$ctrl.account.email","$ctrl.account.password","$ctrl.account.code"],function(e,t){e&&(d.loginError=!1)}),e.$watch("$ctrl.account.code",function(e,t){e&&6==e.length&&d.login()}),d.$onDestroy=function(){o.RemoveComponent(l)}}angular.module("app.dashboard").component("loginForm",{templateUrl:"app/views/components/auth/loginForm.3116c268.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth","$window","LayoutService","$timeout"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s._componentType="identity/login",s._componentFilter={},s._componentSoftFilter={},s._data={},s.submited=!1,s.generateRequestData=function(){return r.generateRequestData(s)},s.$onChanges=function(){s._componentFilter=_.pick(s.params,"email","password")},s.refresh=function(){},s.render=function(e){},s.send=function(){s.submited=!0,a.getSocket(s.generateRequestData())},s.$onInit=function(){c=o.AddComponent(s)},e.$on("userMessage",function(e,t){"identity/login-second-factor"==t.dataType&&(s.submited=!1)}),s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("loginResendSms",{template:'<a ng-if="!$ctrl.submited" ng-click="$ctrl.send()">Resend</a><span ng-if="$ctrl.submited">Sending ...</span>',controller:e,bindings:{params:"<"}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s.registerError="",s._componentType="user/register",s._componentFilter={},s._componentSoftFilter={},s._data={},s.recaptcha_key=config.recaptcha,s.account={},s.generateRequestData=function(){return s._componentFilter=s.account,r.generateRequestData(s)},s.refresh=function(){},s.render=function(){n.go("page.checkEmailRegister")},s.register=function(){null!=localStorage.getItem("refCode")&&(s.account.referralCode=localStorage.getItem("refCode")),a.getSocket(s.generateRequestData())},e.$on("userMessage",function(e,t){"exceptions"==t.dataType&&(s.registerError=t.data.message.replace(/.,/g,"."))}),e.$watchGroup(["$ctrl.account.email","$ctrl.account.password"],function(e,t){e&&(s.registerError=!1)}),s.$onInit=function(){c=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("registerForm",{templateUrl:"app/views/components/auth/registerForm.ed0ce3b7.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s.invalidPasswordFormat=!1,s._componentType="identity/password-new",s._componentFilter={},s._componentSoftFilter={},s._data={},s.checkIsPasswordConfirmed=function(){return s.account.password==s.account.passwordRepeat},e.$watchGroup(["$ctrl.account.password","$ctrl.account.passwordRepeat"],function(e,t){e&&(s.invalidPasswordFormat=!1)}),s.generateRequestData=function(){return s._componentFilter.password=s.account.password,r.generateRequestData(s)},s.refresh=function(){},e.$on("userMessage",function(e,t){"identity/password-failed"==t.dataType&&(s.invalidPasswordFormat=!0)}),s.render=function(e){i.clearRedirectParams("forgotPassword"),n.go("page.passwordChangedReset")},s.submit=function(){a.getSocket(s.generateRequestData())},s.$onInit=function(){if(c=o.AddComponent(s),s._componentFilter=i.getRedirectParams("forgotPassword"),!s._componentFilter)return n.go("app.dashboard")},s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("setNewPasswordForm",{templateUrl:"app/views/components/auth/setNewPasswordForm.942a16c8.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c),c.childLoaded=!1}var c=this;c._componentType="",c._componentFilter={},c._componentSoftFilter={},c.data={};var s=null;t.$watch("$ctrl.childLoaded",function(t,n){t&&e(function(){c.childLoaded=t})}),c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)},c.goToDetailedPage=function(e){switch(c.type){case"FUNDS":n.go("app.detailedPageFund",{coin:e});break;case"CRYPTOCURRENCIES":n.go("app.detailedPageToken",{coin:e})}},i()}angular.module("app.dashboard").component("chart",{templateUrl:"app/views/components/chart/chart.50471966.html",controller:e,bindings:{key:"=",type:"="}}),e.$inject=["$timeout","$scope","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(c),c._componentFilter={pageSize:99,pageNumber:0}}var i,c=this,s=0;c.list=[],c.detailsVisible=!1,c.hasWithdrawals=!1,c.hasDeposits=!1,c.entryValue=0,c.exitValue=0,c.entryAmount=0,c.exitAmount=0,c.holdingAmount=0,c.holdingValue=0,c.costOfSoldTokens=0,c.costOfHoldingTokens=0,c.averagePrice=0,c.currentPrice=0,c.profitMade=0,c.profitMadePercentage=0,c.changeCurrent=0,c.changeCurrentPercentage=0,c.changeAllTime=0,c.changeAllTimePercentage=0,void 0,c._componentType="activity",c._componentFilter={},c._componentSoftFilter={},c._data={},c.generateRequestData=function(){return c._componentFilter.daaTicker=c.coin,o.generateRequestData(c)},c.calculateHoldingCost=function(e,t){var n=0,o=0;return _.each(e,function(e){if("buy_fund"==e.type||"deposit"==e.type&&"COMPLETED"==e.metaData.status){if("buy_fund"==e.type)var a=e.transferData.targetAmount.value;else var a=e.transferData.amount.value;var r=e.transferData.mainAmount.value;if(t>o+a)n+=r,o+=a;else{if(!(t>o))return;var i=r/a,c=t-o;n+=i*c,o+=c}}}),n},c.toggleDetailsVisibility=function(){c.detailsVisible=!c.detailsVisible},c.render=function(e){},a.$on("userMessage",function(e,t){"fund/latest"==t.dataType&&t.data.fundCurrency==c.coin&&(c.currentPrice=t.data.valueOfToken,c.priceLoaded=!0),"currency/user"==t.dataType&&t.data.currency==c.coin&&(c.holdingAmount=t.data.userAmount.value,c.holdingValue=t.data.userAmountMainCurrency.value,c.holdingData=t.data,c.holdingsLoaded=!0),"activity"==t.dataType&&t.data.daaTicker==c.coin&&(_.each(t.data.activityList,function(e){_.find(c.list,function(t){return t.transactionId==e.transactionId})||c.list.push(e)}),c._componentFilter.pageNumber=t.data.pageableAttribute.pageNumber,c.pageSize=t.data.pageableAttribute.pageSize,0===s&&(c.totalPage=t.data.pageableAttribute.pageTotalPage,c.pageTotalElement=t.data.pageableAttribute.pageTotalElement,s++),s++,c._componentFilter.pageNumber+=1,c._componentFilter.pageNumber>=c.totalPage?(c.hasWithdrawals=_.find(c.list,function(e){return"withdraw"==e.type}),c.hasDeposits=_.find(c.list,function(e){return"deposit"==e.type}),void 0,void 0,c.entryValue=0,c.exitValue=0,c.entryAmount=0,c.exitAmount=0,_.each(c.list,function(e){"buy_fund"==e.type?(c.entryValue+=e.transferData.mainAmount.value,c.entryAmount+=e.transferData.targetAmount.value):"sell_fund"==e.type?(c.exitAmount+=e.transferData.sourceAmount.value,c.exitValue+=e.transferData.mainAmount.value):"deposit"==e.type&&"COMPLETED"==e.metaData.status?(c.entryValue+=e.transferData.mainAmount.value,c.entryAmount+=e.transferData.amount.value):"withdraw"==e.type&&"COMPLETED"==e.metaData.status&&(c.exitAmount+=e.transferData.amount.value,c.exitValue+=e.transferData.mainAmount.value)}),c.activityLoaded=!0):n.getSocket(c.generateRequestData())),c.priceLoaded&&c.holdingsLoaded&&c.activityLoaded&&(c.costOfHoldingTokens=c.calculateHoldingCost(c.list,c.holdingAmount),c.costOfSoldTokens=c.entryValue-c.costOfHoldingTokens,c.holdingAmount>0&&(c.averagePrice=c.costOfHoldingTokens/c.holdingAmount,c.changeCurrentPercentage=(c.currentPrice-c.averagePrice)/c.averagePrice),c.profitMade=c.exitValue-c.costOfSoldTokens,c.costOfSoldTokens>0&&(c.profitMadePercentage=(c.exitValue-c.costOfSoldTokens)/c.costOfSoldTokens),c.changeCurrent=c.holdingValue-c.costOfHoldingTokens,c.changeAllTime=c.holdingValue-c.entryValue+c.exitValue,c.changeAllTimePercentage=c.changeAllTime/c.entryValue,c.loaded=!0)}),c.refresh=function(){},c.$onInit=function(){i=t.AddComponent(c),n.getSocket(c.generateRequestData()),n.getSocket({dataType:"currency/user",currency:c.coin}),n.getSocket({dataType:"fund/latest",fundCurrency:c.coin,baseCurrency:"USD"})},c.$onDestroy=function(){t.RemoveComponent(i)},r()}angular.module("app.dashboard").component("chartActionMetaData",{templateUrl:"app/views/components/chart/chartActionMetaData.fc02ab0b.html",controller:e,bindings:{coin:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(u)}function s(){Highcharts.setOptions({global:{useUTC:!1}}),Highcharts.stockChart(d[0],{rangeSelector:{enabled:!0,selected:1,inputEnabled:!1},xAxis:{min:0},yAxis:{opposite:!1,labels:{formatter:function(){return"$"+this.value}},plotLines:[{value:0,width:2,color:"silver"}]},navigator:{enabled:!1},scrollbar:{enabled:!1},plotOptions:{series:{showInNavigator:!0,enableMouseTracking:!1,turboThreshold:2e3}},tooltip:{enabled:!1},credits:{enabled:!1},series:[{color:"#4c6f8c",data:l}]},function(e){void 0==e.series[0].dataGroupInfo&&(u.noData=!0)})}var u=this,l=[],d=$(i).find(".hc-container");u.noData=!1,u.loaded=!1,u._componentType="daa-get-fixed-chart",u._componentFilter={daaName:u.key,currency:"USD"},u._data={};var p=null;u.generateRequestData=function(){return o.generateRequestData(u)},u.render=function(e){},r.$on("userMessage",function(e,t){if("daa-get-fixed-chart-result"==t.dataType&&t.data.daaName==u.key){u._data=t.data;for(var n=[],o=0;o<u._data.chartData.length;o++){var a={x:1e3*u._data.chartData[o].x.seconds,y:u._data.chartData[o].y.tokenPrice};n.push(a)}l=n,l&&s(),u.loaded=!0}}),u.refresh=function(){},u.$onInit=function(){p=t.AddComponent(u),n.getSocket(u.generateRequestData())},u.$onDestroy=function(){t.RemoveComponent(p)},c()}angular.module("app.dashboard").component("chartData",{templateUrl:"app/views/components/chart/chartData.5f5a164c.html",controller:e,bindings:{key:"=",from:"=",to:"=",granulation:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$filter","$scope","$element"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(s)}function c(){Highcharts.setOptions({global:{useUTC:!1}}),Highcharts.stockChart("container",{rangeSelector:{enabled:!0,inputEnabled:!0,selected:2,buttons:[{type:"day",count:1,text:"1D"},{type:"week",count:1,text:"1W"},{type:"all",text:"1M"}]},xAxis:{min:0},yAxis:{labels:{formatter:function(){return(this.value>0?"+":"")+this.value+"%"}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{compare:"percent",showInNavigator:!0},ad:{turboThreshold:1e5}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>${point.y}</b> ({point.change}%)<br/>',valueDecimals:4,split:!0},credits:{enabled:!1},series:d})}var s=this,u=null,l=0,d=[];s.loaded=!1,s.chartData=[],s.from=1477958400,s.to=moment().utc().unix(),s.granulation="HOURLY",s._componentType="get-daa-chart",s._componentFilter={daaName:s.currencyOne,granulation:s.granulation,from:s.from,to:s.to,currency:"USD"},s._data={},s.createResult=function(e){for(var t=[],n=0;n<e.chartData.length;n++){var o=[1e3*e.chartData[n].x.seconds,e.chartData[n].y.tokenPrice];t.push(o)}return t},s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(e){},r.$on("userMessage",function(e,t){"daa-chart"==t.dataType&&(0==l?(d[0]={name:s._componentFilter.daaName,data:s.createResult(t.data),color:"#4c6f8c"},s._componentType="get-daa-chart",s._componentFilter={daaName:s.currencyTwo,granulation:s.granulation,from:s.from,to:s.to,currency:"USD"},s._data={},n.getSocket(s.generateRequestData())):1==l&&(d[1]={name:s._componentFilter.daaName,data:s.createResult(t.data),color:"#09c9df"},2===d.length&&c(),s.loaded=!0),l++)}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s),n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},i()}angular.module("app.dashboard").component("chartDataCompare",{templateUrl:"app/views/components/chart/chartDataCompare.62fd5b8a.html",controller:e,bindings:{currencyOne:"=",currencyTwo:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$filter","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){}function s(e){var t=Math.round(e.min/1e3),o=Math.round(e.max/1e3);t===l._componentFilter.from&&o===l._componentFilter.to||(l._componentFilter.from=t,l._componentFilter.to=o,l.chartElm.showLoading("Loading data from server..."),n.getSocket(l.generateRequestData()))}function u(){l.chartElm=Highcharts.stockChart("container",{rangeSelector:{enabled:!0,inputEnabled:!0,selected:Math.min(2,d.length-1),buttons:d,allButtonsEnabled:!0},scrollbar:{liveRedraw:!1},navigator:{adaptToUpdatedData:!1,series:{data:p}},xAxis:{min:0,events:{setExtremes:s}},yAxis:{opposite:!1,labels:{formatter:function(){return"$"+this.value}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{showInNavigator:!0},ad:{turboThreshold:1e5}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>${point.y}</b><br/>',valueDecimals:4,split:!0},credits:{enabled:!1},series:[{name:l.key,color:"#4c6f8c",data:p,turboThreshold:2e3}]});var e=1e3*moment().subtract(1,"month").utc().unix();e<p[0].x&&(e=p[0].x);var t=1e3*moment().utc().unix();l.chartElm.xAxis[0].setExtremes(e,t)}var l=this,d=[];l.loaded=!1,l.useOldDataType=!1,l.useOldDataType?l._componentType="get-daa-chart":l._componentType="daa-get-chart",l._data={},l.chartElm=null;var p=[],m=null,f=864e5,g=[{type:"day",count:1,text:"1D",_range:f},{type:"week",count:1,text:"1W",_range:7*f},{type:"month",count:1,text:"1M",_range:30*f},{type:"month",count:3,text:"3M",_range:30*f*3},{type:"month",count:6,text:"6M",_range:30*f*6},{type:"year",count:1,text:"1Y",_range:365*f},{type:"all",text:"ALL"}];l.generateRequestData=function(){return o.generateRequestData(l)},l.render=function(e){},r.$on("userMessage",function(e,t){if("daa-chart"==t.dataType&&t.data.daaName==l.key){l._data=t.data;for(var n=[],o=0;o<l._data.chartData.length;o++){var a={x:1e3*l._data.chartData[o].x.seconds,y:l._data.chartData[o].y.tokenPrice};n.push(a)}if(p=n,null===l.chartElm){var r=p[p.length-1].x-p[0].x;_.each(g,function(e){(!e._range||e._range<=r||l.useOldDataType&&"month"===e.type&&1===e.count)&&d.push(e)}),p&&u(),l.loaded=!0}else l.chartElm.series[0].setData(n),l.chartElm.hideLoading()}}),l.refresh=function(){},l.$onInit=function(){m=t.AddComponent(l)},l.$onDestroy=function(){t.RemoveComponent(m)},l.$onChanges=function(){l._componentFilter={daaName:l.key,from:l.from,to:l.to,currency:"USD",granulation:l.useOldDataType?l.fallBackGranulation:void 0},l.key&&n.getSocket(l.generateRequestData())},c()}angular.module("app.dashboard").component("chartDataDaa",{templateUrl:"app/views/components/chart/chartDataDaa.5aa32cf1.html",controller:e,bindings:{key:"<",from:"<",to:"<",fallBackGranulation:"<"
}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$filter","$scope","$rootScope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){}function s(e){var t=this.chart;"syncExtremes"!==e.trigger&&Highcharts.each(d,function(n){n!==t&&n.xAxis[0].setExtremes&&n.xAxis[0].setExtremes(e.min,e.max,void 0,!1,{trigger:"syncExtremes"})})}var u=this;u.loaded=!1,u._componentType="get-daa-report",u._data={};var l=null,d=[];$("#container").bind("mousemove touchmove touchstart",function(e){var t,n,o,a;for(o=0;o<d.length;o+=1)t=d[o],a=t.pointer.normalize(e.originalEvent),n=t.series[0].searchPoint(a,!0),n&&n.highlight(e)}),Highcharts.Pointer.prototype.reset=function(){},Highcharts.Point.prototype.highlight=function(e){this.onMouseOver(),this.series.chart.tooltip.refresh(this),this.series.chart.xAxis[0].drawCrosshair(e,this)},u.generateRequestData=function(){return u._componentFilter.startDate="2017-10-04",u._componentFilter.endDate=moment().subtract(1,"days").utc().format("YYYY-MM-DD"),u._componentFilter.daaId=u.daaId,o.generateRequestData(u)},u.render=function(e){},r.$on("userMessage",function(e,t){if("daa-report"==t.dataType){u._data=t.data,u.chartData={xData:[],datasets:[{name:"Price",data:[],unit:"$",type:"line",color:"#09c9df",valueDecimals:4},{name:"AUM",data:[],unit:"$",type:"area",color:"#4c6f8c",valueDecimals:2},{name:"Netflow",data:[],unit:"$",type:"area",color:"#26bf40",valueDecimals:2}]};for(var n=0;n<u._data.days.length;n++)u.chartData.xData.push(1e3*moment(u._data.days[n].date).utc().unix()),u.chartData.datasets[0].data.push(u._data.days[n].tokenPrice),u.chartData.datasets[1].data.push(u._data.days[n].aum),u.chartData.datasets[2].data.push(u._data.days[n]["in"]-u._data.days[n].out);$("#container").children(".chart")&&$("#container").empty(),$.each(u.chartData.datasets,function(e,t){t.data=Highcharts.map(t.data,function(e,t){return[u.chartData.xData[t],e]}),void 0,$('<div class="chart">').appendTo("#container").highcharts({chart:{marginLeft:60,spacingTop:20,spacingBottom:20},title:{text:t.name,align:"left",margin:15,x:30},credits:{enabled:!1},legend:{enabled:!1},xAxis:{crosshair:!0,events:{setExtremes:s},labels:{format:"{value:%Y-%m-%d}"}},yAxis:{title:{text:null}},tooltip:{positioner:function(){return{x:this.chart.chartWidth-this.label.width,y:10}},formatter:function(){return Highcharts.numberFormat(this.y,2,".",",")+"$"},borderWidth:0,backgroundColor:"none",headerFormat:"",shadow:!1,style:{fontSize:"18px"},valueDecimals:t.valueDecimals},series:[{data:t.data,name:t.name,type:t.type,color:t.color,fillOpacity:.3,tooltip:{valueSuffix:t.unit+" "}}]}),d.push(Highcharts.charts[Highcharts.charts.length-1])}),u.loaded=!0}}),u.refresh=function(){},u.$onInit=function(){l=t.AddComponent(u)},u.$onDestroy=function(){t.RemoveComponent(l)},c()}angular.module("app.dashboard").component("chartDataMyDaaReport",{templateUrl:"app/views/components/chart/chartDataMyDaaReport.8f1fc6f8.html",controller:e,bindings:{daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$filter","$scope","$rootScope"]}(),function(){"use strict";function e(e,t,n){function o(){n.checkComponent(a)}var a=this;a._componentType="",a._componentFilter={},a._componentSoftFilter={},a._data={};var r=null;a.generateRequestData=function(){return n.generateRequestData(a)},a.render=function(e){},a.refresh=function(){},a.$onInit=function(){r=e.AddComponent(a)},a.$onDestroy=function(){e.RemoveComponent(r)},o()}angular.module("app.dashboard").component("chartGroup",{templateUrl:"app/views/components/chart/chartGroup.d5b5cc3b.html",controller:e,bindings:{data:"="}}),e.$inject=["ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c)}var c=this;c.wasChanged=!1,c._componentType="fund/latest",c._componentFilter={fundCurrency:c.key,baseCurrency:"USD"},c._componentSoftFilter={},c._data={};var s=null;c.currency={type:"fiat",ticker:"USD"},c.loaded=!1,c.generateRequestData=function(){return o.generateSubscriptionRequestData(c,!0,6e4)},c.render=function(t){e(function(){if(t.data.fundCurrency==c.key){c.loaded=!0,c._data=t.data,c.fromMidnightReturnPercentage=100*c._data.fromMidnightReturnRatio;var e="app/img/token"+c._data.fundCurrency+".svg";a(e).then(function(e){c._tickerIcon=e})}})},r.$on("userMessage",function(e,t){"daa/basic-info"===t.dataType&&t.data.ticker===c.key&&(c.managerAddress=t.data.daaLegalEntityAddress)}),c.refresh=function(){n.getSocket(c.generateRequestData())},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(o.generateRequestData({_componentType:"daa/get-basic-info",_componentFilter:{daaTicker:c.key},_data:{}})),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){n.getSocket(o.generateSubscriptionRequestData(c,!1,6e4)),t.RemoveComponent(s)},i()}angular.module("app.dashboard").component("chartMetaData",{templateUrl:"app/views/components/chart/chartMetaData.758ef4c6.html",controller:e,bindings:{key:"=",daaName:"<",daaManager:"<",from:"=",to:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","AssetService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c)}var c=this;c.daaName="",c.daaManager="",c._componentType="fund/latest",c._componentFilter={fundCurrency:c.key,baseCurrency:"USD"},c._componentSoftFilter={},c._data={};var s=null;c.currency={type:"fiat",ticker:"USD"},c.loaded=!1,c.generateRequestData=function(){return o.generateSubscriptionRequestData(c,!0,6e4)},c.render=function(t){e(function(){c.loaded=!0,c._data=t.data,void 0,c.fromMidnightReturnPercentage=100*c._data.fromMidnightReturnRatio})},r.$on("userMessage",function(t,n){"daa/basic-info"==n.dataType&&n.data.ticker==c.key&&(c.daaName=n.data.name,c.daaManager=n.data.manager,c.managerAddress=n.data.daaLegalEntityAddress,e(function(){c.nameLoaded=!0},10))}),c.refresh=function(){n.getSocket(c.generateRequestData())},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(o.generateRequestData({_componentType:"daa/get-basic-info",_componentFilter:{daaTicker:c.key},_data:{}})),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){n.getSocket(o.generateSubscriptionRequestData(c,!1,6e4)),t.RemoveComponent(s)},i()}angular.module("app.dashboard").component("chartMetaDataDaa",{templateUrl:"app/views/components/chart/chartMetaDataDaa.d2760d34.html",controller:e,bindings:{key:"=",from:"=",to:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","AssetService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(u)}var s,u=this;u.currency=u.key,u.coin=u.key,a.coin=u.key,u.granulation="HOURLY",u.childLoaded=!1,u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={},u.setChartParams=function(e){"ACTIVE"==e?(u.from=moment().subtract(1,"month").subtract(3,"hour").utc().unix(),u.to=moment().utc().unix()):"PASSIVE"==e&&(u.from=1477958400,u.to=moment().utc().unix())},u.generateRequestData=function(){return o.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=t.AddComponent(u)},u.$onDestroy=function(){t.RemoveComponent(s)},c()}angular.module("app.dashboard").component("alphaDashboardItem",{templateUrl:"app/views/components/dashboard/alphaDashboardItem.705f6379.html",controller:e,bindings:{key:"=",daaName:"<",daaManager:"<",type:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(u)}var s,u=this,l=0;u.list=[],u.currencyOneFromState=i.params.currencyOne,u.currencyTwoFromState=i.params.currencyTwo,u._componentType="get-daa-list",u._componentFilter={},u._componentSoftFilter={},u._data={},u.generateRequestData=function(){return o.generateRequestData(u)},u.render=function(){},a.$watch("$ctrl.currencyOne",function(e,t){e&&_.find(u.list,function(e){return e==u.currencyOne})&&(u.currencyOneFromState==u.currencyTwoFromState||u.currencyOne!=u.currencyTwo&&u.currencyOne.ticker!=u.currencyTwoFromState?u.selectedCurrencyOne=u.currencyOne.ticker||"":u.currencyOne="")}),a.$watch("$ctrl.currencyTwo",function(e,t){e&&_.find(u.list,function(e){return e==u.currencyTwo})&&(u.currencyTwo==u.currencyOne||u.currencyTwo.ticker==u.currencyOneFromState?u.currencyTwo="":u.selectedCurrencyTwo=u.currencyTwo.ticker||"")}),a.$on("userMessage",function(e,t){"daa-list"==t.dataType&&l<1&&(_.each(t.data.funds,function(e){if("ACTIVE"!=e.type){var t={name:e.name+" ("+e.ticker+")",ticker:e.ticker};u.list.push(t)}}),u.currencyOne=_.find(u.list,function(e){return e.ticker==u.currencyOneFromState}),u.currencyTwo=_.find(u.list,function(e){return e.ticker==u.currencyTwoFromState}),l++,u.currencyTwoFromState&&""===u.currencyOneFromState?u.currencyTwo=_.find(u.list,function(e){return e.ticker==u.currencyTwoFromState}):u.currencyOneFromState&&""===u.currencyTwoFromState?u.currencyOne=_.find(u.list,function(e){return e.ticker==u.currencyOneFromState}):u.currencyOneFromState==u.currencyTwoFromState&&(u.currencyOne=_.find(u.list,function(e){return e.ticker==u.currencyOneFromState}),u.currencyTwo=""),"CCP"==u.currencyOneFromState&&"CCP"==u.currencyTwoFromState?i.go("app.compareDaas",{currencyOne:"",currencyTwo:""}):"CCP"==u.currencyOneFromState?(u.currencyOne="",u.currencyTwo=_.find(u.list,function(e){return e.ticker==u.currencyTwoFromState}),i.go("app.compareDaas",{currencyOne:u.currencyOne,currencyTwo:u.currencyTwo.ticker})):"CCP"==u.currencyTwoFromState&&(u.currencyOne=_.find(u.list,function(e){return e.ticker==u.currencyOneFromState}),u.currencyTwo="",i.go("app.compareDaas",{currencyOne:u.currencyOne.ticker,currencyTwo:u.currencyTwo})))}),u.refresh=function(){},u.$onInit=function(){s=t.AddComponent(u),n.getSocket(u.generateRequestData())},u.$onDestroy=function(){t.RemoveComponent(s)},c()}angular.module("app.dashboard").component("compareChooseDaa",{templateUrl:"app/views/components/dashboard/compareChooseDaa.ce510146.html",controller:e,bindings:{selectedCurrencyOne:"=",selectedCurrencyTwo:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(u)}var s,u=this;u.currencyOne=i.params.currencyOne,u.currencyTwo=i.params.currencyTwo,u.intersectionResult=[],u._componentType="daa/get-basic-info",u._componentFilter={},u._componentSoftFilter={},u._data={},a.$watchGroup(["$ctrl.selectedCurrencyOne","$ctrl.selectedCurrencyTwo"],function(e,t){e&&i.go("app.compareDaas",{currencyOne:u.selectedCurrencyOne||u.currencyOne,currencyTwo:u.selectedCurrencyTwo||u.currencyTwo})}),u.generateRequestData=function(){},u.resolveDataType=function(e){return"PASSIVE"==e?"currency/holdings":"currency/structure"},u.render=function(){},a.$on("userMessage",function(e,t){"daa/basic-info"==t.dataType&&(t.data.ticker==u.currencyOne?(u.daaOneType=t.data.type,u.daaOneName=t.data.name,u.daaOneManager=t.data.manager,u.daaOneId=t.data.id,u.daaOneManagerAddress=t.data.daaLegalEntityAddress,n.getSocket({dataType:u.resolveDataType(u.daaOneType),currency:u.currencyOne})):t.data.ticker==u.currencyTwo&&(u.daaTwoType=t.data.type,u.daaTwoName=t.data.name,u.daaTwoManager=t.data.manager,u.daaTwoId=t.data.id,u.daaTwoManagerAddress=t.data.daaLegalEntityAddress,n.getSocket({dataType:u.resolveDataType(u.daaTwoType),currency:u.currencyTwo}))),"currency/holdings"!=t.dataType&&"currency/structure"!=t.dataType||(t.data.currency==u.currencyOne?u.tokenListOne=t.data.coinHoldingList||t.data.list:t.data.currency==u.currencyTwo&&(u.tokenListTwo=t.data.coinHoldingList||t.data.list),u.tokenListOne&&u.tokenListTwo&&_.each(u.tokenListOne,function(e,t){var n=_.find(u.tokenListTwo,function(t){return t.currency.ticker==e.currency.ticker});void 0!=n&&u.intersectionResult.push(n.currency.ticker)}))}),u.refresh=function(){},u.$onInit=function(){s=t.AddComponent(u),n.getSocket({dataType:"daa/get-basic-info",daaTicker:u.currencyOne}),n.getSocket({dataType:"daa/get-basic-info",daaTicker:u.currencyTwo})},u.$onDestroy=function(){t.RemoveComponent(s)},c()}angular.module("app.dashboard").component("compareDaas",{templateUrl:"app/views/components/dashboard/compare_daas.e1874b1d.html",controller:e,bindings:{selectedCurrencyOne:"<",selectedCurrencyTwo:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$rootScope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s)}var s=this;s._componentType="currency/holdings",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;s.loaded=!1,s.generateRequestData=function(){return s._componentFilter.currency=s.key,o.generateRequestData(s)},s.render=function(e){},a.$on("userMessage",function(e,t){"currency/holdings"==t.dataType&&t.data.currency==s.key&&(s._data={data:{list:t.data.coinHoldingList.sort(function(e,t){return t.rebalancedWeight-e.rebalancedWeight})}})}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s),n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("coinDaa",{templateUrl:"app/views/components/coin/coinDaa.67eabbe6.html",controller:e,bindings:{key:"=",loaded:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$element","$window"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c),c._componentFilter.daaName=c.key}var c=this;c.currentState=a.current,c._componentType="get-daa-description-more",c._componentFilter={},c._componentSoftFilter={},c._responseMessage={_componentType:"daa-description-more",_componentFilter:{daaName:c.key}},c._data={};var s=null;c.loaded=!1,c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(){},r.$on("userMessage",function(e,t){"daa-description-more"==t.dataType&&t.data.daaName==c.key&&(c._data=t,c.loaded=!0)}),c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.dashboard").component("coinDescription",{templateUrl:"app/views/components/coin/coinDescription.c948e2fb.html",controller:e,bindings:{key:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$state","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s)}var s=this,u=null;s.loaded=!1,s._componentType="",s._componentFilter={},s._componentSoftFilter={},s._data={},a.$watch("$ctrl.daaOneId",function(e,t){e&&(void 0,n.getSocket({dataType:"daa-get-details-info",daaId:s.daaOneId}))}),a.$watch("$ctrl.daaTwoId",function(e,t){e&&(void 0,n.getSocket({dataType:"daa-get-details-info",daaId:s.daaTwoId}))}),s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(){},a.$on("userMessage",function(e,t){"daa-details-info-result"==t.dataType&&t.data.daaId==s.daaOneId&&(s.currencyOneFeesLoaded=!0,s._dataOne=t.data.details),"daa-details-info-result"==t.dataType&&t.data.daaId==s.daaTwoId&&(s.currencyTwoFeesLoaded=!0,s._dataTwo=t.data.details)}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s)},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("coinFeesCompare",{templateUrl:"app/views/components/coin/coinFeesCompare.4f800f92.html",controller:e,bindings:{daaOneId:"<",daaTwoId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$filter","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s)}var s=this,u=null;s.currentState=i.current,s._componentType="daa-get-details-info",s._componentFilter={},s._componentSoftFilter={},s._data={},s.loaded=!1,s.generateRequestData=function(){return s._componentFilter.daaId=s.daaId,o.generateRequestData(s)},s.render=function(){},a.$on("userMessage",function(e,t){"daa-details-info-result"==t.dataType&&t.data.daaId==s.daaId&&(s.loaded=!0,s._data=t.data.details)}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s),n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("coinFeesPassive",{templateUrl:"app/views/components/coin/coinFeesPassive.a34eecd0.html",controller:e,bindings:{coin:"=",daaType:"=",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$filter","$state"]}(),function(){"use strict";function e(e,t,n,o){function a(){o.checkComponent(r),r._componentFilter.currency=r.coin}var r=this;r.hideCurrentIndexWeight=!1,r._componentType="currency/holdings",r._componentFilter={},r._componentSoftFilter={},r._data={};var i=null;r.loaded=!1,r.generateRequestData=function(){return o.generateRequestData(r)},r.render=function(t){e(function(){r._data=t,r.loaded=!0,void 0,r.hideCurrentIndexWeight=_.find(r._data.data.coinHoldingList,function(e){return 0==e.currentWeight})||!1})},r.toFixed=function(e){return Number(e).toFixed(2)},r.refresh=function(){},r.$onInit=function(){i=t.AddComponent(r),n.getSocket(r.generateRequestData())},r.$onDestroy=function(){t.RemoveComponent(i)},a()}angular.module("app.dashboard").component("coinHoldings",{templateUrl:"app/views/components/coin/coinHoldings.37a8fd55.html",controller:e,bindings:{coin:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i),i._componentFilter.daaTicker=i.coin,i._componentFilter.baseTicker="USD"}var i=this;i.weekReturn=!1,i.monthReturn=!1,i._componentType="get-daa-statistics",i._componentFilter={},i._componentSoftFilter={},i._data={},i._returns=[];var c=null;i.granulationLabels={WEEK:"1W",MONTH:"1M",THREE_MONTH:"3M",SIX_MONTH:"6M",YEAR:"1Y"},i.loaded=!1,i.generateRequestData=function(){return o.generateRequestData(i)},i.render=function(){},a.$on("userMessage",function(e,t){"fund/stats"==t.dataType&&t.data.fundCurrency==i.coin?(i.loaded=!0,i._data=t.data,t.data.listRight.forEach(function(e){"fee"===e.type&&(i._performanceFee=e)})):"daa-get-statistics-result"===t.dataType&&t.data.daaTicker===i.coin&&Object.keys(i.granulationLabels).forEach(function(e){i._returns.push({label:i.granulationLabels[e],value:t.data.returns[e]})})}),i.refresh=function(){},i.$onInit=function(){c=t.AddComponent(i),n.getSocket(i.generateRequestData()),n.getSocket({dataType:"daa-get-statistics",daaTicker:i.coin,baseTicker:"USD"})},i.$onDestroy=function(){t.RemoveComponent(c)},r()}angular.module("app.dashboard").component("coinStatsActive",{templateUrl:"app/views/components/coin/coinStatsActive.ca17e3b5.html",controller:e,bindings:{coin:"=",daaType:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s),s._componentFilter.daaTicker=s.currencyOne,s._componentFilter.baseTicker="USD"}var s=this,u=null,l=["WEEK","MONTH","THREE_MONTH","SIX_MONTH","YEAR","ALL_TIME"];s.sortedTableOne={},s.sortedTableTwo={},s.sortedTableTwoNewKeys={},s.jointTable={},s.loaded=!1,s._componentType="daa-get-statistics",s._componentFilter={},s._componentSoftFilter={},s._data={},s.generateTable=function(e){var t={},n={};return _.each(["returns","volatility","maxDrawdown"],function(t){_.each(e[t]||{},function(e,o){n[o]=n[o]||{},n[o][t]=e})}),t=_.map(n,function(e,t){return _.extend(e,{granulation:t})}).filter(function(e){return l.indexOf(e.granulation)!=-1}).sort(function(e,t){var n=l.indexOf(e.granulation),o=l.indexOf(t.granulation);return n-o})},s.addMissingRows=function(e,t){e[e.length]={granulation:t.granulation},e.sort(function(e,t){var n=l.indexOf(e.granulation),o=l.indexOf(t.granulation);return n-o})},s.generateJointTable=function(){var e={maxDrawdown:"maxDrawdownTwo",returns:"returnsTwo",volatility:"volatilityTwo"};s.sortedTableOne.length>s.sortedTableTwo.length?_.each(s.sortedTableOne,function(e){_.find(s.sortedTableTwo,function(t){return t.granulation===e.granulation})||s.addMissingRows(s.sortedTableTwo,e)}):s.sortedTableOne.length<s.sortedTableTwo.length&&_.each(s.sortedTableTwo,function(e){_.find(s.sortedTableOne,function(t){return t.granulation===e.granulation})||s.addMissingRows(s.sortedTableOne,e)}),_.each(s.sortedTableTwo,function(t,n){var o={};_.each(t,function(t,n){n=e[n]||n,o[n]=t}),s.sortedTableTwoNewKeys[n]=o}),_.each(s.sortedTableOne,function(e,t){var n=_.extend(e,_.find(s.sortedTableTwoNewKeys,function(t){return t.granulation===e.granulation}));s.jointTable[t]=n})},s.timePassedSinceDaaCreated={numberOfDays:function(e){return Math.floor((1e3*moment().unix()-e)/1e3/60/60/24)},years:function(e){return Math.floor(this.numberOfDays(e)/365)},months:function(e){return Math.floor(this.numberOfDays(e)%365/30)},days:function(e){return Math.floor(this.numberOfDays(e)%365%30)}},a.$watchGroup(["$ctrl.sortedTableOne","$ctrl.sortedTableTwo"],function(e,t){e&&s.generateJointTable()}),s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(){},a.$on("userMessage",function(e,t){"daa-get-statistics-result"==t.dataType&&t.data.daaTicker==s.currencyOne&&(s.loaded=!0,s.sortedTableOne=s.generateTable(t.data),s.createdAtDateOne=t.data.startTime),"daa-get-statistics-result"==t.dataType&&t.data.daaTicker==s.currencyTwo&&(s.loaded=!0,s.sortedTableTwo=s.generateTable(t.data),s.createdAtDateTwo=t.data.startTime)}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s),n.getSocket(s.generateRequestData()),s._componentFilter.daaTicker=s.currencyTwo,n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("coinStatsCompare",{templateUrl:"app/views/components/coin/coinStatsCompare.2fcfa18c.html",controller:e,bindings:{currencyOne:"=",currencyTwo:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$filter","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s),s._componentFilter.daaTicker=s.coin,s._componentFilter.baseTicker="USD"}var s=this,u=null,l={};s.loaded=!1,s.currentState=i.current,s._componentType="daa-get-statistics",s._componentFilter={},s._componentSoftFilter={},s._data={},s.generateTable=function(e){var t=["WEEK","MONTH","THREE_MONTH","SIX_MONTH","YEAR","ALL_TIME"];_.each(["returns","volatility","maxDrawdown"],function(t){_.each(e[t]||{},function(e,n){l[n]=l[n]||{},l[n][t]=e})}),s.sortedTable=_.map(l,function(e,t){return _.extend(e,{granulation:t})}).filter(function(e){return t.indexOf(e.granulation)!=-1}).sort(function(e,n){var o=t.indexOf(e.granulation),a=t.indexOf(n.granulation);return o-a})},s.timePassedSinceDaaCreated={numberOfDays:function(e){return Math.floor((1e3*moment().unix()-e)/1e3/60/60/24)},years:function(e){return Math.floor(this.numberOfDays(e)/365)},months:function(e){return Math.floor(this.numberOfDays(e)%365/30)},days:function(e){return Math.floor(this.numberOfDays(e)%365%30)}},s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(){},a.$on("userMessage",function(e,t){"daa-get-statistics-result"==t.dataType&&t.data.daaTicker==s.coin&&(s.loaded=!0,s._data=t.data,s.createdAtDateOne=t.data.startTime,s.generateTable(s._data))}),s.refresh=function(){},s.$onInit=function(){u=t.AddComponent(s),n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("coinStatsPassive",{templateUrl:"app/views/components/coin/coinStatsPassive.c6718944.html",controller:e,bindings:{coin:"=",daaType:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$filter","$state"]}(),function(){"use strict";function e(e,t,n,o){function a(){o.checkComponent(r),r._componentFilter.currency=r.coin}var r=this;r._componentType="currency/structure",r._componentFilter={},r._componentSoftFilter={},r._data={};var i=null;r.generateRequestData=function(){return o.generateRequestData(r)},r.render=function(t){e(function(){r._data=t})},r.toFixed=function(e){return Number(e).toFixed(2)},r.refresh=function(){},r.$onInit=function(){i=t.AddComponent(r),n.getSocket(r.generateRequestData())},r.$onDestroy=function(){t.RemoveComponent(i)},a()}angular.module("app.dashboard").component("coinStructure",{templateUrl:"app/views/components/coin/coinStructure.423aaff3.html",controller:e,bindings:{coin:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(c),c._componentFilter.currency=c.coin}var c=this;c._componentType="currency/user",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.generateRequestData=function(){return a.generateRequestData(c)},c.render=function(e){void 0,t(function(){c._data=e.data})},c.refresh=function(){o.getSocket(c.generateRequestData())},c.$onInit=function(){s=n.AddComponent(c),c.refresh()},c.$onDestroy=function(){n.RemoveComponent(s)},i()}angular.module("app.dashboard").component("coinUser",{templateUrl:"app/views/components/coin/coinUser.810a7293.html",controller:e,bindings:{coin:"="}}),e.$inject=["$scope","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(c)}function i(){c.tokenListOne&&c.tokenListTwo&&c.intersectionResult&&(c.summationListUnordered=[],c.topFiveOne=c.tokenListOne.slice(0,5),c.listOne=c.prepareData(c.tokenListOne),c.topFiveTwo=c.tokenListTwo.slice(0,5),c.listTwo=c.prepareData(c.tokenListTwo),_.each(c.listOne.common,function(e,t){var n=_.find(c.listTwo.common,function(e){return e.currency.ticker==c.listOne.common[t].currency.ticker}),o={ticker:c.listOne.common[t].currency.ticker,value:c.listOne.common[t].rebalancedWeight+n.rebalancedWeight};c.summationListUnordered.push(o)}),c.summationListOrdered=_.sortBy(c.summationListUnordered,function(e){return-e.value}),_.each(c.summationListOrdered,function(e,t){c.listOneOrdered[t]=_.find(c.listOne.common,function(e){return e.currency.ticker==c.summationListOrdered[t].ticker}),c.listTwoOrdered[t]=_.find(c.listTwo.common,function(e){return e.currency.ticker==c.summationListOrdered[t].ticker})}))}var c=this,s=null;c.listOneOrdered=[],c.listTwoOrdered=[],c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={},c.prepareData=function(e){var t=_.groupBy(e,function(e){return c.intersectionResult.indexOf(e.currency.ticker)>-1?"common":"unique"});return t},a.$watch("$ctrl.tokenListOne",i,!0),a.$watch("$ctrl.tokenListTwo",i,!0),a.$watch("$ctrl.intersectionResult",i,!0),c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c)},c.$onDestroy=function(){t.RemoveComponent(s)},r()}angular.module("app.dashboard").component("compareStructure",{templateUrl:"app/views/components/coin/compareStructure.8796f8f3.html",controller:e,bindings:{currencyOne:"<",currencyTwo:"<",intersectionResult:"<",tokenListOne:"<",tokenListTwo:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){c.checkComponent(u)}var u=this;u.animated=!1,u.highDemand=!1,u._componentType="deposit/initiate",u._componentFilter={},u._componentSoftFilter={},u._data={},u.selectedCurrencyDetail=null,u.showWarningMessage=!1;var l=null,d=null;u.selectCurrency=function(e){t.go("app.depositCryptoToAddress",{currency:e})},u.animate=function(){u.animated=!0,n(function(){u.animated=!1},2e3)},u.generateRequestData=function(){return c.generateRequestData(u)},u.render=function(e){n(function(){if(u._data=e.data,u._data.address&&"empty"!=u._data.address){if(d)try{d.makeCode(u._data.address)}catch(t){void 0}else{try{d=new QRCode(document.getElementById("qrcode"),{text:u._data.address,width:180,height:180,colorDark:"#000000",colorLight:"#eaedef",correctLevel:QRCode.CorrectLevel.H})}catch(t){void 0}n(function(){u.loaded=!0},300)}n(function(){$("#qrcode img").removeAttr("style"),u.loadedDepositList=!0},200)}else u._data.address&&"empty"==u._data.address&&(u._data.address=null,u.loadedDepositList=!0)},200)},u.timeout=function(){n(function(){u.loadedDepositList=!0,u._data.address||(u._data.address=null),u.highDemand=!0,u.loaded=!0})},u.refresh=function(){i.getSocket(u.generateRequestData(),5e3),i.getSocket({dataType:"deposit/list"})},u.$onInit=function(){l=r.AddComponent(u)},a.$on("userMessage",function(e,t){if("deposit/list"==t.dataType){1==t.data.list.length&&"ICN"==t.data.list[0].currency.ticker&&(u.showWarningMessage=!0);var n=t.data.list.filter(function(e){return e.currency.ticker==u.currency});n.length>0&&(u.selectedCurrencyDetail=n[0].currency)}}),u.$onDestroy=function(){r.RemoveComponent(l)},u.$onChanges=function(){u.currency&&(u._componentFilter.currency=u.currency,u.refresh())},s()}angular.module("app.dashboard").component("deposit",{templateUrl:"app/views/components/deposit/deposit.da8b4c81.html",controller:e,bindings:{currency:"<",loaded:"<"}}),e.$inject=["$location","$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.userHasLimits=!1,u._componentType="deposit/get-deposit-limit",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},i.$on("userMessage",function(e,t){"deposit/deposit-limit"==t.dataType&&t.data.amount.value&&(u._data=t.data,u.userHasLimits=!0)}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("depositLimits",{templateUrl:"app/views/components/deposit/depositLimits.f86b6943.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){i.checkComponent(s),s.loaded=!1}var s=this;s._componentType="deposit/list",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null,l=s.preselected;o.$watch("$ctrl.preselected",function(e){e&&(l=e,s.refresh(),t(function(){s.preselected=e}))}),s.setCurrency=function(e,n){e.preventDefault(),t(function(){s.select(n),o.$emit(s._componentType,_.filter(s.currenciesList,function(e){return e.selected}))})},s.select=function(e){_.each(s.currenciesList,function(e){e.selected=!1}),_.each(s.currenciesList,function(t){t.ticker==e&&(t.selected=!0)})},s.generateRequestData=function(){return i.generateRequestData(s)},s.render=function(e){s._data=e.data;var n=s._data.list;s.currenciesList=[],_.each(n,function(e){e.selected=!1}),t(function(){s.currenciesList=n,s.preselected&&(s.select(s.preselected),o.$emit(s._componentType,_.filter(s.currenciesList,function(e){return e.selected}))),t(function(){s.loaded=!0},300)})},s.refresh=function(){r.getSocket(s.generateRequestData())},s.$onInit=function(){u=a.AddComponent(s),r.getSocket(s.generateRequestData())},s.$onDestroy=function(){a.RemoveComponent(u)},c()}angular.module("app.dashboard").component("depositList",{templateUrl:"app/views/components/deposit/depositList.84b6018c.html",controller:e,bindings:{preselected:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){i.checkComponent(s),s.loaded=!1}var s=this;s._componentType="deposit/list",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;s.setCurrency=function(e,t){e.preventDefault(),s.click({currency:t})},s.goOTC=function(){e.go("app.otcDeposit")},s.generateRequestData=function(){return i.generateRequestData(s)},s.render=function(e){s._data=e.data;var n=s._data.list.filter(function(e){
return"BCH"!=e.currency.ticker});_.each(n,function(e){e.selected=!1}),t(function(){s.currenciesList=n,s.loaded=!0})},s.refresh=function(){r.getSocket(s.generateRequestData())},s.$onInit=function(){u=a.AddComponent(s),r.getSocket(s.generateRequestData())},s.$onDestroy=function(){a.RemoveComponent(u)},c()}angular.module("app.dashboard").component("depositListButtons",{templateUrl:"app/views/components/deposit/depositListButtons.6ab1e4c2.html",controller:e,bindings:{click:"&",loaded:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c)}var c=this;c._componentType="transaction",c._componentFilter={},c._componentSoftFilter={},c._data={},c._responseMessage={_componentType:"transaction",_componentFilter:{}};var s=null;c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(t){e(function(){var e=t.data;"blockchain"==e.superType&&"deposit"==e.type&&0==e.metaData.confirmation&&a.showNotificationBanner(!0,"info","Received "+e.transferData.amount.currency.name,"You‚Äôve received "+Number(e.transferData.amount.value).toFixed(2)+" "+e.transferData.amount.currency.ticker+(e.transferData.address?" from "+e.transferData.address:""),{href:r.href("app.transaction",{transactionId:e.transactionId}),title:"Show"})})},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c)},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.dashboard").component("depositWatch",{template:" ",controller:e,bindings:{currency:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.userHasLimits=!1,u.depositOrWithdraw=e.params.depositOrWithdraw,u._componentType="",u._componentFilter={},u._data={},u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u)},i.$on("userMessage",function(e,t){}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("depositWithdrawOtc",{templateUrl:"app/views/components/deposit/deposit_withdraw_otc.1fc319b9.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(s)}var c,s=this;s.daaList=[],s.totalPage=null,s.pageTotalElement=0,s.managerAddress=r.params.managerAddress,s.managerId=null,s.managerData={},s.managerAddress||r.go("app.dashboard"),s._componentType="daa-legal-entity-get-details",s._componentFilter={daaLegalEntityAddress:s.managerAddress},s._componentSoftFilter={},s._data={};var u={EMAIL:{pre:"",post:""},WEBSITE:{pre:"https://",post:""},BLOG:{pre:"https://",post:""},REDDIT:{pre:"https://www.reddit.com/",post:""},SLACK:{pre:"https://",post:".slack.com"},FACEBOOK:{pre:"https://www.facebook.com/",post:""},TWITTER:{pre:"https://twitter.com/",post:""},BITCOINTALK:{pre:"https://bitcointalk.org/",post:""},GITHUB:{pre:"https://github.com/",post:""},TELEGRAM:{pre:"https://telegram.me/",post:""},LINKEDIN:{pre:"https://www.linkedin.com/",post:""},YOUTUBE:{pre:"https://www.youtube.com/",post:""},INSIGHT:{pre:"https://",post:""}};s.mapIconType={TELEGRAM:"Telegram",SLACK:"Slack",BLOG:"Medium",LINKEDIN:"LinkedIn",BITCOINTALK:"Btt",TWITTER:"Twitter",YOUTUBE:"Youtube",EMAIL:"Email",REDDIT:"Reddit",FACEBOOK:"Facebook",GITHUB:"Github",WEBSITE:"Website",INSIGHT:"Insight"},s.getSocialLinkAddress=function(e){return u[e.linkType]?u[e.linkType].pre+e.link+u[e.linkType].post:e.link},s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(){},a.$on("userMessage",function(t,o){"daa-legal-entity-description"===o.dataType&&o.data.daaLegalEntityId===s.managerId?(s.loadInProgress&&(e.cancel(s.loadInProgress),s.loadInProgress=!1),s.managerData.description=o.data.description,s.managerData.socialLinks=o.data.links):"daa-legal-entity-details"===o.dataType&&o.data.address===s.managerAddress?(o.data&&o.data.daaLegalEntityId&&o.data.daaBasicInfoList.length||r.go("app.dashboard"),s.loadInProgress&&(e.cancel(s.loadInProgress),s.loadInProgress=!1),s.managerId=o.data.daaLegalEntityId,n.getSocket({dataType:"daa-legal-entity-get-descriptions",daaLegalEntityId:s.managerId}),s.managerData.name=o.data.name,s.managerData.arrays=o.data.daaBasicInfoList):"exceptions"===o.dataType&&r.go("app.dashboard")}),s.refresh=function(){s.loadInProgress||(s.loadInProgress=e(function(){s.loadInProgress=!1},5e3),n.getSocket(s.generateRequestData()))},s.$onInit=function(){c=t.AddComponent(s),n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(c)},i()}angular.module("app.dashboard").component("managerProfile",{templateUrl:"app/views/components/managerProfile/manager_profile.012a203e.html",controller:e,bindings:{managerAddress:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i)}var i=this,c=null;i.availableDepositList=[],i.loaded=!1,i._componentType="get-user-portfolio",i._componentFilter={},i._componentSoftFilter={},i._data={},void 0,i.checkStatus=function(e){return void 0!=_.find(i.availableDepositList,function(t){return t.currency.ticker==e})},i.generateRequestData=function(){return o.generateRequestData(i)},i.render=function(e){},i.refresh=function(){},a.$on("userMessage",function(e,t){"deposit/list"==t.dataType&&(i.availableDepositList=_.union(i.availableDepositList,t.data.list)),"user-portfolio"==t.dataType&&(i._data=t.data,i.loaded=!0)}),i.$onInit=function(){c=t.AddComponent(i),n.getSocket({dataType:"deposit/list",response:{dataType:"deposit/list"}}),n.getSocket(i.generateRequestData())},i.$onDestroy=function(){t.RemoveComponent(c)},r()}angular.module("app.portfolio").component("portfolio",{templateUrl:"app/views/components/portfolio/portfolio.4371ecd1.html",controller:e,bindings:{}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c)}var c=this,s=null;c.daaTicker=r.params.currency,c.pageQueryMap={live:"liveDataPage",financials:"financialsPage",reports:"reportsPage",assets:"assetsPage"},c.queryPageMap={liveDataPage:"live",financialsPage:"financials",reportsPage:"reports",assetsPage:"assets"},c.activePage=c.pageQueryMap[r.params.activePage],c._componentType="get-my-daa-list",c._componentFilter={},c._componentSoftFilter={},c._data={},c.listOfPages=["liveDataPage","financialsPage","reportsPage","assetsPage"],c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},a.$on("userMessage",function(e,t){"user"==t.dataType&&(_.contains(t.data.roles,"ROLE_GVB_MANAGER")||_.contains(t.data.roles,"ROLE_GVB_MANAGER_STR")||r.go("app.dashboard"),c.listOfPages.indexOf("assetsPage")==-1&&(_.contains(t.data.roles,"ROLE_ADMIN")||(_.contains(t.data.roles,"ROLE_GVB_MANAGER")||_.contains(t.data.roles,"ROLE_GVB_MANAGER_STR"))&&_.contains(t.data.roles,"ROLE_BETA"))&&c.listOfPages.push("assetsPage")),"my-daa-list"==t.dataType&&(c.daaList=t.data.daaList,c.daaList=_.reject(c.daaList,function(e){return"ACTIVE"===e.type}),c.daaTicker&&(void 0===_.find(c.daaList,function(e){return e.ticker==c.daaTicker})?r.go("app.dashboard"):(c.daaId=_.find(t.data.daaList,function(e){return e.ticker==c.daaTicker}).id,c.activePage?c.statusOfPages[c.activePage]=!0:c.statusOfPages.liveDataPage=!0)))}),c.$onInit=function(){s=t.AddComponent(c),n.getSocket({dataType:"user"}),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaa",{templateUrl:"app/views/components/myDaa/myDaa.fac07c07.html",controller:e,bindings:{statusOfPages:"<",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c)}var c=this,s=null;c._componentType="get-daa-live-assets",c._componentFilter={},c._componentSoftFilter={},c._data={},a.$on("userMessage",function(e,t){"daa-live-assets"==t.dataType&&t.data.liveAssets&&(c.liveAssets=t.data.liveAssets)}),c.generateRequestData=function(){return c._componentFilter.daaId=c.daaId,o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaaAssets",{templateUrl:"app/views/components/myDaa/myDaaAssets.d3d5043f.html",controller:e,bindings:{daaTicker:"<",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i)}var i=this,c=null;i.weekReturn=!1,i.monthReturn=!1,i._componentType="fund/latest",i._componentFilter={fundCurrency:i.daaTicker,baseCurrency:"USD"},i._componentSoftFilter={},i._data={},i.currency={type:"fiat",ticker:"USD"};var s=setInterval(function(){i.refresh()},6e4);i.generateRequestData=function(){return o.generateRequestData(i)},i.render=function(e){},a.$on("userMessage",function(e,t){"fund/stats"==t.dataType&&t.data.fundCurrency==i.daaTicker&&(i.fundStatsData=t.data,i.weekReturn=_.find(t.data.listLeft,function(e){return"1W Return"==e.title})||!1,i.monthReturn=_.find(t.data.listLeft,function(e){return"1M Return"==e.title})||!1),"fund/latest"==t.dataType&&t.data.fundCurrency==i.daaTicker&&(i.fundLatestData=t.data,void 0,i.fromMidnightReturnPercentage=100*i.fundLatestData.fromMidnightReturnRatio)}),a.$watch("$ctrl.daaTicker",function(e,t){e&&i.refresh()}),i.refresh=function(){n.getSocket({dataType:"fund/latest",fundCurrency:i.daaTicker,baseCurrency:"USD",response:{dataType:"fund/latest"}}),n.getSocket({dataType:"get-daa-statistics",daaTicker:i.daaTicker,baseTicker:"USD",response:{dataType:"get-daa-statistics"}})},i.$onInit=function(){c=t.AddComponent(i)},i.$onDestroy=function(){clearInterval(s),t.RemoveComponent(c)},r()}angular.module("app.myDaa").component("myDaaChartMetaData",{templateUrl:"app/views/components/myDaa/myDaaChartMetaData.bc341f62.html",controller:e,bindings:{daaTicker:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i)}var i=this,c=null;i._componentType="get-daa-report",i._componentFilter={},i._componentSoftFilter={},i._data={},i.generateRequestData=function(){return i._componentFilter.startDate="2017-10-04",i._componentFilter.endDate=moment().subtract(1,"days").utc().format("YYYY-MM-DD"),i._componentFilter.daaId=i.daaId,o.generateRequestData(i)},i.render=function(){},a.$on("userMessage",function(e,t){"daa-report"==t.dataType&&(i._data=t.data)}),i.refresh=function(){},i.$onInit=function(){c=t.AddComponent(i),n.getSocket(i.generateRequestData())},i.$onDestroy=function(){t.RemoveComponent(c)},r()}angular.module("app.myDaa").component("myDaaDetails",{templateUrl:"app/views/components/myDaa/myDaaDetails.1a563abd.html",controller:e,bindings:{daaTicker:"=",daaId:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c),c.setChartParams(c.daaType),"ACTIVE"==c.daaType&&r.go("app.dashboard")}var c=this,s=null;c.granulation="HOURLY",c.daaType="PASSIVE",c.daaTicker=r.params.currency,c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={},c.setChartParams=function(e){"ACTIVE"==e?(c.from=moment().subtract(1,"month").subtract(3,"hour").utc().unix(),c.to=moment().utc().unix()):"PASSIVE"==e&&(c.from=1477958400,c.to=moment().utc().unix())},c.generateRequestData=function(){return c._componentFilter.daaId=c.daaId,o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaaFinancials",{templateUrl:"app/views/components/myDaa/myDaaFinancials.bff23816.html",controller:e,bindings:{daaTicker:"<",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i)}var i=this,c=null;i._componentType="get-daa-report",i._componentFilter={},i._componentSoftFilter={},i._data={},i.generateRequestData=function(){return i._componentFilter.startDate="2017-10-04",i._componentFilter.endDate=moment().subtract(1,"days").utc().format("YYYY-MM-DD"),i._componentFilter.daaId=i.daaId,o.generateRequestData(i)},i.render=function(){},a.$on("userMessage",function(e,t){"daa-report"==t.dataType&&(i._data=t.data)}),i.refresh=function(){},i.$onInit=function(){c=t.AddComponent(i),n.getSocket(i.generateRequestData())},i.$onDestroy=function(){t.RemoveComponent(c)},r()}angular.module("app.myDaa").component("myDaaFinancialsStructure",{templateUrl:"app/views/components/myDaa/myDaaFinancialsStructure.f4e2e0f1.html",controller:e,bindings:{daaTicker:"=",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c),c.hideAllPages(c.listOfPages,c.statusOfPages)}var c=this,s=null;c.statusOfPages={},c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={},a.$watch("$ctrl.selectedCurrency",function(e){e&&(c.daaTicker=c.selectedCurrency.ticker,r.go("app.myDaa",{currency:c.daaTicker,activePage:c.queryPageMap[_.findKey(c.statusOfPages,function(e){return e})]}))}),a.$watch("$ctrl.daaList",function(e){e&&(0==c.daaTicker.length?c.selectedCurrency=c.daaList[0]:c.selectedCurrency=_.find(c.daaList,function(e){return e.ticker==c.daaTicker}))}),c.hideAllPages=function(e,t){for(var n=0;n<e.length;n++)t[e[n]]=!1},c.setActive=function(e){c.hideAllPages(c.listOfPages,c.statusOfPages),c.statusOfPages[e]=!0,r.go(".",{activePage:c.queryPageMap[_.findKey(c.statusOfPages,function(e){return e})]},{notify:!1})},c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData()),c.daaTicker=r.params.currency},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaaHeader",{templateUrl:"app/views/components/myDaa/myDaaHeader.31a2ca05.html",controller:e,bindings:{daaList:"<",statusOfPages:"=",listOfPages:"=",queryPageMap:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c),c.setChartParams(c.daaType),"ACTIVE"==c.daaType&&r.go("app.dashboard")}var c=this,s=null;c.granulation="HOURLY",c.daaType="PASSIVE",c.daaTicker=r.params.currency,c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={},void 0,c.setChartParams=function(e){"ACTIVE"==e?(c.from=moment().subtract(1,"month").subtract(3,"hour").utc().unix(),c.to=moment().utc().unix()):"PASSIVE"==e&&(c.from=1477958400,c.to=moment().utc().unix())},c.generateRequestData=function(){return o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaaLiveData",{templateUrl:"app/views/components/myDaa/myDaaLiveData.b49ccb6e.html",controller:e,bindings:{daaId:"="}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){o.checkComponent(c),c.refresh(),c.setDefaultDates()}var c=this,s=null;c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={},c.granulations={hourly:"HOURLY",daily:"DAILY"},c.granulation=c.granulations.hourly,c.daaTicker=r.params.currency,c.fromIsOpen=!1,c.toIsOpen=!1,c.dateOptions={formatDay:"d"},c.toggleFrom=function(){c.fromIsOpen=!c.fromIsOpen},c.toggleTo=function(){c.toIsOpen=!c.toIsOpen},c.onChangeFromDate=function(){moment(c.reportFromDate).isAfter(moment(Math.min(u().subtract(1,"day").valueOf(),moment(c.reportToDate).subtract(1,"day").valueOf())))?c.reportFromDate=moment(Math.min(u().subtract(1,"day").valueOf(),moment(c.reportToDate).subtract(1,"day").valueOf())).toDate():moment(c.reportFromDate).isBefore(l(moment(c.reportToDate)))&&(c.reportToDate=d(moment(c.reportFromDate)).toDate()),c.periodLength=moment(c.reportToDate).diff(c.reportFromDate,"days")},c.onChangeToDate=function(){moment(c.reportToDate).isAfter(u())&&(c.reportToDate=u().toDate()),moment(c.reportToDate).isAfter(d(moment(c.reportFromDate)))&&(c.reportFromDate=l(moment(c.reportToDate)).toDate()),moment(c.reportToDate).isBefore(moment(c.reportFromDate).add(1,"day"))&&(c.reportToDate=moment(c.reportFromDate).add(1,"day").toDate()),c.periodLength=moment(c.reportToDate).diff(c.reportFromDate,"days")},c.onChangeGranulation=function(){c.setDefaultDates()};var u=function(){return moment().hour(0).minute(0).second(0)},l=function(e){return c.granulation===c.granulations.hourly?e.subtract(30,"days"):e.subtract(1,"year")},d=function(e){return c.granulation===c.granulations.hourly?e.add(30,"days"):e.add(1,"year")};c.setDefaultDates=function(){c.reportFromDate=l(u()).toDate(),c.reportToDate=u().toDate(),c.periodLength=moment(c.reportToDate).diff(c.reportFromDate,"days")},c.fetchReport=function(){var e={dataType:"get-nav-csv-report",from:Math.floor(c.reportFromDate/1e3),to:Math.floor(c.reportToDate/1e3),baseCurrency:"USD",granulation:c.granulation,daaList:[c.daaTicker]};n.getSocket(e)},a.$on("userMessage",function(e,t){if("downloadable-result"===t.dataType){if(!t.data.data||!t.data.mimeType||!t.data.fileName)return;for(var n=atob(t.data.data),o=new Array(n.length),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);var r=new Uint8Array(o),i=new Blob([r],{type:t.data.mimeType});c.errorMessage=t.data.error,c.errorMessage||saveAs(i,t.data.fileName)}}),c.generateRequestData=function(){return c._componentFilter.daaId=c.daaId,o.generateRequestData(c)},c.render=function(e){},c.refresh=function(){},c.$onInit=function(){s=t.AddComponent(c),n.getSocket(c.generateRequestData())},c.$onDestroy=function(){t.RemoveComponent(s)},i()}angular.module("app.myDaa").component("myDaaReports",{templateUrl:"app/views/components/myDaa/myDaaReports.d552593b.html",controller:e,bindings:{daaTicker:"<",daaId:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope","$state"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){o.checkComponent(i)}var i=this,c=null;i._componentType="currency/holdings",i._componentFilter={},i._componentSoftFilter={},i._data={},i.generateRequestData=function(){return i._componentFilter.currency=i.daaTicker,o.generateRequestData(i)},i.render=function(e){},a.$on("userMessage",function(e,t){"currency/holdings"==t.dataType&&t.data.currency==i.daaTicker&&(i.list=t.data.coinHoldingList)}),i.refresh=function(){},i.$onInit=function(){c=t.AddComponent(i)},a.$watch("$ctrl.daaTicker",function(e,t){e&&n.getSocket(i.generateRequestData())}),i.$onDestroy=function(){t.RemoveComponent(c)},r()}angular.module("app.myDaa").component("myDaaStructure",{templateUrl:"app/views/components/myDaa/myDaaStructure.72da6c07.html",controller:e,bindings:{daaTicker:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n){var o=this;o.getBlockchainUrl=function(e){return"BTC"===e?"https://www.blocktrail.com/BTC/tx/"+o.txid:"BCH"===e?"https://www.blocktrail.com/BCC/tx/"+o.txid:"BTG"===e?"https://btgexp.com/tx/"+o.txid:"https://etherscan.io/tx/"+o.txid}}angular.module("app.dashboard").component("blockchainExplorerLink",{templateUrl:"app/views/components/utils/blockchainExplorerLink.f63a4d18.html",controller:e,bindings:{ticker:"<",txid:"<"}}),e.$inject=["$state","$timeout","$scope"]}(),function(){"use strict";function e(e,t,n){}angular.module("app.dashboard").component("dropDown",{templateUrl:"app/views/components/utils/dropDown.262220ba.html",controller:e,bindings:{data:"<",selected:"=",change:"&",currencyList:"<"}}),e.$inject=["$state","$timeout","$scope"]}();var LocalStoreManager=function(){function e(){var e=this;this.syncKeys=[],this.reservedKeys=["sync_keys","addToSyncKeys","removeFromSyncKeys","getSessionStorage","setSessionStorage","addToSessionStorage","removeFromSessionStorage","clearAllSessionsStorage","raiseDBEvent"],this.sessionStorageTransferHandler=function(t){if(t.newValue)if("getSessionStorage"==t.key)sessionStorage.length&&(localStorage.setItem("setSessionStorage",JSON.stringify(sessionStorage)),localStorage.removeItem("setSessionStorage"));else if("setSessionStorage"==t.key){e.syncKeys.length||e.loadSyncKeys();var n=JSON.parse(t.newValue);for(var o in n)e.syncKeysContains(o)&&sessionStorage.setItem(o,n[o])}else if("addToSessionStorage"==t.key){var n=JSON.parse(t.newValue);e.addToSessionStorageHelper(n.data,n.key)}else"removeFromSessionStorage"==t.key?e.removeFromSessionStorageHelper(t.newValue):"clearAllSessionsStorage"==t.key&&sessionStorage.length?e.clearInstanceSessionStorage():"addToSyncKeys"==t.key?e.addToSyncKeysHelper(t.newValue):"removeFromSyncKeys"==t.key&&e.removeFromSyncKeysHelper(t.newValue)}}return e.prototype.initialiseStorageSyncListener=function(){1!=e.syncListenerInitialised&&(e.syncListenerInitialised=!0,window.addEventListener("storage",this.sessionStorageTransferHandler,!1),this.syncSessionStorage())},e.prototype.deinitialiseStorageSyncListener=function(){window.removeEventListener("storage",this.sessionStorageTransferHandler,!1),e.syncListenerInitialised=!1},e.prototype.syncSessionStorage=function(){localStorage.setItem("getSessionStorage","_dummy"),localStorage.removeItem("getSessionStorage")},e.prototype.clearAllStorage=function(){this.clearAllSessionsStorage(),this.clearLocalStorage()},e.prototype.clearAllSessionsStorage=function(){this.clearInstanceSessionStorage(),localStorage.removeItem(e.DBKEY_SYNC_KEYS),localStorage.setItem("clearAllSessionsStorage","_dummy"),localStorage.removeItem("clearAllSessionsStorage")},e.prototype.clearInstanceSessionStorage=function(){sessionStorage.clear(),this.syncKeys=[]},e.prototype.clearLocalStorage=function(){localStorage.clear()},e.prototype.addToSessionStorage=function(e,t){this.addToSessionStorageHelper(e,t),this.addToSyncKeysBackup(t),localStorage.setItem("addToSessionStorage",JSON.stringify({key:t,data:e})),localStorage.removeItem("addToSessionStorage")},e.prototype.addToSessionStorageHelper=function(e,t){this.addToSyncKeysHelper(t),sessionStorage.setItem(t,e)},e.prototype.removeFromSessionStorage=function(e){this.removeFromSessionStorageHelper(e),this.removeFromSyncKeysBackup(e),localStorage.setItem("removeFromSessionStorage",e),localStorage.removeItem("removeFromSessionStorage")},e.prototype.removeFromSessionStorageHelper=function(e){sessionStorage.removeItem(e),this.removeFromSyncKeysHelper(e)},e.prototype.testForInvalidKeys=function(e){if(!e)throw new Error("key cannot be empty");if(this.reservedKeys.some(function(t){return t==e}))throw new Error('The storage key "'+e+'" is reserved and cannot be used. Please use a different key')},e.prototype.syncKeysContains=function(e){return this.syncKeys.some(function(t){return t==e})},e.prototype.loadSyncKeys=function(){this.syncKeys.length||(this.syncKeys=this.getSyncKeysFromStorage())},e.prototype.getSyncKeysFromStorage=function(t){void 0===t&&(t=[]);var n=localStorage.getItem(e.DBKEY_SYNC_KEYS);return null==n?t:JSON.parse(n)},e.prototype.addToSyncKeys=function(e){this.addToSyncKeysHelper(e),this.addToSyncKeysBackup(e),localStorage.setItem("addToSyncKeys",e),localStorage.removeItem("addToSyncKeys")},e.prototype.addToSyncKeysBackup=function(t){var n=this.getSyncKeysFromStorage();n.some(function(e){return e==t})||(n.push(t),localStorage.setItem(e.DBKEY_SYNC_KEYS,JSON.stringify(n)))},e.prototype.removeFromSyncKeysBackup=function(t){var n=this.getSyncKeysFromStorage(),o=n.indexOf(t);o>-1&&(n.splice(o,1),localStorage.setItem(e.DBKEY_SYNC_KEYS,JSON.stringify(n)))},e.prototype.addToSyncKeysHelper=function(e){this.syncKeysContains(e)||this.syncKeys.push(e)},e.prototype.removeFromSyncKeys=function(e){this.removeFromSyncKeysHelper(e),this.removeFromSyncKeysBackup(e),localStorage.setItem("removeFromSyncKeys",e),localStorage.removeItem("removeFromSyncKeys")},e.prototype.removeFromSyncKeysHelper=function(e){var t=this.syncKeys.indexOf(e);t>-1&&this.syncKeys.splice(t,1)},e.prototype.saveSessionData=function(t,n){void 0===n&&(n=e.DBKEY_USER_DATA),this.testForInvalidKeys(n),this.removeFromSyncKeys(n),localStorage.removeItem(n),sessionStorage.setItem(n,t)},e.prototype.saveSyncedSessionData=function(t,n){void 0===n&&(n=e.DBKEY_USER_DATA),this.testForInvalidKeys(n),localStorage.removeItem(n),this.addToSessionStorage(t,n)},e.prototype.savePermanentData=function(t,n){void 0===n&&(n=e.DBKEY_USER_DATA),this.testForInvalidKeys(n),this.removeFromSessionStorage(n),localStorage.setItem(n,t)},e.prototype.moveDataToSessionStorage=function(t){void 0===t&&(t=e.DBKEY_USER_DATA),this.testForInvalidKeys(t);var n=this.getData(t);null!=n&&this.saveSessionData(n,t)},e.prototype.moveDataToSyncedSessionStorage=function(t){void 0===t&&(t=e.DBKEY_USER_DATA),this.testForInvalidKeys(t);var n=this.getData(t);null!=n&&this.saveSyncedSessionData(n,t)},e.prototype.moveDataToPermanentStorage=function(t){void 0===t&&(t=e.DBKEY_USER_DATA),this.testForInvalidKeys(t);var n=this.getData(t);null!=n&&this.savePermanentData(n,t)},e.prototype.getData=function(t){void 0===t&&(t=e.DBKEY_USER_DATA),this.testForInvalidKeys(t);var n=sessionStorage.getItem(t);return null==n&&(n=localStorage.getItem(t)),n},e.prototype.getDataObject=function(t){void 0===t&&(t=e.DBKEY_USER_DATA);var n=this.getData(t);return null!=n?JSON.parse(n):null},e.prototype.deleteData=function(t){void 0===t&&(t=e.DBKEY_USER_DATA),this.testForInvalidKeys(t),this.removeFromSessionStorage(t),localStorage.removeItem(t)},new e}();try{LocalStoreManager.initialiseStorageSyncListener()}catch(e){$("#localStorageDisabledMessage").removeClass("hidden")}LocalStoreManager.DBKEY_USER_DATA="user_data",LocalStoreManager.DBKEY_SYNC_KEYS="sync_keys",function(){"use strict";function e(e,t,n){var o=this;o.listOfCurrencies={BLX:"Blockchain Index",BTG:"Bitcoin Gold",BCH:"Bitcoin Cash",BTC:"Bitcoin",ETH:"Ethereum",CFI:"Cofound.it",ICN:"GVB",GEM:"Greychain Emerging Markets",CCC:"Crush Crypto Core",EUR:"Euro"},o.getCurrencyName=function(e){return o.listOfCurrencies[e]||e}}angular.module("app.dashboard").component("tickerName",{templateUrl:"app/views/components/utils/tickerName.b72a02de.html",controller:e,bindings:{ticker:"<"}}),e.$inject=["$state","$timeout","$scope"]}(),function(){"use strict";function e(e,t,n,o){function a(){o.checkComponent(r)}var r=this;r._componentType="user",r._componentFilter={},r._componentSoftFilter={};var i=null;r.generateRequestData=function(){return o.generateRequestData(r)},r.render=function(t){e(function(){r._data=t.data})},r.val=function(){if(r._data){var e=r._data[r.prop]||r["default"]||"";return r.template&&(e=r.template.replace("{}",e)),e}return r["default"]||""},r.refresh=function(){n.getSocket(r.generateRequestData())},r.$onInit=function(){i=t.AddComponent(r),r.refresh()},r.$onDestroy=function(){t.RemoveComponent(i)},a()}angular.module("app.dashboard").component("userProp",{template:"{{ $ctrl.val() }}",controller:e,bindings:{template:"@",prop:"@","default":"@"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(c)}var c=this,s=null;c.purpose=r.current.twoFaType,c._componentType="second-factor/cancel",c._componentFilter={},c._componentSoftFilter={},c._data={},void 0,c.generateRequestDataInfo=function(){return c._componentFilter.authenticationPurpose=c.purpose,a.generateRequestData(c)},c.refresh=function(){},c.render=function(){},c.cancel=function(){o.getSocket(c.generateRequestDataInfo())},c.$onInit=function(){s=n.AddComponent(c)},c.$onDestroy=function(){n.RemoveComponent(s)},i()}angular.module("app.twoFa").component("twoFaCancel",{templateUrl:"app/views/components/twoFa/twoFaCancel.acba9519.html",controller:e,bindings:{twoFaState:"<"}}),e.$inject=["$scope","$http","ComponentResolver","EventBus","ComponentHelper","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c)}var c=this,s=null;c.submitted=!1,c.purpose=n.current.twoFaType,c._componentType="challenge/resend/second-factor/email",c._componentFilter={},c._componentSoftFilter={},c._data={},void 0,c.generateRequestData=function(){return c._componentFilter.authenticationPurpose=c.purpose,r.generateRequestData(c)},c.refresh=function(){},c.render=function(){},c.resendEmail=function(){a.getSocket(c.generateRequestData()),c.submitted=!0},e.$on("userMessage",function(e,t){"second-factor/challenge/disabled"!=t.dataType&&"second-factor/challenge/enable"!=t.dataType&&"second-factor/challenge/change"!=t.dataType||(c.submitted=!1)}),c.$onInit=function(){s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.twoFa").component("twoFaCheckEmail",{templateUrl:"app/views/components/twoFa/twoFaCheckEmail.42c7d95f.html",controller:e,bindings:{twoFaState:"<"}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(s)}var c,s=this;s.errorMessage="",s.submitted=!1,s.purpose=n.current.twoFaType,s._componentType="challenge/solve/second-factor",s._componentFilter={},s._componentSoftFilter={},s._data={},void 0,s.resendSms=function(){s.submitted=!0,a.getSocket({dataType:"challenge/resend/second-factor/sms"})},s.generateRequestData=function(){return s._componentFilter.authenticationPurpose=s.purpose,s._componentFilter.solution=s.verificationCode+"",r.generateRequestData(s)},s.refresh=function(){},s.render=function(){},s.submit=function(){a.getSocket(s.generateRequestData())},s.$onInit=function(){c=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(c)},e.$on("userMessage",function(e,t){"second-factor/challenge/disabled"==t.dataType?s.submitted=!1:"exceptions"==t.dataType&&(s.errorMessage=t.data.message)}),e.$watch("$ctrl.verificationCode",function(e,t){e&&(s.errorMessage=!1,6==e.length&&s.submit())}),i()}angular.module("app.twoFa").component("twoFaConfirmDisablingForm",{templateUrl:"app/views/components/twoFa/twoFaConfirmDisablingForm.bdc61b21.html",controller:e,bindings:{twoFaState:"<"}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(s)}var c,s=this;s.errorMessage="",s.purpose=n.current.twoFaType,s._componentType="second-factor/change",s._componentFilter={},s._componentSoftFilter={},s._data={},void 0,s.generateRequestData=function(){return s._componentFilter.authenticationPurpose=s.purpose,s._componentFilter.password=s.password,r.generateRequestData(s)},s.refresh=function(){},s.render=function(){},s.submit=function(){a.getSocket(s.generateRequestData())},s.$onInit=function(){c=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(c)},e.$on("userMessage",function(e,t){"exceptions"==t.dataType&&(s.errorMessage=t.data.message)}),e.$watch("$ctrl.password",function(e,t){e&&(s.errorMessage=!1)}),i()}angular.module("app.twoFa").component("twoFaConfirmPasswordForm",{templateUrl:"app/views/components/twoFa/twoFaConfirmPasswordForm.c2c5726d.html",
controller:e,bindings:{twoFaState:"<"}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){r.checkComponent(l),c.setDynamicBodyClassName("popup__overlay")}var l=this,d=null;l.resetParams=n.params,l._componentType="second-factor/support/solve",l._componentFilter={},l._componentSoftFilter={},l._data={},l.generateRequestData=function(){return r.generateRequestData(l)},l.refresh=function(){},l.render=function(){},l.$onInit=function(){return d=o.AddComponent(l),l._componentFilter=i.getRedirectParams("twoFactorLostKeys"),l._componentFilter?void a.getSocket(l.generateRequestData()):n.go("app.dashboard")},l.$onDestroy=function(){o.RemoveComponent(d)},e.$on("userMessage",function(e,t){"second-factor/disabled"==t.dataType||"second-factor/challenge/solved"==t.dataType?(i.clearRedirectParams("twoFactorLostKeys"),s(function(){n.go("page.login")},3e3)):"exceptions"==t.dataType&&(i.clearRedirectParams("twoFactorLostKeys"),n.go("app.dashboard"))}),u()}angular.module("app.twoFa").component("twoFaLostVerifyRedirect",{templateUrl:"app/views/components/twoFa/twoFaLostVerifyRedirect.c812f913.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth","LayoutService","$timeout"]}(),function(){"use strict";function e(e,t,n,o,a,r){var i,c=this;c.purpose=n.current.twoFaType,c._componentType="second-factor/info",c._componentFilter={},c._componentSoftFilter={},c._data={},void 0,c.generateRequestData=function(){return c._componentFilter.authenticationPurpose=c.purpose,r.generateRequestData(c)},c.pagesList=["statusPage","verifyPage","confirmDisablingPage","confirmDisablingSmsPage","confirmPasswordPage","checkEmailPage"],c.actionList=["enable","disable","change"],c.twoFaState={page:{},action:{},cancelled:!1,previousAction:""},c.createTwoFaState=function(){_.each(c.pagesList,function(e,t){c.twoFaState.page[c.pagesList[t]]=!1}),_.each(c.actionList,function(e,t){c.twoFaState.action[c.actionList[t]]=!1})},c.setStateActive=function(e,t,n){c.twoFaState.previousAction=_.keys(_.pick(c.twoFaState.action,_.identity))[0]||"",c.createTwoFaState(),_.findKey(c.twoFaState.page,function(t,n){return n.indexOf(e)>=0})&&(c.twoFaState.page[e]=!0),_.findKey(c.twoFaState.action,function(e,n){return n.indexOf(t)>=0})&&(c.twoFaState.action[t]=!0),c.twoFaState.cancelled=n||!1},c.refresh=function(){},c.render=function(){},e.$on("userMessage",function(e,t){if("WITHDRAWAL"==c.purpose&&"PRIMARY"==t.data.authenticationPurpose&&"second-factor/enabled"!==t.dataType&&"second-factor/challenge/change"!==t.dataType&&n.go("app.account"),"second-factor/challenge/enable"==t.dataType||"second-factor/challenge/disabled"==t.dataType||"second-factor/challenge/change"==t.dataType){var o=_.find(t.data.challenges,function(e){return"AUTHENTICATOR"==e.authenticationFactorKind}),r=_.find(t.data.challenges,function(e){return"SMS"==e.authenticationFactorKind});"second-factor/challenge/enable"==t.dataType&&t.data.authenticationPurpose==c.purpose?o.solved?c.setStateActive("checkEmailPage","enable",!1):c.setStateActive("verifyPage","enable",!1):"second-factor/challenge/change"==t.dataType&&t.data.authenticationPurpose==c.purpose?o.solved?c.setStateActive("checkEmailPage","change",!1):c.setStateActive("verifyPage","change",!1):"second-factor/challenge/disabled"==t.dataType&&t.data.authenticationPurpose==c.purpose&&(r&&!r.solved?c.setStateActive("confirmDisablingSmsPage","disable",!1):r&&r.solved?c.setStateActive("checkEmailPage","disable",!1):o&&o.solved?c.setStateActive("checkEmailPage","disable",!1):o&&!o.solved&&c.setStateActive("confirmDisablingPage","disable",!1))}else"second-factor/disabled"!=t.dataType&&"second-factor/enabled"!=t.dataType||t.data.authenticationPurpose!==c.purpose?("challenge/solve/second-factor"==t.dataType&&t.data.challengeId||"challenge/solve/second-factor/email"==t.dataType)&&(t.data.authenticationPurpose?c.setStateActive("statusPage",void 0,!1):a.getSocket(c.generateRequestData())):c.twoFaState.action.enable?c.setStateActive("statusPage","enable",!0):c.twoFaState.action.disable?c.setStateActive("statusPage","disable",!0):c.twoFaState.action.change?c.setStateActive("statusPage","change",!0):c.setStateActive("statusPage",void 0,!1)}),c.$onInit=function(){i=o.AddComponent(c),"WITHDRAWAL"===c.purpose&&a.getSocket({dataType:"second-factor/info",authenticationPurpose:"PRIMARY"}),a.getSocket(c.generateRequestData())},c.$onDestroy=function(){o.RemoveComponent(i)}}angular.module("app.twoFa").component("twoFaStateResolver",{template:"",controller:e,bindings:{twoFaState:"=",setStateActive:"="}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){var i,c=this;c.purpose=n.current.twoFaType,c.loaded=!1,c.twoFaEnabled=!1,c._componentType="second-factor/info",c._componentFilter={},c._componentSoftFilter={},c._data={},void 0,c.generateRequestData=function(){return c._componentFilter.authenticationPurpose=c.purpose,r.generateRequestData(c)},c.enable=function(){a.getSocket({dataType:"second-factor/init",authenticationPurpose:c.purpose})},c.change=function(){c.setStateActive("confirmPasswordPage","change",!1)},c.disable=function(){a.getSocket({dataType:"second-factor/disable",authenticationPurpose:c.purpose})},c.refresh=function(){},c.render=function(){},e.$on("userMessage",function(e,t){t.data.authenticationPurpose==c.purpose?"second-factor/enabled"==t.dataType?(c.twoFaEnabled=!0,c.loaded=!0):"second-factor/disabled"==t.dataType&&(c.twoFaEnabled=!1,c.loaded=!0):"exceptions"==t.dataType&&(c.errorMessage=t.data.message)}),c.$onInit=function(){i=o.AddComponent(c),"WITHDRAWAL"===c.purpose&&a.getSocket({dataType:"second-factor/info",authenticationPurpose:"PRIMARY"}),a.getSocket(c.generateRequestData())},c.$onDestroy=function(){o.RemoveComponent(i)}}angular.module("app.twoFa").component("twoFaStatus",{templateUrl:"app/views/components/twoFa/twoFaStatus.f5a3935e.html",controller:e,bindings:{twoFaState:"<",setStateActive:"<"}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){s._componentFilter.authenticationPurpose=s.purpose,a.checkComponent(s)}var s=this,u=null,l=null;s._secret="",s.errorMessage="",s.purpose=i.current.twoFaType,s._componentType="second-factor/info",s._componentFilter={},s._componentSoftFilter={},s._data={},void 0,s.generateRequestData=function(){return a.generateRequestData(s)},s.loadQrCode=function(e){r(function(){s._secret&&"empty"!=s._secret&&(l?l.makeCode(s._secret):l=new QRCode(document.getElementById("qrcode"),{text:s._secret,width:180,height:180,colorDark:"#000000",colorLight:"#f7f9fa",correctLevel:QRCode.CorrectLevel.H}),r(function(){$("#qrcode img").removeAttr("style")},5e3))})},s.refresh=function(){},s.render=function(){},s.submit=function(){o.getSocket(a.generateRequestData({_componentType:"challenge/solve/second-factor",_componentFilter:{solution:s.verificationCode+"",authenticationPurpose:s.purpose},_data:{}}))},e.$on("userMessage",function(e,t){"second-factor/challenge/enable"!=t.dataType&&"second-factor/challenge/change"!=t.dataType||t.data.authenticationPurpose!=s.purpose?"exceptions"==t.dataType&&(s.errorMessage=t.data.message):(s.authenticationCode=t.data.code,s._secret=t.data.identity,s.loadQrCode(s._secret),s.loaded=!0)}),e.$watch("$ctrl.verificationCode",function(e,t){e&&(s.errorMessage=!1,6==e.length&&s.submit())}),s.$onInit=function(){u=n.AddComponent(s),o.getSocket(s.generateRequestData())},s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.twoFa").component("twoFaVerify",{templateUrl:"app/views/components/twoFa/twoFaVerify.65c4dd5c.html",controller:e,bindings:{twoFaState:"<"}}),e.$inject=["$scope","$http","ComponentResolver","EventBus","ComponentHelper","$timeout","$state"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){r.checkComponent(l),c.setDynamicBodyClassName("popup__overlay")}var l=this,d=null;l.resetParams=n.params,l._componentType="challenge/solve/second-factor/email",l._componentFilter={},l._componentSoftFilter={},l._data={},l.generateRequestData=function(){return r.generateRequestData(l)},l.refresh=function(){},l.render=function(){},l.$onInit=function(){return d=o.AddComponent(l),l._componentFilter=i.getRedirectParams("twoFactorKeys"),l._componentFilter?void a.getSocket(l.generateRequestData()):n.go("app.dashboard")},l.$onDestroy=function(){o.RemoveComponent(d)},e.$on("userMessage",function(e,t){"second-factor/enabled"==t.dataType||"second-factor/disabled"==t.dataType||"second-factor/challenge/enable"==t.dataType||"second-factor/challenge/disabled"==t.dataType?i.clearRedirectParams("twoFactorKeys"):"challenge/solve/second-factor/email"==t.dataType&&(l.solveFailed=!t.data.solve,t.data.solve&&(i.clearRedirectParams("twoFactorKeys"),i.isAuthorized()&&s(function(){"PRIMARY"===t.data.authenticationPurpose?n.go("app.twoFaLogin"):"WITHDRAWAL"===t.data.authenticationPurpose?n.go("app.twoFaWithdrawal"):n.go("app.account")},3e3)))}),u()}angular.module("app.twoFa").component("twoFaVerifyRedirect",{templateUrl:"app/views/components/twoFa/twoFaVerifyRedirect.0de9e4c2.html",controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth","LayoutService","$timeout"]}(),function(){"use strict";function e(e,n){var o=this;o.$onChanges=function(){e.title=n(o.status),e.cls={fa:!0,"fa-circle":!0},t[o.status]&&(e.cls[t[o.status]]=!0)}}angular.module("app.dashboard").component("transactionStatus",{templateUrl:"app/views/components/transaction/status.b2a3866e.html",controller:e,bindings:{status:"<"}});var t={COMPLETED:"green",CANCELED:"red",PENDING:"gray",IN_PROGRESS:"orange",IN_VERIFICATION:"orange",FAIL:"red"};e.$inject=["$scope","transactionStatusTitleFilter"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u._componentFilter.transactionId=u.key}var u=this;u._componentType="transaction",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){t(function(){u._data=e.data})},u.errorHandler=function(e){},u.refresh=function(){r.getSocket(u.generateRequestData())},u.timeout=function(e){},u.$onInit=function(){l=a.AddComponent(u),u.refresh()},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("transaction",{templateUrl:"app/views/components/transaction/v2/transaction.e6ad3d25.html",controller:e,bindings:{key:"=",completed:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u._data=u.data}var u=this;u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;o.$watch("$ctrl.data",function(e){u.render(e)}),u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){void 0,t(function(){u._data=e})},u.errorHandler=function(e){},u.refresh=function(){r.getSocket(u.generateRequestData())},u.timeout=function(e){},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("transactionBuyV2",{templateUrl:"app/views/components/transaction/v2/transactionBuy.c3047085.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(c),c._data=c.data}var c=this;c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;t.$watch("$ctrl.data",function(e){c.render(e)}),c.generateRequestData=function(){return a.generateRequestData(c)},c.render=function(t){e(function(){c._data=t})},c.refresh=function(){o.getSocket(c.generateRequestData())},c.timeout=function(e){},c.$onInit=function(){s=n.AddComponent(c)},c.$onDestroy=function(){n.RemoveComponent(s)},i()}angular.module("app.dashboard").component("transactionDeposit",{templateUrl:"app/views/components/transaction/transactionDeposit.800b095f.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$timeout","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u._data=u.data}var u=this;u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;o.$watch("$ctrl.data",function(e){u.render(e)}),u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){void 0,t(function(){u._data=e})},u.errorHandler=function(e){},u.refresh=function(){r.getSocket(u.generateRequestData())},u.timeout=function(e){},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("transactionFeeDistribution",{templateUrl:"app/views/components/transaction/v2/transactionFeeDistribution.2e723879.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u._data=u.data}var u=this;u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;o.$watch("$ctrl.data",function(e){u.render(e)}),u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){void 0,t(function(){u._data=e})},u.errorHandler=function(e){},u.refresh=function(){r.getSocket(u.generateRequestData())},u.timeout=function(e){},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("transactionOtc",{templateUrl:"app/views/components/transaction/v2/transactionOtc.c228c098.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){r.checkComponent(s),s._data=s.data}var s=this;s._componentType="",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;e.$watch("$ctrl.data",function(e){s.render(e)}),s.generateRequestData=function(){return r.generateRequestData(s)},s.render=function(e){void 0,t(function(){s._data=e})},s.refresh=function(){a.getSocket(s.generateRequestData())},s.timeout=function(e){},s.$onInit=function(){u=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(u)},c()}angular.module("app.dashboard").component("transactionSell",{templateUrl:"app/views/components/transaction/v2/transactionSell.5bafbdee.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$scope","$timeout","$rootScope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){r.checkComponent(s),s._data=s.data}var s=this;s._componentType="",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;e.$watch("$ctrl.data",function(e){s.render(e)}),s.generateRequestData=function(){return r.generateRequestData(s)},s.render=function(e){t(function(){s._data=e})},s.refresh=function(){a.getSocket(s.generateRequestData())},s.$onInit=function(){u=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(u)},c()}angular.module("app.dashboard").component("transactionTransfer",{templateUrl:"app/views/components/transaction/v2/transactionTransfer.0abba367.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$scope","$timeout","$rootScope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(c),c._data=c.data}var c=this;c._componentType="",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;t.$watch("$ctrl.data",function(e){c.render(e)}),c.generateRequestData=function(){return a.generateRequestData(c)},c.render=function(t){void 0,e(function(){c._data=t})},c.refresh=function(){o.getSocket(c.generateRequestData())},c.timeout=function(e){},c.$onInit=function(){s=n.AddComponent(c)},c.$onDestroy=function(){n.RemoveComponent(s)},i()}angular.module("app.dashboard").component("transactionWithdraw",{templateUrl:"app/views/components/transaction/transactionWithdraw.e2e5b763.html",controller:e,bindings:{key:"=",data:"=",completed:"="}}),e.$inject=["$timeout","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u)}var u=this;u.selectedWallet={},u._componentType="withdraw/offer/info",u._componentFilter={},u._componentSoftFilter={},u._data={},u._responseMessage={_componentType:"withdraw/offer",_componentFilter:{}};var l=null;u.$onChanges=function(){u.offerId&&(this._componentFilter.offerId=u.offerId,this._responseMessage.offerId=u.offerId,u.refresh())},u.withdrawPreview=function(e){e.preventDefault(),u.currency&&u.address&&u.amount?(u._componentFilter.currency=u.currency,u._componentFilter.address=u.address,u._componentFilter.amount=u.amount,u.refresh()):void 0},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){t(function(){u.currency=e.data.currency,u.amount=parseFloat(e.data.amount).toFixed(6),u.address=e.data.address})},u.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u),r.getSocket({dataType:"withdraw/list",response:{dataType:"withdraw/list"}}),r.getSocket({dataType:"user",response:{dataType:"user"}})},o.$on("userMessage",function(n,o){if("withdraw/list"==o.dataType&&u.currency&&(u.selectedWallet=_.find(o.data.list,function(e){return e.currency.ticker==u.currency}),t(function(){u.loaded=!0,t(function(){$("#withdrawAmount").focus()})},300)),"user"==o.dataType){var a=o.data.secondFactorValidFrom;(null==a||1e3*a.seconds>Date.now())&&e.go("app.withdrawAmount",{currency_or_offer:null})}}),u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("amountToWithdraw",{templateUrl:"app/views/components/withdraw/amountToWithdraw.d3ec4924.html",controller:e,bindings:{currency:"<",offerId:"<",loaded:"<"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u._componentFilter.transactionId=u.key,u._componentFilter.challengeType="SMS",u.code="",u.form2faAuth={}}var u=this;u._componentType="withdraw/challenge",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null,d=null;u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){var t=_.find(e.data.composedChallengeList,{challengeType:"SMS"});t.solved?u.form2faAuth.code.wrong=!1:u.form2faAuth.code.wrong=!0},u.setCode=function(){u.form2faAuth.$valid?(u._componentFilter.solution=u.code,u.refresh()):void 0},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l),clearInterval(d)},s()}angular.module("app.dashboard").component("withdraw2fAuth",{templateUrl:"app/views/components/withdraw/withdraw2fAuth.b11cd65b.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c=this,s=null;c._componentType="validate-address-request",c._componentFilter={},c._componentSoftFilter={},c._data={},c._responseMessage={_componentType:"validate-address-response",_componentFilter:{}},n.valid=!1,n.self=!1,c.generateRequestData=function(){return r.generateRequestData(c)},c.$onChanges=function(){c._componentFilter.currencyTicker=c.currency,n.address=c.address,c.refresh()},n.$watch("address",function(e){c.address="",c.refresh()}),c.render=function(e){t(function(){if("valid"==e.data.level){var t=e.filter.match(/address=(.+?)(&|$)/)[1];n.address=t,c.address=t,n.valid=!0,n.self=!1}else"self"==e.data.level?n.self=!0:(n.valid=!1,n.self=!1,c.address="")})},c.refresh=function(){return n.valid=!1,c._componentFilter.address=n.address,c._responseMessage._componentFilter=c._componentFilter,c._componentFilter.address?void a.getSocket(c.generateRequestData()):(n.valid=!1,void(n.self=!1))},c.$onInit=function(){r.checkComponent(c),s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)}}angular.module("app.dashboard").component("withdrawAddress",{templateUrl:"app/views/components/withdraw/withdrawAddress.a10ceacd.html",controller:e,bindings:{currency:"<",address:"="}}),e.$inject=["$state","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){r.checkComponent(s),$("#withdrawAmount").numberMask({type:"float",afterPoint:6,decimalMark:".",defaultValueInput:null})}var s=this;s._componentType="withdraw/amount",s._componentFilter={},s._componentSoftFilter={},s._data={},n.value=0,n.mainAmount=null;var u=null;s.$onChanges=function(){s._componentFilter.currency=s.currency,n.value=s.amount,s.refresh()},n.$watch("value",function(){s.refresh()}),s.generateRequestData=function(){return r.generateRequestData(s)},s.render=function(e){t(function(){return n.mainAmount=e.data.mainAmount,e.data.error?(s.amount=0,void(n.error=e.data.error)):(s.amount=e.data.amount,void(n.error=""))})},s.refresh=function(){var e=Number(n.value);return isNaN(e)&&(e=0),e<=0?(n.error=null,void(n.mainAmount=null)):(s._componentFilter.amount=e.toFixed(6),void a.getSocket(s.generateRequestData()))},s.$onInit=function(){u=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(u)},c()}angular.module("app.dashboard").component("withdrawAmount",{templateUrl:"app/views/components/withdraw/withdrawAmount.2f66a902.html",controller:e,bindings:{currency:"<",amount:"="}}),e.$inject=["$state","$timeout","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c)}var c=this;c._componentType="withdraw/rules",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.generateRequestData=function(){return c._componentFilter.currency=c.currency,r.generateRequestData(c)},c.render=function(t){e(function(){c._data=t.data})},c.$onChanges=function(){c._componentFilter.currency=c.currency,c.refresh()},c.refresh=function(){c._componentFilter.currency&&a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("withdrawBalance",{templateUrl:"app/views/components/withdraw/withdrawBalance.dd56a794.html",controller:e,bindings:{currency:"<"}}),e.$inject=["$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c)}var c=this;c._componentType="withdraw/challenge/reset",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.submit=function(e){e.preventDefault(),c.transactionId&&c.type&&(c._componentFilter.transactionId=c.transactionId,c._componentFilter.challengeType=c.type,c.refresh())},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){void 0},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("withdrawChallengeReset",{templateUrl:"app/views/components/withdraw/withdrawChallengeReset.64ff669a.html",controller:e,bindings:{transactionId:"=",challengeType:"=",type:"="}}),e.$inject=["$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.checkComponent(i)}var i=this,c=null;i._componentType="withdraw/confirm",i._componentFilter={},i._componentSoftFilter={},i._data={},i.$onChanges=function(){i._componentFilter.offerId=i.offerId},i.confirm=function(){i.refresh()},i.generateRequestData=function(){return a.generateRequestData(i)},i.render=function(e){t.go("app.transaction",{transactionId:e.data.transaction.transactionId,flow:"withdraw"})},i.refresh=function(){o.getSocket(i.generateRequestData())},i.$onInit=function(){c=n.AddComponent(i)},i.$onDestroy=function(){n.RemoveComponent(c)},r()}angular.module("app.dashboard").component("withdrawConfirmOffer",{template:'<a class="button button--primary button--small" ng-click="$ctrl.confirm()">Submit</a>',controller:e,bindings:{offerId:"<"}}),e.$inject=["$timeout","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u)}var u=this;u._componentType="withdraw/offer",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;u.withdrawPreview=function(e){e.preventDefault(),u.currency&&u.address&&u.amount&&(u._componentFilter.currency=u.currency,u._componentFilter.address=u.address,u._componentFilter.amount=u.amount,u.refresh())},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(t){u._data=t,u.errorHandler(u._data)||e.go("app.withdrawReview",{offerId:t.data.offerId})},u.errorHandler=function(e){return e.error?(c.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(c.showNotificationBanner(!1),!1)},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("withdrawCreateButton",{template:'<button type="submit" class="button button--primary button--small" ng-disabled="!$ctrl.currency || !$ctrl.address || $ctrl.amount<=0 || $ctrl.amount===undefined || $ctrl.value<=0" ng-click="$ctrl.withdrawPreview($event)">Preview</button>',controller:e,bindings:{enabled:"<",currency:"<",address:"<",amount:"<",value:"<"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c)}var c=this;c._componentType="transaction/cancel",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.submit=function(e){e.preventDefault(),c.transactionId&&(c._componentFilter.transactionId=c.transactionId,c.refresh())},c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){void 0},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c)},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("withdrawDelete",{templateUrl:"app/views/components/withdraw/withdrawDelete.5432ac47.html",controller:e,bindings:{transactionId:"="}}),e.$inject=["$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u)}var u=this;u._componentType="challenge/solve/withdraw",u._componentFilter={},u._componentSoftFilter={},u._data={};var l=null;u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){},u.refresh=function(){},u.$onInit=function(){l=a.AddComponent(u);var t=c.getRedirectParams("withdrawChallange");return t?(u._componentFilter=t,void r.getSocket(u.generateRequestData())):void e.go("app.dashboard")},u.$onDestroy=function(){a.RemoveComponent(l)},o.$on("userMessage",function(n,o){if("withdraw/challenge"==o.dataType){u.status=o.data.status;var a=_.find(o.data.challenges,function(e){return"EMAIL"==e.authenticationFactorKind});a.solved&&(c.clearRedirectParams("withdrawChallange"),t(function(){e.go("app.transaction",{transactionId:o.data.transactionId})},3e3))}}),s()}angular.module("app.dashboard").component("withdrawEmailSolve",{templateUrl:"app/views/components/withdraw/withdrawEmailSolve.4d2d8e43.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){a.checkComponent(i),i.dropDownData=[]}var i=this;i.currencyList=!0,i._componentType="withdraw/list",i._componentFilter={},i._componentSoftFilter={},i._data={};var c=null;i.generateRequestData=function(){return a.generateRequestData(i)},i.render=function(e){e.data.list&&t(function(){i.dropDownData=e.data.list})},i.refresh=function(){o.getSocket(i.generateRequestData())},i.$onInit=function(){c=n.AddComponent(i),i.refresh()},i.$onDestroy=function(){n.RemoveComponent(c)},r()}angular.module("app.dashboard").component("withdrawList",{templateUrl:"app/views/components/withdraw/withdrawList.45b76f8c.html",controller:e,bindings:{currency:"=",selected:"=",currencyList:"<"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u.loaded=!1}var u=this;u._componentType="withdraw/list",u._componentFilter={},u._componentSoftFilter={},u._data={},u.withdrawEnabled=null;var l=null,d=null;u.setCurrency=function(n,o){n.preventDefault(),u.withdrawEnabled&&t(function(){e.go("app.withdrawAmount",{currency_or_offer:o})})},u.goOTC=function(){e.go("app.otcWithdraw")},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){u._data=e.data;var n=u._data.list.filter(function(e){return!("BCH"==e.currency.ticker||"BTG"==e.currency.ticker)||e.value>=1e-6});_.each(n,function(e){("BTC"===e.currency.ticker||"ETH"===e.currency.ticker)&&e.value>0&&(u._data.otcEnabled=!0),e.selected=!1}),t(function(){u.currenciesList=n,t(function(){u.loaded=!0},300)})},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u),r.getSocket(u.generateRequestData()),d=c(function(){if(u.withdrawEnabled=!1,u.secondFactorAfter=null,u.secondFactor&&1e3*u.secondFactor.seconds>Date.now()){var e=1e3*u.secondFactor.seconds,t=moment.duration(moment(e).diff()),n=t.hours(),o=t.minutes();u.secondFactorAfter=n+" hours and "+(0==n&&0==o?1:o)+" minutes"}else u.secondFactor&&(u.withdrawEnabled=!0,c.cancel(d),d=null)},1e3)},u.$onDestroy=function(){a.RemoveComponent(l),d&&(c.cancel(d),d=null)},o.$on("userMessage",function(e,t){"user"==t.dataType&&(u.secondFactor=t.data.secondFactorValidFrom||null)}),s()}angular.module("app.dashboard").component("withdrawListButtons",{templateUrl:"app/views/components/withdraw/withdrawListButtons.cf384819.html",controller:e,bindings:{preselected:"=",loaded:"="}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","$interval"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u)}var u=this;u.loaded=!1,u._componentType="withdraw/offer/info",u._componentFilter={},u._componentSoftFilter={},u._data={},u._responseMessage={_componentType:"withdraw/offer",_componentFilter:{}};var l=null;u.$onChanges=function(){this._componentFilter.offerId=u.offerId,this._responseMessage.offerId=u.offerId,u.refresh()},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){t(function(){u._data=e.data,t(function(){u.loaded=!0},300)})},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){
a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("withdrawPreview",{templateUrl:"app/views/components/withdraw/withdrawPreview.d83c7dc5.html",controller:e,bindings:{offerId:"<",key:"@"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){r.checkComponent(c)}var c=this;c._componentType="user",c._componentFilter={},c._componentSoftFilter={},c._data={};var s=null;c.generateRequestData=function(){return r.generateRequestData(c)},c.render=function(e){},c.refresh=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){s=o.AddComponent(c),c.refresh()},c.$onDestroy=function(){o.RemoveComponent(s)},i()}angular.module("app.dashboard").component("withdrawSecondFactorValid",{template:" ",controller:e,bindings:{transactionId:"="}}),e.$inject=["$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u),u.mailChallenge=!1,u.code=""}var u=this;u.loaded=!1,u._componentType="withdraw/challenge",u._componentFilter={},u._componentSoftFilter={},u._data={},u._responseMessage={_componentType:"withdraw/challenge",_componentFilter:{}};var l=null;c.setDynamicBodyClassName("popup__overlay"),u.$onChanges=function(){u._componentFilter.transactionId=u.data.transactionId,u._responseMessage._componentFilter.withdrawChallengeId=u.data.transactionId,u.refresh()},u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){t(function(){u._data=e.data,t(function(){u.loaded=!0},300),"canceled"==u._data.requestStatus?c.showNotificationBanner(!0,"danger","Withdraw","Withdraw canceled message"):(u.emailChallenge=_.find(u._data.challenges,{authenticationFactorKind:"EMAIL"}),u.totpChallenge=_.find(u._data.challenges,{authenticationFactorKind:"AUTHENTICATOR"})||_.find(u._data.challenges,{authenticationFactorKind:"SMS"}))})},u.refresh=function(){r.getSocket(u.generateRequestData())},u.$onInit=function(){l=a.AddComponent(u)},u.$onDestroy=function(){a.RemoveComponent(l)},s()}angular.module("app.dashboard").component("withdrawVerification",{templateUrl:"app/views/components/withdraw/withdrawVerification.30f36179.html",controller:e,bindings:{data:"<"}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s)}var s=this,u=null;s._componentType="challenge/solve/withdraw",s._componentFilter={},s._componentSoftFilter={},s._data={},s.showErrorMessage=!1,s.$onChanges=function(){s._componentFilter.transactionId=s.transactionId,s._componentFilter.challengeId=s.challengeId},i.$watch("$ctrl.code",function(e,t){e&&(s.showErrorMessage=!1,6==e.length&&s.submit())}),s.submit=function(){o.getSocket(s.generateRequestData()),i.$on("userMessage",function(e,t){if("withdraw/challenge"==t.dataType){var n=_.find(t.data.challenges,function(e){return"AUTHENTICATOR"==e.authenticationFactorKind}),o=_.find(t.data.challenges,function(e){return"SMS"==e.authenticationFactorKind});(n&&0==n.solved||o&&0==o.solved)&&(s.showErrorMessage=!0)}})},s.generateRequestData=function(){return s._componentFilter.secret=s.code,a.generateRequestData(s)},s.render=function(e){},s.refresh=function(){},s.$onInit=function(){u=n.AddComponent(s)},s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.dashboard").component("withdrawVerification2fa",{templateUrl:"app/views/components/withdraw/withdrawVerification2fa.0a790a53.html",controller:e,bindings:{transactionId:"<",challengeId:"<",kind:"<"}}),e.$inject=["$timeout","$state","ComponentResolver","EventBus","ComponentHelper","$rootScope","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){r.checkComponent(s)}var s=this;s._componentType=null,s._componentFilter={},s._componentSoftFilter={},s._data={},s.type=null;var u=null;s.submit=function(e){e.preventDefault(),s._componentFilter.transactionId&&s.refresh()},s.$onChanges=function(){s.type="SMS"==s.kind?"sms":"email",s._componentType="withdraw/challenge/resend/"+s.type,s._componentFilter.transactionId=s.transactionId},s.generateRequestData=function(){return r.generateRequestData(s)},s.render=function(t){e(function(){s.submited=!1})},s.timeout=function(){e(function(){s.submited=!1})},s.refresh=function(){s.submited||(s.submited=!0,a.getSocket(s.generateRequestData()))},s.$onInit=function(){u=o.AddComponent(s)},s.$onDestroy=function(){o.RemoveComponent(u)},c()}angular.module("app.dashboard").component("withdrawVerificationResend",{template:'Didn‚Äôt receive an {{ $ctrl.type }}? <a ng-if="!$ctrl.submited" ng-click="$ctrl.submit($event)">Resend</a> <span ng-if="$ctrl.submited">Sending ...</span>',controller:e,bindings:{transactionId:"<",kind:"<"}}),e.$inject=["$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","LayoutService"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s)}var s=this;s._componentType="identity/change-password",s._componentFilter={},s._componentSoftFilter={},s._data={},s.errorMessage="";var u=null;s.generateRequestData=function(){return s._componentFilter.currentPassword=s.values.oldPassword,s._componentFilter.newPassword=s.values.newPassword,a.generateRequestData(s)},s.render=function(){},s.passwordMatch=function(){return s.values.newPassword==s.values.repeatPassword},s.refresh=function(){},s.submit=function(){o.getSocket(s.generateRequestData())},i.$on("userMessage",function(t,n){"identity/password-changed"==n.dataType?e.go("page.passwordChanged"):"identity/password-failed"==n.dataType&&(s.errorMessage=n.data.message.replace(/.,/g,"."))}),i.$watchGroup(["$ctrl.values.oldPassword","$ctrl.values.newPassword","$ctrl.values.repeatPassword"],function(e,t){e&&(s.errorMessage=!1)}),s.$onInit=function(){u=n.AddComponent(s)},s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.dashboard").component("changePassword",{templateUrl:"app/views/components/user/changePassword.e0eb487a.html",controller:e}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){i.checkComponent(u)}var u=this,l=null;u._componentType="disable-account-challenge/solve",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return i.generateRequestData(u)},u.render=function(e){},u.refresh=function(){},u.$onInit=function(){l=a.AddComponent(u);var t=c.getRedirectParams("deactivateAccountKeys");return t?(u._componentFilter=t,void r.getSocket(u.generateRequestData())):void e.go("app.dashboard")},u.$onDestroy=function(){a.RemoveComponent(l)},o.$on("userMessage",function(e,t){"challenge/solve/disableAccount"==t.dataType&&(u.accountDeactivated=t.data.success)}),s()}angular.module("app.dashboard").component("deactivateAccountEmailVerify",{templateUrl:"app/views/components/user/deactivateAccountEmailVerify.b7955210.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","$rootScope","$scope","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u),r.setDynamicBodyClassName("popup__overlay"),void 0}var s,u=this;u._componentType="user/terms-of-use",u._componentFilter={},u._componentSoftFilter={},u._data={},u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},i.$on("userMessage",function(t,n){"user/terms-of-use"==n.dataType&&n.data.termsOfUse&&e.go("page.tierOneVerification")}),u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.pages").component("disclaimer",{templateUrl:"app/views/components/user/disclaimer.25429e93.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s)}var s=this,u=null;s._componentType="user/terms-of-use/agree",s._componentFilter={},s._componentSoftFilter={},s._data={},void 0,s.generateRequestData=function(){return a.generateRequestData(s)},s.render=function(){},s.refresh=function(){},s.activateSubmit=function(){$(".disclaimer-description").on("scroll",function(){$(this).scrollTop()+$(this).innerHeight()>=.95*$(this)[0].scrollHeight&&$("#buttonAgree").prop("disabled",!1)})},s.submit=function(){o.getSocket(s.generateRequestData())},s.$onInit=function(){u=n.AddComponent(s),s.activateSubmit()},s.$onDestroy=function(){n.RemoveComponent(u)},c()}angular.module("app.dashboard").component("disclaimerAgree",{template:'<button type="text" class="button button--small smaller button--primary" disabled="disabled" id="buttonAgree" ng-click="$ctrl.submit()">I agree</button>',controller:e}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u),r.setDynamicBodyClassName("popup__overlay")}var s,u=this;u.loaded=!1,u.userNotAdult=!1,u.notSupportedCountry=!1,u.notSupportedCountryUsa=!1,u.statusWait=!1,u.messageActive=!1,u.statusUnderReview=!1,u.statusInitialization=!1,u.initializationPending=!1,u.readyForVerificationInit=!1,u.noResponse=!1,u.template="app/views/components/user/idNowVerificationTemplate.8fc3aedf.html",u.messagesTemplate="app/views/components/user/idNowVerificationMessages.a9f4a47f.html",u._componentType="verification/info",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},i.$on("userMessage",function(n,o){var a=_.find(o.data.attributes,function(e){return"DOCUMENT"==e.kind})||{};"verification/conversation/wait"==o.dataType&&(u.statusWait=!0,u.template=u.messagesTemplate,u.messageActive=!0,u.loaded=!0),"verification/attribute"==o.dataType?"INITIALIZATION"==o.data.status?t(function(){u.loaded=!0,u.readyForVerification||u.messageActive||u.statusWait||(u.initializationPending=!0,t(function(){1==u.readyForVerification?(u.readyForVerificationInit=!0,t(function(){u.readyForVerification=!0,u.initializationPending=!1},3e3)):(u.noResponse=!0,t(function(){e.go("app.account")},3e3))},3e3))},1e3):"NO_SUPPORTED_COUNTRY"==o.data.status?(u.notSupportedCountry=!0,u.template=u.messagesTemplate,u.messageActive=!0):"NO_SUPPORTED_COUNTRY_US"==o.data.status?(u.notSupportedCountryUsa=!0,u.template=u.messagesTemplate,u.messageActive=!0):"READY_FOR_VERIFICATION"!=o.data.status||u.statusWait?"IN_PROCESS"!=o.data.status&&"VERIFIED_UNDER_REVIEW"!=o.data.status||(u.statusUnderReview=!0,u.template=u.messagesTemplate,u.messageActive=!0,u.showIframe=!1):u.readyForVerification=!0:"verification/info"==o.dataType&&("INITIALIZATION"==a.status?u.statusInitialization=!0:"NO_SUPPORTED_COUNTRY"==a.status?(u.notSupportedCountry=!0,void 0):"NO_SUPPORTED_COUNTRY_US"==a.status?u.notSupportedCountryUsa=!0:"IN_PROCESS"==a.status||"VERIFIED_UNDER_REVIEW"==a.status?u.statusUnderReview=!0:"READY_FOR_VERIFICATION"==a.status?(u.submittedNationality=!0,u.readyForVerification=!0,void 0):"DECLINE"!=a.status&&"VERIFIED"!=a.status||(u.loaded=!1,e.go("app.account")),a.status&&"READY_FOR_VERIFICATION"!=a.status&&(u.template=u.messagesTemplate,u.messageActive=!0,u.loaded=!0,void 0,void 0,void 0))}),u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("idNowVerification",{templateUrl:"app/views/components/user/idNowVerification.e8ea8ac4.html",controller:e,bindings:{readyForVerification:"<",showIframe:"<",loaded:"<",formFilled:"<",notSupportedCountry:"<",notSupportedCountryUsa:"<"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s){function u(){a.checkComponent(l)}var l=this;s[0].getElementsByClassName("form-continue-button");l.formFilled=!1,l.selectedCountry={},l.selectedNationality={},l.birthday="",l.birthdayAsString="",l.invalidDate=!1,l.userDataLoaded=!1,l.nationalityCode="",l.countryCode="",l.dropDownData=[],l._componentType="verification/tier-two/init/v2",l._componentFilter={},l._componentSoftFilter={},l._data={};var d=null;l.back=function(){l.formFilled=!1,l.birthdayPrefilled=moment.utc(l.birthdayAsString+"T12:00:00Z").format("YYYY MMM DD")},l.goToPreview=function(){l.birthdayAsString=l.selectedYear.name+"-"+l.selectedMonth.orderNum+"-"+l.selectedDay.name,l.birthdayAsNumber=Number(l.selectedYear.name+l.selectedMonth.orderNum+l.selectedDay.name),l.birthdayIsValid=l.checkBirthdayIsValid(l.birthdayAsString),l.userIsAdult=l.checkUserIsAdult(l.birthdayAsNumber),l.phoneNumberFormatted=angular.element("#identityVerificationInitPhoneNumber").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164),!l.userIsAdult&&l.birthdayIsValid?(l.userNotAdult=!0,l.invalidDate=!1):l.birthdayIsValid===!1?(l.invalidDate=!0,l.userNotAdult=!1):(l.invalidDate=!1,l.userNotAdult=!1,l.formFilled=!0)},l.proceedToVerification=function(){l.readyForVerification=!0,l.initializationPending=!1},l.generateRequestData=function(){return l._componentFilter.birthday={year:Number(l.selectedYear.name),month:Number(l.selectedMonth.orderNum),day:Number(l.selectedDay.name)},l._componentFilter.birthplace=l.birthplace,l._componentFilter.city=l.city,l._componentFilter.country=l.selectedCountry.alpha2Code,l._componentFilter.firstName=l.firstName,l._componentFilter.gender="MALE",l._componentFilter.lastName=l.lastName,l._componentFilter.nationality=l.selectedNationality.alpha2Code,l._componentFilter.street=l.street,l._componentFilter.title="",l._componentFilter.zipcode=l.zipcode,l._componentFilter.phoneNumber=l.phoneNumber,a.generateRequestData(l)},l.render=function(){},l.refresh=function(){},l.$onInit=function(){d=n.AddComponent(l),o.getSocket(a.generateRequestData({_componentType:"verification/tier-two/prefill",_componentFilter:{},_data:{}}))},i.$watch("$ctrl.userDataLoaded",function(e,t){e&&o.getSocket(a.generateRequestData({_componentType:"verification/get-countries-list",_componentFilter:{},_data:{}}))}),i.$watch("$ctrl.birthday",function(e,t){e&&(l.birthdayPrefilled=moment.utc(l.birthday).format("YYYY MMM DD"))}),i.$watchGroup(["$ctrl.selectedYear","$ctrl.selectedMonth","$ctrl.selectedDay"],function(e,t){e&&l.invalidDate?l.invalidDate=!1:e&&l.userNotAdult&&(l.userNotAdult=!1)}),i.$on("userMessage",function(e,n){"verification/tier-one-new/init"==n.dataType?(l.birthday=n.data.birthday,l.birthday&&(l.birthday.month=n.data.birthday.month-1,l.lockFields=!0),l.birthplace=n.data.birthplace,l.city=n.data.city,l.countryCode=n.data.country,l.firstName=n.data.firstName,l.lastName=n.data.lastName,l.nationalityCode=n.data.nationality,l.street=n.data.street,l.zipcode=n.data.zipcode,l.phoneNumber=n.data.phoneNumber,l.userDataLoaded=!0,t(function(){l.loaded=!0},300)):"verification/countries-list"==n.dataType?(l.dropDownData=n.data.countriesList,l.selectedCountry=_.find(n.data.countriesList,function(e){return e.alpha2Code==l.countryCode})||"",l.selectedNationality=_.find(n.data.countriesList,function(e){return e.alpha2Code==l.nationalityCode})||""):"exceptions"==n.dataType&&(l.incorrectFilled=n.data.message,l.loaded=!0)}),l.checkBirthdayIsValid=function(e){var t=/^\d{4}-\d{2}-\d{2}$/;if(!e.match(t))return l.invalidDate=!0,!1;var n;return 0|(n=new Date(e))?n.toISOString().slice(0,10)==e:(l.invalidDate=!0,!1)},l.checkUserIsAdult=function(e){return moment().diff(moment(e,"YYYYMMDD"),"years")>=18},l.$onDestroy=function(){n.RemoveComponent(d)},l.submit=function(){o.getSocket(l.generateRequestData()),l.loaded=!1},u()}angular.module("app.dashboard").component("idNowVerificationForm",{templateUrl:"app/views/components/user/idNowVerificationForm.314da3bd.html",controller:e,bindings:{phoneNumber:"=",readyForVerification:"=",initializationPending:"=",readyForVerificationInit:"<",messageActive:"<",noResponse:"<",loaded:"=",formFilled:"=",notSupportedCountry:"=",notSupportedCountryUsa:"=",birthdayPrefilled:"<",selectedYear:"<",selectedMonth:"<",selectedDay:"<"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope","$filter","$element"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){a.checkComponent(l),r.setDynamicBodyClassName("popup__overlay")}var u,l=this;l.statusAborted=!1,l.checklistActive=!1,l.iFrameUrl="",l.showIframe=!1,l.idNowCode="",l._componentType="verification/get-conversation-url",l._componentFilter={},l._componentSoftFilter={},l._data={},void 0,l.generateRequestData=function(){return a.generateRequestData(l)},l.render=function(){},l.refresh=function(){},l.$onInit=function(){u=n.AddComponent(l),o.getSocket(l.generateRequestData())},l.$onDestroy=function(){n.RemoveComponent(u)},l.proceed=function(){l.checklistActive=!l.checklistActive},l.submit=function(){l.showIframe=!0},i.$on("userMessage",function(e,t){"verification/conversation-url"==t.dataType&&t.data.url?(i.trustSrc=function(e){return c.trustAsResourceUrl(e)},l.iFrameUrl=i.trustSrc(t.data.url),l.idNowCode=t.data.idnow,void 0,l.loaded=!0):"verification/attribute"==t.dataType&&"READY_FOR_VERIFICATION"==t.data.status&&(l.statusAborted=!0,l.showIframe=!1)}),s()}angular.module("app.dashboard").component("idNowVerificationProcess",{templateUrl:"app/views/components/user/idNowVerificationProcess.2428ea95.html",controller:e,bindings:{phoneNumber:"<",readyForVerification:"=",showIframe:"=",loaded:"=",statusAborted:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope","$sce"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){a.checkComponent(u)}var u=this,l=null;u._componentType="verification/info",u._componentFilter={},u._componentSoftFilter={},u._data={},u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(e){},u.refresh=function(){o.getSocket(u.generateRequestData())},u.$onInit=function(){l=n.AddComponent(u),u.refresh(),o.getSocket({dataType:"user/terms-of-use",response:{dataType:"user/terms-of-use"}}),u._componentFilter=c.getRedirectParams("tierOneKeys"),u._componentFilter&&u._componentFilter.idScanStatus&&("SUCCESS"==u._componentFilter.idScanStatus?(u.isVerified=!0,o.getSocket({dataType:"in-process-first-level-verification"})):"ERROR"==u._componentFilter.idScanStatus&&(110==u._componentFilter.errorCode?(u.errorNetworkProblem=!0,u.verificationNotCompleted=!0):210==u._componentFilter.errorCode?(u.errorInvalidToken=!0,u.verificationNotCompleted=!0):310==u._componentFilter.errorCode?u.isDenied=!0:320==u._componentFilter.errorCode?(u.errorCanNotProcess=!0,u.verificationNotCompleted=!0):340==u._componentFilter.errorCode&&(u.errorCaptureRestricted=!0,u.verificationNotCompleted=!0),o.getSocket({dataType:"abort-first-level-verification"})),u.showMessage=!0,u.loaded=!0),c.clearRedirectParams("tierOneKeys")},i.$on("userMessage",function(t,n){var o=_.find(n.data.attributes,function(e){return"FIRST_LEVEL_DOCUMENT"==e.kind})||{};"user/terms-of-use"==n.dataType&&0==n.data.termsOfUse&&e.go("page.disclaimer"),"verification/attribute"==n.dataType&&("PHONE_IN_VERIFICATION"==n.data.status?u.enterVerificationCode=!0:"PHONE_VERIFIED"==n.data.status&&(u.sendDocuments=!0,u.enterVerificationCode=!1)),"verification/info"!=n.dataType&&"verification/attributes"!=n.dataType||("PHONE_IN_VERIFICATION"==o.status?u.enterVerificationCode=!0:"PHONE_VERIFIED"==o.status?(u.sendDocuments=!0,u.enterVerificationCode=!1,u.loaded=!0):"IN_PROCESS"!=o.status&&"VERIFIED"!=o.status&&"DECLINE"!=o.status||e.go("app.account"))}),u.$onDestroy=function(){n.RemoveComponent(l)},s()}angular.module("app.dashboard").component("tierOneVerification",{templateUrl:"app/views/components/user/tierOneVerification.abd80013.html",controller:e,bindings:{}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r){var i,c=this;c._componentType="cancel-phone-first-level-verification",c._componentFilter={},c.generateRequestData=function(){return r.generateRequestData(c)},c.refresh=function(){},c.render=function(e){},c.submit=function(){a.getSocket(c.generateRequestData())},c.$onInit=function(){i=o.AddComponent(c)},e.$on("userMessage",function(e,t){"verification/attribute"==t.dataType&&"CANCELED"==t.data.status&&n.go("app.account")}),c.$onDestroy=function(){o.RemoveComponent(i)}}angular.module("app.dashboard").component("tierOneVerificationCancel",{template:'<a ng-click="$ctrl.submit()" class="button button--cancel button--small">Cancel</a>',controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(s)}var s=this;s.enterVerificationCode=!0,s.phoneNumberUsed=!1,s._componentType="verify-phone-first-level-verification",s._componentFilter={},s._componentSoftFilter={},s._data={},s.errorMessage=!1;var u=null;s.generateRequestData=function(){return s._componentFilter.code=s.code,a.generateRequestData(s)},s.render=function(e){},s.refresh=function(){},s.$onInit=function(){u=n.AddComponent(s),t(function(){s.loaded=!0},200)},s.$onDestroy=function(){n.RemoveComponent(u)},s.submit=function(){o.getSocket(s.generateRequestData()),s.submited=!0},i.$on("userMessage",function(e,t){"first-level-verification-wrong-code"==t.dataType&&(s.submited=!1,s.errorMessage=!0),"first-level-phone-already-verified"==t.dataType&&(s.phoneNumberUsed=!0)}),i.$watch("$ctrl.code",function(e,t){e&&(s.errorMessage=!1)}),c()}angular.module("app.dashboard").component("tierOneVerificationCode",{templateUrl:"app/views/components/user/tierOneVerificationCode.a59838e0.html",controller:e,bindings:{loaded:"=",enterVerificationCode:"<"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){a.checkComponent(u)}var u=this,l=null;u.loaded=!1,u.authorizationToken="",u._componentType="get-jumio-code-first-level-verification",u._componentFilter={},u._componentSoftFilter={},u._data={},i.$watch("$ctrl.authorizationToken",function(e,t){e&&$.getScript("https://lon.netverify.com/widget/jumio-verify/2.0/iframe-script.js").done(function(e,t){JumioClient.setVars({authorizationToken:u.authorizationToken,clientHeight:"medium",clientWidth:"responsive"}).initVerify("JUMIOIFRAME").loadVerify()})}),u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(e){},u.refresh=function(){},u.$onInit=function(){l=n.AddComponent(u),o.getSocket(u.generateRequestData())},i.$on("userMessage",function(e,t){"jumio-init-code-web"==t.dataType&&(u.authorizationToken=t.data.authorizationToken,u.loaded=!0)}),u.$onDestroy=function(){n.RemoveComponent(l)},s()}angular.module("app.dashboard").component("tierOneVerificationDocuments",{templateUrl:"app/views/components/user/tierOneVerificationDocuments.02293677.html",controller:e,bindings:{loaded:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope","$element"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c){function s(){a.checkComponent(u)}var u=this,l=null,d="#identityVerificationInitPhoneNumber";u._componentType="init-first-level-verification",u._componentFilter={},u._componentSoftFilter={},u._data={},u.$onChanges=function(){t(function(){angular.element(d).intlTelInput("setCountry",u.selectedNationality.alpha2Code.toLowerCase());var e=$(d).attr("placeholder");$(d).attr("placeholder","Example: "+e)},250)},u.back=function(){u.submittedNationality=!1},u.generateRequestData=function(){return u._componentFilter.phoneNumber=angular.element(d).intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164),u._componentFilter.nationality=u.selectedNationality.alpha2Code,a.generateRequestData(u)},u.render=function(e){},u.refresh=function(){},u.$onInit=function(){l=n.AddComponent(u),t(function(){u.loaded=!0,t(function(){$("#identityVerificationInitPhoneNumber").focus()})},200),u.selectedNationality.supported===!1&&(u.notSupportedCountryUsa=!0),jQuery(document.body).on("blur","#identityVerificationInitPhoneNumber",function(){var e=angular.element("#identityVerificationInitPhoneNumber").intlTelInput("getNumber",intlTelInputUtils.numberFormat.E164);e&&angular.element("#identityVerificationInitPhoneNumber").intlTelInput("setNumber",e)})},i.$on("userMessage",function(e,t){"first-level-verification-init-success"==t.dataType&&(u.enterVerificationCode=!0),"exceptions"==t.dataType&&(u.errorMessage=t.data.message)}),u.submit=function(){o.getSocket(u.generateRequestData())},u.$onDestroy=function(){n.RemoveComponent(l)},s()}angular.module("app.dashboard").component("tierOneVerificationForm",{templateUrl:"app/views/components/user/tierOneVerificationForm.a1f22c37.html",controller:e,bindings:{selectedNationality:"<",submittedNationality:"=",loaded:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope","$element"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){var c,s=this;s._componentType="resend-sms-first-level-verification",s._componentFilter={},s._componentSoftFilter={},s._data={},s.submited=!1,s.generateRequestData=function(){return r.generateRequestData(s)},s.refresh=function(){},s.render=function(e){},s.send=function(){s.submited=!0,a.getSocket(s.generateRequestData())},s.$onInit=function(){c=o.AddComponent(s)},e.$on("userMessage",function(e,t){"verification/attribute"==t.dataType&&(s.submited=!1)}),s.$onDestroy=function(){o.RemoveComponent(c)}}angular.module("app.dashboard").component("tierOneVerificationResend",{template:'<a ng-if="!$ctrl.submited" ng-click="$ctrl.send()">Resend</a><span ng-if="$ctrl.submited">Sending ...</span>',controller:e,bindings:{}}),e.$inject=["$scope","$http","$state","ComponentResolver","EventBus","ComponentHelper","OAuth"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u),u.createDropDownYearData(),u.createDropDownMonthData(),u.createDropDownDayData()}var s,u=this;u.currencyList=!1,u.dropDownYearData=[],u.dropDownMonthData=[],u.dropDownDayData=[];var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.createDropDownYearData=function(){for(var e=(new Date).getFullYear(),t=e-100,n=e-t-18,o=0;o<n;o++){var a=e-o-18;u.dropDownYearData[u.dropDownYearData.length]={name:a.toString()}}},void 0,u.createDropDownMonthData=function(){for(var e="",t=l.length,n=0;n<t;n++)e=n<9?"0"+(n+1):(n+1).toString(),u.dropDownMonthData.push({name:l[n],orderNum:e})},void 0,u.createDropDownDayData=function(){for(var e=0,t=31,n=1;n<=t;n++)e=n<10?"0"+n:n.toString(),u.dropDownDayData.push({name:e})},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u)},u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("userBirthday",{templateUrl:"app/views/components/user/userBirthday.8399b293.html",controller:e,bindings:{selectedYear:"=",selectedMonth:"=",selectedDay:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u),u.createDropDownYearData(),u.createDropDownMonthData(),u.createDropDownDayData()}var s,u=this;u.dropDownYearData=[],u.dropDownMonthData=[],u.dropDownDayData=[];var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u._componentType="",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.createDropDownYearData=function(){for(var e=(new Date).getFullYear(),t=e-100,n=e-t-18,o=0;o<n;o++){var a=e-o-18;u.dropDownYearData[u.dropDownYearData.length]={name:a.toString()}}},u.createDropDownMonthData=function(){for(var e="",t=l.length,n=0;n<t;n++)e=n<9?"0"+(n+1):(n+1).toString(),u.dropDownMonthData.push({name:l[n],orderNum:e})},u.createDropDownDayData=function(){for(var e=0,t=31,n=1;n<=t;n++)e=n<10?"0"+n:n.toString(),u.dropDownDayData.push({name:e})},i.$watch("$ctrl.birthdayPrefilled",function(e,t){if(e){var n=moment(u.birthdayPrefilled,"YYYY MMM DD");u.selectedYear=_.find(u.dropDownYearData,function(e){return e.name==n.format("YYYY")})||{},u.selectedMonth=_.find(u.dropDownMonthData,function(e){return e.name==n.format("MMM")})||{},u.selectedDay=_.find(u.dropDownDayData,function(e){return e.name==n.format("DD")})||{}}}),u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u)},u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("userBirthdayTierTwo",{templateUrl:"app/views/components/user/userBirthdayTierTwo.4b2862a2.html",controller:e,bindings:{birthdayPrefilled:"<",selectedYear:"=",selectedMonth:"=",selectedDay:"=",lockFields:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.dropDownData=[],u.selectedCountry="",u.userCountryInputFocused=!1,u._componentType="verification/get-countries-list",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.$onChanges=function(){u.selected&&(u.selectedCountry=u.selected)},i.$watch("$ctrl.selectedCountry",function(e,t){e&&(u.selected=u.selectedCountry)}),u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},i.$on("userMessage",function(e,n){"verification/countries-list"==n.dataType&&(u.dropDownData=n.data.countriesList,t(function(){u.loaded=!0,t(function(){$("#firstName").focus()})},200))}),u.refresh=function(){},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("userCountry",{templateUrl:"app/views/components/user/userCountry.3f9e38c0.html",controller:e,bindings:{selected:"=",loaded:"=",userCountryInputFocused:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){o.checkComponent(s)}var s=this;s.valueRevealed=!1,s._componentType="get-user-balance",s._componentFilter={},s._componentSoftFilter={},s._data={};var u=null;s.loaded=!1,s.togglePortfolioValue=function(){s.valueRevealed=!s.valueRevealed},s.generateRequestData=function(){return o.generateRequestData(s)},s.render=function(){},i.$on("userMessage",function(e,t){"user-balance"==t.dataType&&(s.portfolioValue=t.data.balance,s.loaded=!0)}),s.refresh=function(){n.getSocket(s.generateRequestData())},a.$on("$stateChangeSuccess",function(){"app.portfolio"!=r.current.name&&s.refresh()}),s.$onInit=function(){u=t.AddComponent(s),"app.portfolio"!=r.current.name&&n.getSocket(s.generateRequestData())},s.$onDestroy=function(){t.RemoveComponent(u)},c()}angular.module("app.dashboard").component("userDashboardFinance",{templateUrl:"app/views/components/user/userDashboardFinance.641a5e0d.html",
controller:e,bindings:{key:"=",containerHeight:"<"}}),e.$inject=["$timeout","ComponentResolver","EventBus","ComponentHelper","$rootScope","$state","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(){a.checkComponent(s)}var c,s=this;s.selfDeclarationConfirmed=!1,s._componentType="self-declaration/confirm-self-declaration",s._componentFilter={},s._componentSoftFilter={},s._data={},void 0,s.generateRequestData=function(){return s._componentFilter.professional=s.professional,s._componentFilter.knowledgeable=s.knowledgeable,a.generateRequestData(s)},s.submit=function(){o.getSocket(s.generateRequestData())},s.render=function(){},r.$on("userMessage",function(e,t){"user"==t.dataType&&(t.data.selfDeclaration?"KNOWLEDGEABLE"==t.data.selfDeclaration.type&&t.data.selfDeclaration.version<s._data.knowledgeableVersion||"PROFESSIONAL"==t.data.selfDeclaration.type&&t.data.selfDeclaration.version<s._data.professionalVersion?s.selfDeclarationConfirmed=!1:s.selfDeclarationConfirmed=!0:s.selfDeclarationConfirmed=!1,s.loaded=!0),"self-declaration/self-declaration-text"==t.dataType&&(s._data=t.data,o.getSocket({dataType:"user"})),"self-declaration/self-declaration"==t.dataType&&t.data.type&&(s.selfDeclarationConfirmed=!0)}),s.refresh=function(){},s.$onInit=function(){c=n.AddComponent(s),o.getSocket({dataType:"self-declaration/get-self-declaration-text"})},s.$onDestroy=function(){n.RemoveComponent(c)},i()}angular.module("app.dashboard").component("userDeclaration",{templateUrl:"app/views/components/user/userDeclaration.c9b1fc71.html",controller:e,bindings:{selfDeclarationConfirmed:"=",kind:"@"}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,c,s,u){function l(){r.checkComponent(d),d.redirec_uri=config.oauth_redirect_url,d.oauth_site=config.oauth_site}var d=this;d.valueRevealed=!1,d._componentType="user",d._componentFilter={},d._componentSoftFilter={},d._data={};var p=null;d.loaded=!1,d.valueLoaded=!1,d.togglePortfolioValue=function(){d.valueRevealed=!d.valueRevealed},d.login=function(){c.login()},d.logout=function(){c.logout()},u.$on("userMessage",function(e,t){"user-balance"==t.dataType&&(d.portfolioValue=t.data.balance,d.valueLoaded=!0)}),d.generateRequestData=function(){return r.generateRequestData(d)},d.render=function(e){t(function(){d._data=e.data,d.loaded=!0})},n.$on("$stateChangeSuccess",function(){"app.portfolio"!=e.current.name&&a.getSocket({dataType:"get-user-balance",response:{dataType:"get-user-balance"}})}),d.errorHandler=function(e){return e.error?(i.showNotificationBanner(!0,"danger","Title: "+e.error,"Subtitle: "+e.error),!0):(i.showNotificationBanner(!1),!1)},d.refresh=function(){a.getSocket(d.generateRequestData())},d.$onInit=function(){p=o.AddComponent(d),d.refresh(),"app.portfolio"!=e.current.name&&a.getSocket({dataType:"get-user-balance",response:{dataType:"get-user-balance"}})},d.$onDestroy=function(){o.RemoveComponent(p)},l()}angular.module("app.dashboard").component("userInfo",{templateUrl:"app/views/components/user/userInfo.3e6345d7.html",controller:e,bindings:{key:"="}}),e.$inject=["$state","$timeout","$rootScope","ComponentResolver","EventBus","ComponentHelper","LayoutService","OAuth","$element","$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function c(){a.checkComponent(u)}var s,u=this;u.dropDownData=[],u.loaded=!1,u.userNationalityInputFocused=!1,u._componentType="verification/get-nationality-list",u._componentFilter={},u._componentSoftFilter={},u._data={},void 0,u.generateRequestData=function(){return a.generateRequestData(u)},u.render=function(){},i.$on("userMessage",function(e,n){"verification/nationality-list"==n.dataType&&(u.dropDownData=n.data.nationalityList,t(function(){u.loaded=!0,t(function(){$("#userNationality").focus()})},200))}),u.refresh=function(){},u.submit=function(){u.selectedNationality.name&&(u.loaded=!1,u.submittedNationality=!0)},u.$onInit=function(){s=n.AddComponent(u),o.getSocket(u.generateRequestData())},u.$onDestroy=function(){n.RemoveComponent(s)},c()}angular.module("app.dashboard").component("userNationality",{templateUrl:"app/views/components/user/userNationality.745ed345.html",controller:e,bindings:{loaded:"=",submittedNationality:"=",selectedNationality:"="}}),e.$inject=["$state","$timeout","ComponentResolver","EventBus","ComponentHelper","LayoutService","$scope"]}(),function(){"use strict";angular.module("app.services",[])}(),angular.module("app.services").factory("AssetService",["$http","LayoutService",function(e,t){function n(){o=e.get("rev-manifest.json?t="+Date.now()).then(function(e){return a&&!_.isEqual(a,e.data)&&(t.showNotificationBanner(!0,"info","We are currently updating our website. The new version will reload in 60 seconds"),setTimeout(function(){location.reload()},6e4)),a=e.data,e.data})["catch"](function(){return{}})}var o,a;return n(),setInterval(function(){n()},6e4),function(e){return o.then(function(t){return t[e]||e})}}]),angular.module("app.services").factory("LayoutService",["$rootScope",function(e){var t={};return t.setDynamicBodyClassName=function(t){e.app.layout.dynamicBodyClassName=t},t.showDepositAndWithdrawBanner=function(t){e.app.showDepositAndWithdrawBanner=t},t.showUserInfoBanner=function(t){e.app.showUserInfoBanner=t},t.showSubNavigation=function(t){e.app.showSubNavigation=t},t.showNotificationBanner=function(t,n,o,a,r,i){e.app.showNotificationBanner=t,e.app.bannerClassName=n,e.app.bannerTitle=o,e.app.bannerContent=a,e.app.bannerAction=r,e.app.dismissable=void 0==i||i},t.reset=function(){t.setDynamicBodyClassName(""),t.showDepositAndWithdrawBanner(!1),t.showUserInfoBanner(!1),t.showSubNavigation(!1),t.showNotificationBanner(!1)},t}]),angular.module("app.services").factory("NumberService",[function(){return{comparePrecision:function(e,t){var n=function(e){return Number(e||0).toFixed(8).split(".")[1].replace(/0+$/,"")};return n(e).length-n(t).length}}}]),function(){"use strict";angular.module("app.directives",[])}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,n,o,a){e(o.assetSrc).then(function(e){n.attr("src",e)})}}}angular.module("app.directives").directive("assetSrc",["AssetService",e])}(),angular.module("app.directives").directive("autofocus",function(){return{restrict:"A",scope:{},controller:["$scope","$timeout","$element",function(e,t,n){t(function(){n[0].focus()})}]}}),angular.module("app.directives").service("ngCopy",["$window",function(e){var t=angular.element(e.document.body),n=angular.element("<textarea/>");return n.css({position:"fixed",opacity:"0"}),function(e){n.val(e),t.append(n),n[0].select();try{var o=document.execCommand("copy");if(!o)throw o}catch(a){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}n.remove()}}]).directive("ngClickCopy",["ngCopy",function(e){return{restrict:"A",link:function(t,n,o){n.bind("click",function(t){e(o.ngClickCopy)})}}}]),angular.module("app.directives").directive("customCurrency",function(){return{restrict:"E",scope:{value:"<",showSign:"<",styling:"<",watcher:"=",currency:"<",decimals:"@",ticker:"@"},template:"{{sign}}{{number}}<span>{{styledNumber}}</span>{{crypto}}",controller:["$locale","$scope","$filter",function(e,t,n){function o(){var o=null;t.value&&_.isNumber(t.value)?t.value=Number(t.value):(t.value=Number(0),o=Number(0)),t.showSign&&(t.sign=t.value>0?"+":"");var a=function(e,t){var n=new RegExp("^-?\\d+(?:\\.\\d{0,"+t+"})?");return Number(e).toFixed(8).match(n)[0]},r=t.currency||t.ticker;if(r&&(_.isObject(r)||(r={type:["USD","EUR"].indexOf(r)!=-1?"fiat":"crypto",ticker:r,currencySymbol:{EUR:"‚Ç¨",USD:"$"}[r]||r})),r)if("fiat"==r.type){var i=2;void 0!==t.decimals&&(i=Number(t.decimals)),o=n("currency")(a(t.value,i),"",i),o="USD"===r.ticker?"$"+o:o+" "+("‚Ç¨"===r.currencySymbol?"EUR":r.currencySymbol)}else if("crypto"==r.type||"fund"==r.type){t.crypto="",r.ticker&&(t.crypto="¬†"+r.ticker);var i=6;void 0!==t.decimals&&(i=Number(t.decimals)),o=n("currency")(a(t.value,i),"",i)}t.styling&&0!=o?(o=o.split(e.NUMBER_FORMATS.DECIMAL_SEP),t.number=_.first(o),t.styledNumber="."+_.last(o)):t.number=o}o(),t.$watch("value",function(e){e&&o()}),t.$watch("currency",function(e){e&&o()}),t.$watch("ticker",function(e){e&&o()})}]}}),angular.module("app.directives").directive("digitalAssetsList",["$filter","$timeout","$window",function(e,t,n){function o(e){var t=e.list;if(t){0==t.filter(function(e){return e.rebalancedWeight>0}).length&&(t=t.map(function(e){return e.rebalancedWeight=1/t.length,e})),e.ulEl=$("ul",e.element[0]);var n=$(e.ulEl).width()+0;$("body:has(> ul.daa-list)")&&$("body > ul").remove();var o=$(e.ulEl).clone();o.css({position:"absolute",left:-1e4,top:0}),o.find("li").removeClass("ng-hide").css("width","auto"),o.find("li:last").find("a").text(e.list.length+" others"),$(document.body).append(o);var a=[];o.find("li").each(function(e){a.push($(this).width()+10)});var r=[];t.forEach(function(e,t){var o=n*e.rebalancedWeight;o<a[t]&&r.push(t)});var i,c=1;if(r.length>0){n-=a[a.length-1];var s,u=0;for(s=1;s<=t.length;s++){var l=t.slice(0,s),d=l.reduce(function(e,t){return e+t.rebalancedWeight},0),p=l.reduce(function(e,t,o){var r=n*t.rebalancedWeight/d;return r>=a[o]?e+1:e},0);if(p<u)break;u=p}r=[];var m=0;for(s=0;s<t.length;s++)s>=u?r.push(s):m+=t[s].rebalancedWeight;c=1/m,1==r.length?e.otherDigitalAssets=r.length+" other":e.otherDigitalAssets=r.length+" others",i=t.length-r.length+1}else r.push(t.length),i=t.length;var f=0;$(e.ulEl).find("li").each(function(o){if(r.indexOf(o)==-1){var s;s=o==t.length?a[a.length-1]:Math.floor(n*c*t[o].rebalancedWeight),$(this).removeClass("ng-hide").css("width",s).children().css("background","rgba(76,111,140,"+(.5-.4/i*f)+")"),f++}else $(this).addClass("ng-hide");e.loaded=!0})}}return{restrict:"E",scope:{list:"<",key:"=",loaded:"="},templateUrl:"app/views/directives/digitalAssetsList.1f7daf65.html",controller:["$scope",function(e){n.addEventListener("resize",function(){t(function(){o(e)},100)})}],link:function(e,n,a){e.element=n,e.$watch("list",function(n,a){t(function(){o(e)},200)})}}}]),function(){"use strict";function e(){return{restrict:"A",scope:{isolatedData:"<",isolatedSelected:"="},link:function(e,n,o,a){var r="",i=null;n.on("keydown",function(n){var o=n.currentTarget.nextElementSibling,a=!1;if(8==n.keyCode)r=r.substring(0,r.length-1);else{var c=new RegExp(t);c.test(n.key)&&1==n.key.length?r+=n.key:32==n.keyCode?(r+=n.key,n.preventDefault()):13==n.keyCode&&(n.preventDefault(),e.isolatedSelected=e.isolatedData[i],setTimeout(function(){$(n.delegateTarget).click()}),r="")}for(var s=0;s<e.isolatedData.length;s++){var u=o.children[s],l=$(o).scrollTop(),d=$(u).position().top;e.isolatedData[s].name.toLowerCase().substring(0,r.length)==r.toLowerCase()&&0==a&&($(o).animate({scrollTop:l+d},200),a=!0,i=s)}})}}}angular.module("app.directives").directive("dropdownSelectByTyping",[e]);var t="^[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]*$"}(),function(){"use strict";function e(){return{restrict:"A",scope:{},link:function(e,t,n,o){function a(e){return i.text(e+s),i.width()+c}function r(){t.css({width:a(t.val()),marginRight:0})}var i=$("<div>").css({position:"absolute",left:"-10000px",fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),whiteSpace:"pre",minWidth:t.css("minWidth")});$(document.body).append(i);var c=0,s="9";t.on("keydown",function(e){if(e.which>=48&&e.which<=57||[188,190].indexOf(e.which)!==-1){var n=a(t.val()),o=String.fromCharCode(e.which),i=a(t.val()+o);t.css({width:i,marginRight:n-i})}else[8].indexOf(e.which)!==-1&&setTimeout(r,1)}).on("keyup",r),t.on("$destroy",function(){i.remove()})}}}angular.module("app.directives").directive("inputAutoSize",[e])}(),function(){"use strict";function e(){return{restrict:"A",scope:{},link:function(e,n,o,a){n.on("paste",function(e){var o,a=(e.originalEvent.clipboardData.getData("text")||"").replace(/\s+/g,"");if(t.comma.test(a))o=parseFloat(a.replace(".","").replace(",","."));else{if(!t.dot.test(a))return;o=parseFloat(a.replace(",",""))}"number"==typeof o&&(n.val(o.toString()),n.triggerHandler("input"),e.preventDefault())})}}}angular.module("app.directives").directive("numberPaste",[e]);var t={comma:/^([+-])?(\d+\.)*(\d+),(\d{2})$/,dot:/^([+-])?(\d+,)*(\d+)(\.(\d+))?$/}}(),angular.module("app.directives").directive("scrollToBottom",["$document","$timeout",function(e,t){return{restrict:"A",link:function(t,n,o){var a=e[0].body,r=0,i=0;e.bind("scroll",function(){var e=$(n[0]),c=e.offset().top+e.height(),s=c-($(window).scrollTop()+$(window).height());s<$(window).height()/4&&(0==r?(t.$apply(function(){t.$eval(o.scrollToBottom)}),i=a.scrollHeight,r++):i!=a.scrollHeight&&(t.$apply(function(){t.$eval(o.scrollToBottom)}),i=a.scrollHeight))})}}}]),angular.module("app.directives").directive("showMoreText",function(){return{restrict:"A",scope:{},controller:["$scope","$timeout","$element","$state",function(e,t,n,o){var a='<a href="" class="show-more">Read more</a>';"app.dashboard"!=o.current.name&&t(function(){$(n[0]).wrapInner("<div class='show-more-wrapper' />");var e=$(n[0]).find(".show-more-wrapper"),t=$(n[0]).find("p:first-child"),o="<p>"+t.html()+"</p>";e.html().length>o.length&&($(n[0]).parent().append(a),e.addClass("collapsed")),$(".show-more").click(function(e){return e.preventDefault(),$(this).prev().children(".show-more-wrapper").removeClass("collapsed"),$(this).hide(),!1})},150)}]}}),function(){"use strict";angular.module("app.filters",[])}(),function(){"use strict";function e(){return function(e){return t[e]}}angular.module("app.filters").filter("transactionStatusTitle",e);var t={COMPLETED:"Completed",CANCELED:"Canceled",PENDING:"We are processing this transaction",IN_PROGRESS:"Pending",IN_VERIFICATION:"Waiting for your confirmation",FAIL:"Failed"}}(),function(){"use strict";function e(){return function(e){return _.isObject(e)&&e.name?e.name:"user"}}angular.module("app.filters").filter("userName",e)}(),/*!
 * jQuery numberMask Plugin v1.0.0
 *
 * Licensed under the MIT License
 * Authors: Konstantin Krivlenia
 *          krivlenia@gmail.com
 * Site:  https://github.com/Mavrin/maskInput
 */
function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var t=require("jquery");module.exports=e(t)}else e(jQuery)}(function(e){return e.fn.numberMask=function(t){var n,o={type:"int",beforePoint:10,afterPoint:2,defaultValueInput:0,allowNegative:!1,decimalMark:["."],pattern:""},a=function(e){var t=e.which;if(e.ctrlKey||e.altKey||e.metaKey||t<32)return!0;if(t){var a=String.fromCharCode(t),r=e.target.value,c=i(e.target);return r=r.substring(0,c.start)+a+r.substring(c.end),o.allowNegative&&"-"===r||n.test(r)}},r=function(t){var n=e(t.currentTarget);n.val()!=c(n)&&n.val(c(n))},i=function(e){var t,n,o,a,r,i=0,c=0,s=!1;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(i=e.selectionStart,c=e.selectionEnd):(n=document.selection.createRange(),n&&n.parentElement()==e&&(a=e.value.length,t=e.value.replace(/\r\n/g,"\n"),o=e.createTextRange(),o.moveToBookmark(n.getBookmark()),r=e.createTextRange(),r.collapse(!1),o.compareEndPoints("StartToEnd",r)>-1?i=c=a:(i=-o.moveStart("character",-a),i+=t.slice(0,i).split("\n").length-1,o.compareEndPoints("EndToEnd",r)>-1?c=a:(c=-o.moveEnd("character",-a),c+=t.slice(0,c).split("\n").length-1)))),i-c!=0&&(s=!0),{start:i,end:c,statusSelection:s}},c=function(e){var t=e.val();return n.test(t)?t:o.defaultValueInput},s=function(){for(var e="(\\"+o.decimalMark[0],t=1;t<o.decimalMark.length;t++)e+="|\\"+o.decimalMark[t];return e+=")"};if(this.bind("keypress",a).bind("input",r),t&&(t.decimalMark&&"string"===e.type(t.decimalMark)&&(t.decimalMark=[t.decimalMark]),e.extend(o,t)),"object"==typeof o.pattern&&o.pattern instanceof RegExp)n=o.pattern;else{var u=o.allowNegative?"[-]?":"",l="^"+u+"\\d{1,"+o.beforePoint+"}$",d="^"+u+"\\d{1,"+o.beforePoint+"}"+s()+"\\d{0,"+o.afterPoint+"}$";n="int"==o.type?new RegExp(l):new RegExp(l+"|"+d)}return this},e});